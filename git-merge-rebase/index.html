<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="icon" href="https://wanted2.github.io/assets/images/favicon.ico">

<title>So sánh git merge và git rebase | AiFi</title>

 
    
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-2CDTCF0EP6" crossorigin="anonymous"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-2CDTCF0EP6');
        </script>
    


<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>So sánh git merge và git rebase | AiFi</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="So sánh git merge và git rebase" />
<meta name="author" content="tuan" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="git merge và git rebase là 2 câu lệnh quen thuộc với lập trình viên chỉ để giải quyết cùng 1 bài toán: với 2 branches được phát triển song song, nay cần migrate các tính năng của branch feature vào branch chính (main). Vấn đề là làm thế nào? Một cách chi tiết thì chỉ có 2 cách tương ứng với 2 câu lệnh ở trên tiêu đề bài viết mà chúng ta sẽ đi sâu trong bài này." />
<meta property="og:description" content="git merge và git rebase là 2 câu lệnh quen thuộc với lập trình viên chỉ để giải quyết cùng 1 bài toán: với 2 branches được phát triển song song, nay cần migrate các tính năng của branch feature vào branch chính (main). Vấn đề là làm thế nào? Một cách chi tiết thì chỉ có 2 cách tương ứng với 2 câu lệnh ở trên tiêu đề bài viết mà chúng ta sẽ đi sâu trong bài này." />
<meta property="og:site_name" content="AiFi" />
<meta property="og:image" content="/https://wanted2.github.io/assets/images/git.svg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-10-08T00:00:00+09:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="/https://wanted2.github.io/assets/images/git.svg" />
<meta property="twitter:title" content="So sánh git merge và git rebase" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"tuan"},"dateModified":"2021-10-08T00:00:00+09:00","datePublished":"2021-10-08T00:00:00+09:00","description":"git merge và git rebase là 2 câu lệnh quen thuộc với lập trình viên chỉ để giải quyết cùng 1 bài toán: với 2 branches được phát triển song song, nay cần migrate các tính năng của branch feature vào branch chính (main). Vấn đề là làm thế nào? Một cách chi tiết thì chỉ có 2 cách tương ứng với 2 câu lệnh ở trên tiêu đề bài viết mà chúng ta sẽ đi sâu trong bài này.","headline":"So sánh git merge và git rebase","image":"/https://wanted2.github.io/assets/images/git.svg","mainEntityOfPage":{"@type":"WebPage","@id":"/https://wanted2.github.io/git-merge-rebase/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/https://wanted2.github.io/assets/images/favicon.ico"},"name":"tuan"},"url":"/https://wanted2.github.io/git-merge-rebase/"}</script>
<!-- End Jekyll SEO tag -->


<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    
<link href="https://wanted2.github.io/assets/css/screen.css" rel="stylesheet">

<link href="https://wanted2.github.io/assets/css/main.css" rel="stylesheet">

<script src="https://wanted2.github.io/assets/js/jquery.min.js"></script>
<script src="https://kit.fontawesome.com/d0b91d895e.js" crossorigin="anonymous"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true
    }
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript" crossorigin="anonymous"></script>
<script src="https://d3js.org/d3.v4.js" crossorigin="anonymous"></script>
<!-- <script src="https://bl.ocks.org/mbostock/raw/4061502/0a200ddf998aa75dfdb1ff32e16b680a15e5cb01/box.js" crossorigin="anonymous"></script> -->
</head>


<body class="layout-post">
	<!-- defer loading of font and font awesome -->
	<noscript id="deferred-styles">
		<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	</noscript>


<!-- Begin Menu Navigation
================================================== -->
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">

    <div class="container pr-0">

    <!-- Begin Logo -->
    <a class="navbar-brand" href="https://wanted2.github.io/">
    <img src="https://wanted2.github.io/assets/images/favicon.ico" alt="AiFi">
    </a>
    <!-- End Logo -->

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarMediumish">

        <!-- Begin Menu -->

            <ul class="navbar-nav ml-auto">

                
                <li class="nav-item">
                
                <a class="nav-link" href="https://wanted2.github.io/">Blog</a>
                </li>

                <li class="nav-item">
                <a class="nav-link" href="https://wanted2.github.io/about">About</a>
                </li>

                <li class="nav-item">
                <a class="nav-link" href="https://wanted2.github.io/projects">Projects</a>
                </li>

                <!-- <li class="nav-item">
                <a target="_blank" class="nav-link" href="https://bootstrapstarter.com/bootstrap-templates/template-mediumish-bootstrap-jekyll/"> Docs</a>
                </li>

                <li class="nav-item">
                <a target="_blank" class="nav-link" href="https://www.wowthemes.net/themes/mediumish-wordpress/"><i class="fab fa-wordpress-simple"></i> WP Version</a>
                </li>

                <li class="nav-item">
                <a target="_blank" class="nav-link" href="https://www.wowthemes.net/themes/mediumish-ghost/"><i class="fab fa-snapchat-ghost"></i> Ghost Version</a>
                </li>

                <li class="nav-item">
                <a target="_blank" class="nav-link" href="https://github.com/wowthemesnet/mediumish-theme-jekyll"><i class="fab fa-github"></i> Fork on Github</a>
                </li> -->

                <!-- <script src="https://wanted2.github.io/assets/js/lunr.js"></script>


<style>
    .lunrsearchresult .title {color: #d9230f;}
    .lunrsearchresult .url {color: silver;}
    .lunrsearchresult a {display: block; color: #777;}
    .lunrsearchresult a:hover, .lunrsearchresult a:focus {text-decoration: none;}
    .lunrsearchresult a:hover .title {text-decoration: underline;}
</style>


<form class="bd-search" onSubmit="return lunr_search(document.getElementById('lunrsearch').value);">
    <input type="text" class="form-control text-small launch-modal-search" id="lunrsearch" name="q" maxlength="255" value="" placeholder="Type and enter..."/>
</form>

<div id="lunrsearchresults">
    <ul></ul>
</div>

<script src="https://wanted2.github.io/assets/js/lunrsearchengine.js"></script> -->

            </ul>

        <!-- End Menu -->

    </div>

    </div>
</nav>
<!-- End Navigation
================================================== -->

<div class="site-content">

<div class="container">

<!-- Site Title
================================================== -->
<div class="mainheading">
    <h1 class="sitetitle">AiFi</h1>
    <p class="lead">
        An AI Engineer's blog
    </p>
</div>

<!-- Content
================================================== -->
<div class="main-content">
    <!-- Begin Article
================================================== -->
<div class="container">
    <div class="row">

        <!-- Post Share -->
        <div class="col-md-2 pl-0">
            <div class="share sticky-top sticky-top-offset">
    <p>
        Share
    </p>
    <ul>
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://twitter.com/intent/tweet?text=So sánh git merge và git rebase&url=https://wanted2.github.io/git-merge-rebase/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                <i class="fab fa-twitter"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://facebook.com/sharer.php?u=https://wanted2.github.io/git-merge-rebase/" onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;">
                <i class="fab fa-facebook-f"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&url=https://wanted2.github.io/git-merge-rebase/" onclick="window.open(this.href, 'width=550,height=435');return false;">
                <i class="fab fa-linkedin-in"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="mailto:?subject=So sánh git merge và git rebase&body=https://wanted2.github.io/git-merge-rebase/" onclick="window.open(this.href, 'width=550,height=435');return false;">
                <i class="fas fa-envelope"></i>
            </a>
        </li>

    </ul>
    
    <div class="sep">
    </div>
    <ul>
        <li>
        <a class="small smoothscroll" href="#disqus_thread"></a>
        </li>
    </ul>
    
    
    <div class="sep">

    </div>
    <ul>
        <li class="small">
        2164
     words</li>
        <li class="small">12 minutes</li>
    </ul>
</div>

        </div>

        <!-- Post -->
        

        <div class="col-md-9 flex-first flex-md-unordered">
            <div class="mainheading">

                <!-- Author Box -->
                
                <div class="row post-top-meta">
                    <div class="col-xs-12 col-md-2 col-lg-2 text-left mb-4 mb-md-0">
                        
                        <img class="author-thumb" src="https://wanted2.github.io/assets/images/favicon.png" alt="AiFi">
                        
                    </div>
                    <div class="col-xs-12 col-md-10 col-lg-10 text-right">
                        <a target="_blank" class="link-dark" href="">AiFi</a>
                        <!-- <a target="_blank" href="" class="btn follow">Follow</a> -->
                        <!-- LikeBtn.com BEGIN -->
                        <span class="likebtn-wrapper" 
                            data-site_id="61cfccd36fd08b2d68c1929e"
                            data-theme="custom" 
                            data-icon_l_url="/assets/images/OK_EM.png" 
                            data-icon_l_url_v="/assets/images/OK_EM_clicked.png" 
                            data-identifier="/git-merge-rebase/" 
                            data-show_like_label="false" 
                            data-like_enabled="false" 
                            data-dislike_enabled="false" 
                            data-icon_dislike_show="false" 
                            data-voting_cancelable="false" 
                            data-counter_show="true"
                            data-counter_frmt="comma"></span>
                        <script>(function(d,e,s){if(d.getElementById("likebtn_wjs"))return;a=d.createElement(e);m=d.getElementsByTagName(e)[0];a.async=1;a.id="likebtn_wjs";a.src=s;m.parentNode.insertBefore(a, m)})(document,"script","//w.likebtn.com/js/w/widget.js");</script>
                        <!-- LikeBtn.com END -->
                        <span class="author-description"></span>
                    </div>
                </div>
                

                <!-- Post Title -->
                <h1 class="posttitle">So sánh git merge và git rebase</h1>

            </div>

            <!-- Adsense if enabled from _config.yml (change your pub id and slot) -->
            
            <!-- End Adsense -->

            <!-- Post Featured Image -->
            

            
            <img class="featured-image img-fluid lazyimg" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAACCAQAAAA3fa6RAAAADklEQVR42mNkAANGCAUAACMAA2w/AMgAAAAASUVORK5CYII=" data-src="https://wanted2.github.io/assets/images/git.svg" alt="So sánh git merge và git rebase">
            

            
            <!-- End Featured Image -->

            <!-- Post Content -->
            <div class="article-post">
                <!-- Toc if any -->
                
                    
                    <div class="toc mt-4 mb-4 lead">
                        <h3 class="font-weight-bold">Summary</h3>
                        <ul>
  <li><a href="#đôi-lời-mở">Đôi lời mở</a></li>
  <li><a href="#the-devil-is-in-the-details">The devil is in the details</a>
    <ul>
      <li><a href="#git-merge"><code class="language-plaintext highlighter-rouge">git merge</code></a></li>
      <li><a href="#git-rebase"><code class="language-plaintext highlighter-rouge">git rebase</code></a></li>
    </ul>
  </li>
  <li><a href="#lời-kết">Lời kết</a></li>
</ul>
                    </div>
                
                <!-- End Toc -->
                <p><code class="language-plaintext highlighter-rouge">git merge</code> và <code class="language-plaintext highlighter-rouge">git rebase</code> là 2 câu lệnh quen thuộc với lập trình viên chỉ để giải quyết cùng 1 bài toán: với 2 branches được phát triển song song, nay cần migrate các tính năng của branch feature vào branch chính (<code class="language-plaintext highlighter-rouge">main</code>).
Vấn đề là làm thế nào? Một cách chi tiết thì chỉ có 2 cách tương ứng với 2 câu lệnh ở trên tiêu đề bài viết mà chúng ta sẽ đi sâu trong bài này.
<!--more--></p>

<h1 id="đôi-lời-mở">Đôi lời mở</h1>

<p>Có khá nhiều hướng dẫn về cách tích hợp 2 nhánh công việc khác nhau, với nhiều cái tên “mỹ miều” như migration, integration và những tài liệu dài hàng trang chỉ để giải thích các cách làm.
Nhưng nếu là LTV lâu năm đều nhìn ra “tư duy” đằng sau và biết câu lệnh đơn thuần nhất để giải quyết: người mới có khi phải làm “bằng tay” cả khối công việc đó trong một vài tháng để chỉ hiểu được “tư duy” ẩn giấu, nhưng người đã biết thì chỉ cần 1 câu lệnh như <code class="language-plaintext highlighter-rouge">git merge</code> là giải quyết xong công việc.</p>

<p>Bạn thử nghĩ xem, nếu chỉ cần 1 vài giây là chạy xong <code class="language-plaintext highlighter-rouge">git merge</code> nhưng nếu bạn không biết và phải làm theo nguyên tắc: tức là chi tiết hóa và làm toàn bộ chi tiết của <code class="language-plaintext highlighter-rouge">git merge</code> bằng tay thì liệu 1 tháng có đủ không?</p>

<p>Vì vậy cách suy nghĩ đúng là <strong>chi tiết hóa rồi trừu tượng hóa</strong>. Chi tiết hóa giúp nhận ra vấn đề là gì, sau khi nắm rõ vấn đề, trừu tượng hóa giúp nhận ra “à với công việc này, thì sử dụng công cụ này sẽ chỉ cần 1 vài dòng lệnh là giải quyết vấn đề”.</p>

<p>Chỉ chi tiết hóa thôi thì sẽ bị sa đà vào tiểu tiết, lãng phí công số.
Chỉ trừu tượng hóa thôi thì sẽ có rủi ro là bị sai hướng vì không nắm rõ chi tiết.
Trừu tượng hóa trước thì sẽ bị sai hướng dẫn đến chi tiết hóa hoàn toàn sai lệch.</p>

<p>Vì vậy chỉ có cách suy nghĩ đúng là <strong>chi tiết hóa rồi trừu tượng hóa</strong>.</p>

<h1 id="the-devil-is-in-the-details">The devil is in the details</h1>

<p>Tại sao trừu tượng hóa trước thì không tốt? Đơn giản thôi: bởi để migrate tính năng, ngoài <code class="language-plaintext highlighter-rouge">merge</code> thì còn có <code class="language-plaintext highlighter-rouge">rebase</code>, nếu không chi tiết bài toán cũng như sự khác biệt giữa 2 câu lệnh thì có thể đi sai hướng và dùng sai công cụ.</p>

<h2 id="git-merge"><code class="language-plaintext highlighter-rouge">git merge</code></h2>

<p><img src="/assets/images/git-merge.svg" style="float: right; margin: 10px; width: 50%;" />
Đầu tiên chúng ta sẽ tìm hiểu cách thông dụng nhất và hay được khuyến khích dùng nhất để giải bài toán của chúng ta.
Bản chất của <code class="language-plaintext highlighter-rouge">git merge</code> thì cũng như hình vẽ bên: tạo 1 commit mới hẳn và chuyển tất cả tính năng của <code class="language-plaintext highlighter-rouge">feature/1</code> vào đó.
Đây là lựa chọn mặc định của <code class="language-plaintext highlighter-rouge">git merge</code>, bạn có thể thay đổi bằng thêm <code class="language-plaintext highlighter-rouge">--squash</code>.
Chi tiết câu lệnh <code class="language-plaintext highlighter-rouge">merge</code> thì như bên dưới có 2 options mặc định là <code class="language-plaintext highlighter-rouge">--ff</code> cho fast-forward và <code class="language-plaintext highlighter-rouge">--commit</code> (tức là tạo commit mới hay là merge commit).</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>git merge <span class="nt">-h</span>
usage: git merge <span class="o">[</span>&lt;options&gt;] <span class="o">[</span>&lt;commit&gt;...]
   or: git merge <span class="nt">--abort</span>
   or: git merge <span class="nt">--continue</span>

    <span class="nt">-n</span>                    <span class="k">do </span>not show a diffstat at the end of the merge
    <span class="nt">--stat</span>                show a diffstat at the end of the merge       
    <span class="nt">--summary</span>             <span class="o">(</span>synonym to <span class="nt">--stat</span><span class="o">)</span>
    <span class="nt">--log</span><span class="o">[=</span>&lt;n&gt;]           add <span class="o">(</span>at most &lt;n&gt;<span class="o">)</span> entries from shortlog to merge commit message
    <span class="nt">--squash</span>              create a single commit instead of doing a merge
    <span class="nt">--commit</span>              perform a commit <span class="k">if </span>the merge succeeds <span class="o">(</span>default<span class="o">)</span>
    <span class="nt">-e</span>, <span class="nt">--edit</span>            edit message before committing
    <span class="nt">--cleanup</span> &lt;mode&gt;      how to strip spaces and <span class="c">#comments from message</span>
    <span class="nt">--ff</span>                  allow fast-forward <span class="o">(</span>default<span class="o">)</span>
    <span class="nt">--ff-only</span>             abort <span class="k">if </span>fast-forward is not possible
    <span class="nt">--rerere-autoupdate</span>   update the index with reused conflict resolution <span class="k">if </span>possible
    <span class="nt">--verify-signatures</span>   verify that the named commit has a valid GPG signature
    <span class="nt">-s</span>, <span class="nt">--strategy</span> &lt;strategy&gt;
                          merge strategy to use
    <span class="nt">-X</span>, <span class="nt">--strategy-option</span> &lt;<span class="nv">option</span><span class="o">=</span>value&gt;
                          option <span class="k">for </span>selected merge strategy
    <span class="nt">-m</span>, <span class="nt">--message</span> &lt;message&gt;
                          merge commit message <span class="o">(</span><span class="k">for </span>a non-fast-forward merge<span class="o">)</span>
    <span class="nt">-F</span>, <span class="nt">--file</span> &lt;path&gt;     <span class="nb">read </span>message from file
    <span class="nt">-v</span>, <span class="nt">--verbose</span>         be more verbose
    <span class="nt">-q</span>, <span class="nt">--quiet</span>           be more quiet
    <span class="nt">--abort</span>               abort the current <span class="k">in</span><span class="nt">-progress</span> merge
    <span class="nt">--quit</span>                <span class="nt">--abort</span> but leave index and working tree alone
    <span class="nt">--continue</span>            <span class="k">continue </span>the current <span class="k">in</span><span class="nt">-progress</span> merge
    <span class="nt">--allow-unrelated-histories</span>
                          allow merging unrelated histories
    <span class="nt">--progress</span>            force progress reporting
    <span class="nt">-S</span>, <span class="nt">--gpg-sign</span><span class="o">[=</span>&lt;key-id&gt;]
                          GPG sign commit
    <span class="nt">--autostash</span>           automatically stash/stash pop before and after
    <span class="nt">--overwrite-ignore</span>    update ignored files <span class="o">(</span>default<span class="o">)</span>
    <span class="nt">--signoff</span>             add a Signed-off-by trailer
    <span class="nt">--no-verify</span>           bypass pre-merge-commit and commit-msg hooks
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Vậy quá trình sẽ xảy ra suôn sẻ? Đương nhiên conflict có thể xảy ra và dev sẽ phải resolve bằng tay, sau đó thì dùng <code class="language-plaintext highlighter-rouge">git merge --continue</code> để tiếp tục merge.
Trong trường hợp đang merge mà gặp phải tình huống conflict không thể giải quyết được thì <code class="language-plaintext highlighter-rouge">git merge --abort</code> sẽ đưa bạn về thời điểm trước khi merge.
<code class="language-plaintext highlighter-rouge">--abort</code> đương nhiên là điều không mong muốn, mà điều mong muốn là <code class="language-plaintext highlighter-rouge">--continue</code> đến khi xong.</p>

<p><code class="language-plaintext highlighter-rouge">git merge</code> nhìn chung là 1 quy trình an toàn <strong>nếu bạn chịu khó làm đến cùng</strong>. 
Nếu mới gặp conflict đầu tiên bạn đã sợ hãi <code class="language-plaintext highlighter-rouge">--abort</code> ngay thì sẽ không bao giờ đi đến cùng được.
Đồng thời quy trình sẽ rất tự động nếu 2 branches không conflict nhiều.
Vì vậy, trước khi quyết định có merge hay không thì tốt nhất nên điều tra sơ xem có nhiều file trùng nhau giữa lịch sử 2 branches với base không?
Nếu nhìn <code class="language-plaintext highlighter-rouge">git diff</code> sơ mà thấy khác nhau nhiều quá là có lẽ … không nên cho phép merge.
Bởi như vậy không khác gì làm bằng tay (cứ tí lại gặp conflict phải resolve)!</p>

<p>Tuy nhiên, so với giải pháp tiếp theo mà chúng ta giới thiệu thì <code class="language-plaintext highlighter-rouge">git merge</code> có ít rủi ro gặp conflict hơn và nhìn chung số lần resolve chỉ là $\leq 1$, nên <code class="language-plaintext highlighter-rouge">git merge</code> luôn luôn là giải pháp ưu tiên cho bài toán của chúng ta.</p>

<h2 id="git-rebase"><code class="language-plaintext highlighter-rouge">git rebase</code></h2>

<p><img src="/assets/images/git-rebase.svg" style="float: left; margin: 10px; width: 50%;" />
Một lựa chọn khác cho bài toán của chúng ta là <code class="language-plaintext highlighter-rouge">git rebase</code>.
<strong><code class="language-plaintext highlighter-rouge">git rebase</code> sẽ không tạo ra commit mới nào cả mà sẽ sửa lại lịch sử git của <code class="language-plaintext highlighter-rouge">main</code>.</strong>
Như hình vẽ bên trái, bạn thấy rõ là các commit của <code class="language-plaintext highlighter-rouge">feature/1</code> sẽ được bố trí xen kẽ theo thứ tự thời gian vào <code class="language-plaintext highlighter-rouge">main</code>.
Bắt đầu từ commit đầu tiên của feature branch thì thực hiện merge và nếu gặp conflict thì dev phải resolve bằng tay rồi <code class="language-plaintext highlighter-rouge">--continue</code>.
Cũng như <code class="language-plaintext highlighter-rouge">git merge</code> bạn có thể <code class="language-plaintext highlighter-rouge">--abort</code> để quay lại trạng thái ban đầu nếu … sợ!
Bạn cũng có thể <code class="language-plaintext highlighter-rouge">--quit</code>, nhưng nhớ là nếu <code class="language-plaintext highlighter-rouge">--abort</code> dọn dẹp để đưa branch <code class="language-plaintext highlighter-rouge">main</code> về trạng thái ban đầu thì <code class="language-plaintext highlighter-rouge">--quit</code> sẽ để lại mớ hỗn độn nguyên xi đó.</p>

<p>Trong <code class="language-plaintext highlighter-rouge">git merge</code> thì dù 2 branches conflict nhiều thế nào thì cũng chỉ cần 1 merge commit để chứa tất cả.
Nhưng bạn thấy đấy với <code class="language-plaintext highlighter-rouge">git rebase</code> số lần conflict có thể tỷ lệ thuận với số commit của hai branches.
Và công việc sẽ không khác gì bằng tay nếu hai branches conflict nhiều!
<strong>Nhìn chung đây là cách làm nguy hiểm hơn <code class="language-plaintext highlighter-rouge">git merge</code> rất nhiều.</strong></p>

<p>Bạn có thể dùng <code class="language-plaintext highlighter-rouge">git rebase -i</code> để chọn lựa những commit muốn bỏ vào <code class="language-plaintext highlighter-rouge">main</code> nếu không phải tất cả mọi commit trên <code class="language-plaintext highlighter-rouge">feature/1</code> đều có giá trị với bạn.
Sau khi chỉnh sửa lịch sử thì bạn có thể cập nhật branch bằng <code class="language-plaintext highlighter-rouge">git push -f</code>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>git rebase <span class="nt">-h</span>
usage: git rebase <span class="o">[</span><span class="nt">-i</span><span class="o">]</span> <span class="o">[</span>options] <span class="o">[</span><span class="nt">--exec</span> &lt;cmd&gt;] <span class="o">[</span><span class="nt">--onto</span> &lt;newbase&gt; | <span class="nt">--keep-base</span><span class="o">]</span> <span class="o">[</span>&lt;upstream&gt; <span class="o">[</span>&lt;branch&gt;]]
   or: git rebase <span class="o">[</span><span class="nt">-i</span><span class="o">]</span> <span class="o">[</span>options] <span class="o">[</span><span class="nt">--exec</span> &lt;cmd&gt;] <span class="o">[</span><span class="nt">--onto</span> &lt;newbase&gt;] <span class="nt">--root</span> <span class="o">[</span>&lt;branch&gt;]
   or: git rebase <span class="nt">--continue</span> | <span class="nt">--abort</span> | <span class="nt">--skip</span> | <span class="nt">--edit-todo</span>

    <span class="nt">--onto</span> &lt;revision&gt;     rebase onto given branch instead of upstream
    <span class="nt">--keep-base</span>           use the merge-base of upstream and branch as the current base
    <span class="nt">--no-verify</span>           allow pre-rebase hook to run
    <span class="nt">-q</span>, <span class="nt">--quiet</span>           be quiet. implies <span class="nt">--no-stat</span>
    <span class="nt">-v</span>, <span class="nt">--verbose</span>         display a diffstat of what changed upstream
    <span class="nt">-n</span>, <span class="nt">--no-stat</span>         <span class="k">do </span>not show diffstat of what changed upstream
    <span class="nt">--signoff</span>             add a Signed-off-by trailer to each commit
    <span class="nt">--committer-date-is-author-date</span>
                          make committer <span class="nb">date </span>match author <span class="nb">date</span>
    <span class="nt">--reset-author-date</span>   ignore author <span class="nb">date </span>and use current <span class="nb">date</span>
    <span class="nt">-C</span> &lt;n&gt;                passed to <span class="s1">'git apply'</span>
    <span class="nt">--ignore-whitespace</span>   ignore changes <span class="k">in </span>whitespace
    <span class="nt">--whitespace</span> &lt;action&gt;
                          passed to <span class="s1">'git apply'</span>
    <span class="nt">-f</span>, <span class="nt">--force-rebase</span>    cherry-pick all commits, even <span class="k">if </span>unchanged
    <span class="nt">--no-ff</span>               cherry-pick all commits, even <span class="k">if </span>unchanged
    <span class="nt">--continue</span>            <span class="k">continue</span>
    <span class="nt">--skip</span>                skip current patch and <span class="k">continue</span>
    <span class="nt">--abort</span>               abort and check out the original branch
    <span class="nt">--quit</span>                abort but keep HEAD where it is
    <span class="nt">--edit-todo</span>           edit the todo list during an interactive rebase
    <span class="nt">--show-current-patch</span>  show the patch file being applied or merged
    <span class="nt">--apply</span>               use apply strategies to rebase
    <span class="nt">-m</span>, <span class="nt">--merge</span>           use merging strategies to rebase
    <span class="nt">-i</span>, <span class="nt">--interactive</span>     <span class="nb">let </span>the user edit the list of commits to rebase
    <span class="nt">--rerere-autoupdate</span>   update the index with reused conflict resolution <span class="k">if </span>possible
    <span class="nt">--empty</span> &lt;<span class="o">{</span>drop,keep,ask<span class="o">}&gt;</span>
                          how to handle commits that become empty
    <span class="nt">--autosquash</span>          move commits that begin with squash!/fixup! under <span class="nt">-i</span>
    <span class="nt">-S</span>, <span class="nt">--gpg-sign</span><span class="o">[=</span>&lt;key-id&gt;]
                          GPG-sign commits
    <span class="nt">--autostash</span>           automatically stash/stash pop before and after
    <span class="nt">-x</span>, <span class="nt">--exec</span> &lt;<span class="nb">exec</span><span class="o">&gt;</span>     add <span class="nb">exec </span>lines after each commit of the editable list
    <span class="nt">-r</span>, <span class="nt">--rebase-merges</span><span class="o">[=</span>&lt;mode&gt;]
                          try to rebase merges instead of skipping them
    <span class="nt">--fork-point</span>          use <span class="s1">'merge-base --fork-point'</span> to refine upstream
    <span class="nt">-s</span>, <span class="nt">--strategy</span> &lt;strategy&gt;
                          use the given merge strategy
    <span class="nt">-X</span>, <span class="nt">--strategy-option</span> &lt;option&gt;
                          pass the argument through to the merge strategy
    <span class="nt">--root</span>                rebase all reachable commits up to the root<span class="o">(</span>s<span class="o">)</span>
    <span class="nt">--reschedule-failed-exec</span>
                          automatically re-schedule any <span class="sb">`</span><span class="nb">exec</span><span class="sb">`</span> that fails
    <span class="nt">--reapply-cherry-picks</span>
                          apply all changes, even those already present upstream
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Nói chung chỉnh sửa lịch sử là quá trình rất nguy hiểm!
Vì vậy cần chi tiết hóa trước để tránh đi theo những cách bất thường, sau đó trừu tượng hóa để tìm ra công cụ tối ưu.</p>

<h1 id="lời-kết">Lời kết</h1>

<p>Bài viết lấy ví dụ về bài toán migrate tính năng từ <code class="language-plaintext highlighter-rouge">feature/1</code> vào <code class="language-plaintext highlighter-rouge">main</code>.
Bạn nên nhớ những Gitflow thực tế sẽ còn phức tạp hơn với những quy tắc như chỉ <code class="language-plaintext highlighter-rouge">develop</code> mới được merge vào <code class="language-plaintext highlighter-rouge">main</code>, tuy nhiên đó là chủ đề khác.
Ngoài ra, nếu bài toán của bạn là bất thường, đòi hỏi phải edit history thì có thể bạn phải dùng rebase.
Nhưng nhìn chung trong các trường hợp <strong>bình thường</strong>, tôi thấy hầu như đều dùng <code class="language-plaintext highlighter-rouge">git merge</code> tức là tạo ra merge <strong>commit mới hẳn</strong> và chuyển hết tính năng cần thiết vào.
Thêm nữa, đây là migrate <strong>tính năng</strong> chứ không chỉ là files hay tài nguyên, tức là các tính năng được implement trên <code class="language-plaintext highlighter-rouge">feature/1</code> phải tái hiện như thế trên <code class="language-plaintext highlighter-rouge">main</code>.</p>

<blockquote>
  <p><strong>Nói chung tạo cái mới thì tốt hơn!</strong></p>
</blockquote>

            </div>

            <!-- Rating -->
            

            <!-- Post Date -->
            <p>
            <small>
                <span class="post-date"><time class="post-date" datetime="2021-10-08">08 Oct 2021</time></span>           
                
                </small>
            </p>

            <!-- Post Categories -->
            <div class="after-post-cats">
                <ul class="tags mb-4">
                    
                    
                    <li>
                        <a class="smoothscroll" href="https://wanted2.github.io/categories#Software-Engineering">Software Engineering</a>
                    </li>
                    
                    <li>
                        <a class="smoothscroll" href="https://wanted2.github.io/categories#Tiếng-Việt,-日本語">Tiếng Việt, 日本語</a>
                    </li>
                    
                </ul>
            </div>
            <!-- End Categories -->

            <!-- Post Tags -->
            <div class="after-post-tags">
                <ul class="tags">
                    
                    
                    <li>
                        <a class="smoothscroll" href="https://wanted2.github.io/tags#git">#git</a>
                    </li>
                    
                    <li>
                        <a class="smoothscroll" href="https://wanted2.github.io/tags#gitflow">#gitflow</a>
                    </li>
                    
                </ul>
            </div>
            <!-- End Tags -->

            <!-- Prev/Next -->
            <div class="row PageNavigation d-flex justify-content-between font-weight-bold">
            
            <a class="prev d-block col-md-6" href="https://wanted2.github.io//c4-diagrams-software-design/"> &laquo; C4 diagrams for software architecture visualization - Context, Containers, Components, and Code -</a>
            
            
            <a class="next d-block col-md-6 text-lg-right" href="https://wanted2.github.io//chicken-and-egg-problem/">Quả trứng và con gà: cái nào có trước? - Bất bình đẳng về lương và sản lượng lao động &raquo; </a>
            
            <div class="clearfix"></div>
            </div>
            <!-- End Categories -->

        </div>
        <!-- End Post -->

    </div>
</div>
<!-- End Article
================================================== -->

<!-- Begin Comments
================================================== -->

    <div class="container">
        <div id="comments" class="row justify-content-center mb-5">
            <div class="col-md-8">
                <section class="disqus">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'caineng'; 
        var disqus_developer = 0;
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = window.location.protocol + '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>

            </div>
        </div>
    </div>

<!--End Comments
================================================== -->

<!-- Review with LD-JSON, adapt it for your needs if you like, but make sure you test the generated HTML source code first: 
https://search.google.com/structured-data/testing-tool/u/0/
================================================== -->

</div>


<!-- Bottom Alert Bar
================================================== -->
<div class="alertbar">
	<div class="container text-center">
		<span><img src="https://wanted2.github.io/assets/images/favicon.ico" alt="AiFi" style="max-height: 48px;" /> &nbsp; Never miss a <b>story</b> from us, subscribe to our newsletter</span>
        <form action="https://caineng.us20.list-manage.com/subscribe/post?u=76342d3d74a6807aac5aec0d7&id=b5645e19be" method="post" name="mc-embedded-subscribe-form" class="wj-contact-form validate" target="_blank" novalidate>
            <div class="mc-field-group">
            <input type="email" placeholder="Email" name="EMAIL" class="required email" id="mce-EMAIL" autocomplete="on" required>
            <input type="submit" value="Subscribe" name="subscribe" class="heart">
            </div>
        </form>
	</div>
</div>

    
</div>

<!-- Categories Jumbotron
================================================== -->
<div class="jumbotron fortags">
	<div class="d-md-flex h-100">
		<div class="col-md-4 transpdark align-self-center text-center h-100">
            <div class="d-md-flex align-items-center justify-content-center h-100">
                <h2 class="d-md-block align-self-center py-1 font-weight-light">Explore <span class="d-none d-md-inline">→</span></h2>
            </div>
		</div>
		<div class="col-md-8 p-5 align-self-center text-center">
            
            
                
                    <a class="mt-1 mb-1" href="https://wanted2.github.io/categories#Site-Reliable-Engineering">Site Reliable Engineering (5)</a>
                
                    <a class="mt-1 mb-1" href="https://wanted2.github.io/categories#Software-Engineering">Software Engineering (17)</a>
                
                    <a class="mt-1 mb-1" href="https://wanted2.github.io/categories#Computer-Vision">Computer Vision (5)</a>
                
                    <a class="mt-1 mb-1" href="https://wanted2.github.io/categories#Artificial-Intelligence">Artificial Intelligence (11)</a>
                
                    <a class="mt-1 mb-1" href="https://wanted2.github.io/categories#Tiếng-Việt,-日本語">Tiếng Việt, 日本語 (11)</a>
                
                    <a class="mt-1 mb-1" href="https://wanted2.github.io/categories#Project-Management">Project Management (23)</a>
                
            
            
		</div>
	</div>
</div>

<!-- Begin Footer
================================================== -->
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                Copyright © 2022 AiFi 
            </div>
            <div class="col-md-6 col-sm-6 text-center text-lg-right">    
                <a target="_blank" href="https://www.wowthemes.net/mediumish-free-jekyll-template/">Mediumish Jekyll Theme</a> by WowThemes.net
            </div>
        </div>
    </div>
</footer>
<!-- End Footer
================================================== -->

</div> <!-- /.site-content -->

<!-- Scripts
================================================== -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

<script src="https://wanted2.github.io/assets/js/mediumish.js"></script>


<script src="https://wanted2.github.io/assets/js/lazyload.js"></script>


<script src="https://wanted2.github.io/assets/js/ie10-viewport-bug-workaround.js"></script> 


<script id="dsq-count-scr" src="//caineng.disqus.com/count.js"></script>


</body>
</html>
