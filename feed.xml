<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.2.1">Jekyll</generator><link href="https://wanted2.github.io/feed.xml" rel="self" type="application/atom+xml" /><link href="https://wanted2.github.io/" rel="alternate" type="text/html" /><updated>2021-12-25T12:57:05+09:00</updated><id>https://wanted2.github.io/feed.xml</id><title type="html">AiFi</title><subtitle>The official AiFi</subtitle><author><name>Tuan Nguyen-Anh</name></author><entry><title type="html">Adobe Creative Cloud: An All-in-One Platform for Creators</title><link href="https://wanted2.github.io/se/sre/2021/12/19/adobe-creative-cloud.html" rel="alternate" type="text/html" title="Adobe Creative Cloud: An All-in-One Platform for Creators" /><published>2021-12-19T00:00:00+09:00</published><updated>2021-12-19T00:00:00+09:00</updated><id>https://wanted2.github.io/se/sre/2021/12/19/adobe-creative-cloud</id><content type="html" xml:base="https://wanted2.github.io/se/sre/2021/12/19/adobe-creative-cloud.html">&lt;p&gt;&lt;img src=&quot;/assets/img/adobe-creative-cloud-2.png&quot; alt=&quot;adobe&quot; /&gt;
&lt;em&gt;A categorization and a diagram of Adobe Creative Cloud&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Adobe provides three different cloud solutions for customers: Adobe Creative Cloud for creators, Adobe Experience Cloud for marketers, and Adobe Document Cloud for business.
Creative Cloud is a collection of 20+ apps for photography, video, design, web, UX, and social media — plus integrated essentials like font families and the power to collaborate with anyone, anywhere. 
Many things can be done with this solution.
We take a look at the features.
&lt;!--more--&gt;&lt;/p&gt;

&lt;h1 id=&quot;adobe-creative-cloud&quot;&gt;Adobe Creative Cloud&lt;/h1&gt;

&lt;p&gt;Adobe Creative Cloud (ACC) is an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;all-in-one&lt;/code&gt; platform for creators, marketers, visual artists, and designers.
Let’s hear words about the roadmap of ACC from Scott Belsky.&lt;/p&gt;

&lt;iframe width=&quot;100%&quot; height=&quot;480&quot; src=&quot;https://www.youtube.com/embed/BzFY4pzb8cA?t=729&quot; title=&quot;YouTube video player&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;This was highlighted in Adobe MAX 2020, a trade show event for creative users held by Adobe from October 20 to 22, 2020.
You can access the online tutorials from &lt;a href=&quot;https://experienceleague.adobe.com/docs/creative-cloud-enterprise-learn/cce-learning-hub/max2020/tutorials/maxtutorials.html?lang=en&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Creativity for All&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;3-goals-of-adobe-creative-cloud&quot;&gt;3 Goals of Adobe Creative Cloud&lt;/h2&gt;

&lt;h3 id=&quot;enable-connected-creativity&quot;&gt;Enable Connected Creativity&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Creativity $\times$ Organization = Impact&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Putting creativity into an organization makes an impact!
Three pillars of your organization are: &lt;strong&gt;Assets, Apps, and Team&lt;/strong&gt;.
Let’s talk about the assets first.
How can you share your assets with your collaborators?
Adobe Behance, Adobe Bridge, and Adobe Stock make your assets sharable and organized.
You can share your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.psd&lt;/code&gt; files with your teammates, and you can search for your interested images from million of shared assets in Adobe Stock and Bridge.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Bringing 30 years of Photoshop features and code to a new platform like the web is a journey.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Photoshop has more than 30 years of history.
That is so long to have an impact, but now Adobe Photoshop is not only a desktop app.
Adobe Photoshop for Web is in Beta now and will be available in ACC soon.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Work better together with Adobe Creative Cloud.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Finally, let’s talk about the team, the last pillar.
Adobe provides Spaces and Canvas for collaboration.
You can not only share the PSD and AI files with your collaborators but also work with them directly in ACC.
Adobe Cloud Canvases provide an overview of the whole team’s work.
Users can make comments, can get &lt;strong&gt;real-time&lt;/strong&gt; feedbacks in Canvases.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;And don’t forget the devices. &lt;strong&gt;Adobe apps like Photoshop in Apple’s M1 chip run twice faster than in older chips.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;With ACC, your assets and apps can be synchronized between your devices.
You can start your design from your iPhone and then grab it on your iPad or other devices.
And you can collaborate with your co-workers from any device as well.&lt;/p&gt;

&lt;h3 id=&quot;unleash-creative-potential&quot;&gt;Unleash Creative Potential&lt;/h3&gt;

&lt;p&gt;Web designers can use Adobe XD, Illustrators, and so on to create ideas.
Artists can use Fresco, Design to create a lot of drawings.
Photographers and video makers can capture and use Adobe Photoshop and After Effects to create images and videos for social posts.
Cartoon artists can use Character Animator to create a live anime.
Other people can use Lightroom or Premiere Rush to edit photos/videos on the mobile phone.
Other people can search for photos, AI files, videos, and even anime and manga in Stock and Behance.
Some can scan document images and get the content indexed and managed in Adobe Acrobat.
So many possibilities can be done with this suite of apps.&lt;/p&gt;

&lt;p&gt;And now, all of them are available in the Cloud.&lt;/p&gt;

&lt;h3 id=&quot;empower-creative-careers&quot;&gt;Empower Creative Careers&lt;/h3&gt;

&lt;p&gt;Adobe also launched &lt;strong&gt;Content Authenticity Initiate (CAI)&lt;/strong&gt; in 2018 to ensure artists get credits for their work.
Any content made in Adobe today will be attached metadata about the project they belong to, and the credits always go to the creators.
&lt;strong&gt;Non Fungible Tokens (NFT)&lt;/strong&gt; are generally used by artists recently to access marketplaces of collectors.
However, many artists have seen their works were minted without attribution to the original artists.
Adobe has worked with many NFT partners such as OpenSea, KnownOrigin, SuperRare, and so on to ensure the credits will be given to the right people.
When an artist creates a project in Photoshop with Content Credentials, then that information will be displayed in any related NFT partners.&lt;/p&gt;

&lt;h1 id=&quot;toolsets&quot;&gt;Toolsets&lt;/h1&gt;

&lt;p&gt;Now, we understand the goals and roles of ACC in creative activities.
We will take a closer look on each of the app in this section.&lt;/p&gt;

&lt;h2 id=&quot;image-editing&quot;&gt;Image editing&lt;/h2&gt;

&lt;h3 id=&quot;photoshop-vs-lightroom-lightroom-classic&quot;&gt;Photoshop vs. Lightroom (Lightroom classic)&lt;/h3&gt;

&lt;p&gt;Photoshop has more than 30 years of history.
A brief overview of released versions can be found &lt;a href=&quot;https://adobe.fandom.com/wiki/Adobe_Photoshop_release_history&quot;&gt;here&lt;/a&gt;.
The latest version is CC 2021, and we mostly use it.
Adobe Photoshop is specialized for photo enthusiasts, who want to make beautiful images from camera captured inputs.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://learningavphotoshop.weebly.com/uploads/2/6/4/6/26460741/4580840_orig.jpg&quot; alt=&quot;pscc&quot; /&gt;
&lt;em&gt;Source: &lt;a href=&quot;https://learningavphotoshop.weebly.com/uploads/2/6/4/6/26460741/4580840_orig.jpg&quot;&gt;learningavphotoshop&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;There are some resources in YouTube for you to learn Photoshop (especially, CC 2020):&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/playlist?list=PLyGOksFjYo-nzGtyi6wFs68NpDic1lg9a&quot;&gt;Adobe Photoshop CC 2020 Tutorial&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/playlist?list=PL9pkETrdJ0rb-BsDHwE0gmsj0duEXqbQ3&quot;&gt;Adobe Photoshop Tutorials&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/playlist?list=PLttcEXjN1UcFpeLZXSLtNU5iT2OxkO2nF&quot;&gt;Photoshop CC Essentials&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Based on an estimation, there is a requirement of at least 2 years to master this Photoshop CC.&lt;/p&gt;

&lt;h3 id=&quot;illustrator&quot;&gt;Illustrator&lt;/h3&gt;

&lt;h3 id=&quot;fresco-for-fun-drawing&quot;&gt;Fresco for fun drawing&lt;/h3&gt;

&lt;h3 id=&quot;dimension-for-3d-photography&quot;&gt;Dimension for 3D photography&lt;/h3&gt;

&lt;h2 id=&quot;video-editing&quot;&gt;Video editing&lt;/h2&gt;

&lt;h3 id=&quot;premier-pro-and-rush&quot;&gt;Premier Pro and Rush&lt;/h3&gt;

&lt;h3 id=&quot;after-effects&quot;&gt;After Effects&lt;/h3&gt;

&lt;h2 id=&quot;audio-editing&quot;&gt;Audio editing&lt;/h2&gt;

&lt;h2 id=&quot;storage-and-management&quot;&gt;Storage and Management&lt;/h2&gt;

&lt;h3 id=&quot;adobe-stock-and-adobe-bridge&quot;&gt;Adobe Stock and Adobe Bridge&lt;/h3&gt;

&lt;h3 id=&quot;media-encoder&quot;&gt;Media Encoder&lt;/h3&gt;

&lt;h2 id=&quot;animation&quot;&gt;Animation&lt;/h2&gt;

&lt;h2 id=&quot;web-design-tools&quot;&gt;Web design tools&lt;/h2&gt;

&lt;h2 id=&quot;miscellaneous&quot;&gt;Miscellaneous&lt;/h2&gt;

&lt;h3 id=&quot;acrobat&quot;&gt;Acrobat&lt;/h3&gt;

&lt;h3 id=&quot;aero&quot;&gt;Aero&lt;/h3&gt;

&lt;h1 id=&quot;mobile-and-free-web-apps&quot;&gt;Mobile and free web apps&lt;/h1&gt;

&lt;h2 id=&quot;adobe-scan-fill--sign&quot;&gt;Adobe Scan, Fill &amp;amp; Sign&lt;/h2&gt;

&lt;h2 id=&quot;photoshop-express&quot;&gt;Photoshop Express&lt;/h2&gt;

&lt;h1 id=&quot;adobe-sensei-the-graphical-ai&quot;&gt;Adobe Sensei: the graphical AI&lt;/h1&gt;

&lt;h1 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h1&gt;</content><author><name>Tuan Nguyen-Anh</name></author><category term="se" /><category term="sre" /><category term="adobe acrobat" /><category term="adobe creative cloud" /><category term="design" /><category term="illustrator" /><category term="adobe sensei" /><category term="adobe photoshop" /><category term="adobe lightroom" /><category term="adobe premiere pro" /><category term="premiere rush" /><category term="charactor animation" /><summary type="html">A categorization and a diagram of Adobe Creative Cloud Adobe provides three different cloud solutions for customers: Adobe Creative Cloud for creators, Adobe Experience Cloud for marketers, and Adobe Document Cloud for business. Creative Cloud is a collection of 20+ apps for photography, video, design, web, UX, and social media — plus integrated essentials like font families and the power to collaborate with anyone, anywhere. Many things can be done with this solution. We take a look at the features.</summary></entry><entry><title type="html">なぜ帰宅する前や使用済みの時などに電気を消すべきでしょうか?また，なぜ残業しない方がよいか?</title><link href="https://wanted2.github.io/non-english/se/pm/2021/12/18/turn-off-electric-before-leaving-why.html" rel="alternate" type="text/html" title="なぜ帰宅する前や使用済みの時などに電気を消すべきでしょうか?また，なぜ残業しない方がよいか?" /><published>2021-12-18T00:00:00+09:00</published><updated>2021-12-18T00:00:00+09:00</updated><id>https://wanted2.github.io/non-english/se/pm/2021/12/18/turn-off-electric-before-leaving-why</id><content type="html" xml:base="https://wanted2.github.io/non-english/se/pm/2021/12/18/turn-off-electric-before-leaving-why.html">&lt;p&gt;&lt;img src=&quot;/assets/img/2019年度後半障害発生状況.svg&quot; alt=&quot;2019年度後半障害発生状況&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;あなたは何時出社しますか？何時昼休憩を取りますか？何時に帰宅しますか？&lt;/strong&gt;
これはSEにとってなかなか回答できるが興味深い質問です．
「朝8時に出社して，13時に休憩を取り，17時に帰宅する」という回答は一般的であろうが，なぜその時間にしているか説明できるでしょうか？
実際は上図に述べるように，SEの業務として障害対応が枠に入っており，障害がよく起きる時間にあまり欠席せずに，席にいるべきところもあります．
これがIPAの調査[1]から読み取っているが，朝8時から午後1時まであまり離席しないほうが絶対にいいのです．
ですので，朝8時に出社できる方は絶対に情報システムの場所では歓迎されます．
お昼休憩をとるのは13時～で大丈夫ですが，おにぎりやパンなどファストフードを買って席で食べた方が慣れたSEの風景です．
私は昼休憩は取らないですが，なぜなら，このせいです．
お昼はファストフードばかりで離席せずに対応を続けています．
帰宅は19時～で大丈夫でしょう．&lt;/p&gt;

&lt;!--more--&gt;

&lt;h1 id=&quot;朝寝坊はダメだぞ&quot;&gt;朝寝坊はダメだぞ&lt;/h1&gt;

&lt;p&gt;上で説明したが，朝8時から対応しないといけない障害も起きうるため，SEの場合，朝寝坊は禁則ですね．
「ITだから，徹夜してプログラミングをしたので朝寝坊してしまった」という説明もちらほら聞かれていますが，ダメです！
プログラミングは勤務時間内でやれぇ．
朝で遅れなくきちんと出勤した方がいいです．&lt;/p&gt;

&lt;h1 id=&quot;帰宅時&quot;&gt;帰宅時&lt;/h1&gt;

&lt;p&gt;19時以降翌日7時以前の間に障害の報告が少ないです[1, 2]．
ですので，19時～で帰宅することは問題ないでしょうか．
という常識になって，ほぼ皆はその時間で帰宅してお休み時間を取っています．
じゃ，例えば，深夜に出勤して何か不審な作業をやっている作業員がいると，異常でしょうか？
これは障害の種であるため，いったん深夜に作業するPCなど機器を起動しないように電気を必ず消しましょう．
また，例えば，深夜に障害につながる異常が発生すると，出勤できる作業員がお休み中の場合もあるから，対応も大変です．
なので，19時～翌日7時までの間に，重要インフラ以外電気をきちんと使用されないように規定したほうがいいでしょう．
「お金がかかっちゃう」という理由もよく聞かれたが，SEの分野では，多分それが本当の理由ではないと思います．
実際の理由は障害対応の都合であろう．&lt;/p&gt;

&lt;h1 id=&quot;物品を使用したとき&quot;&gt;物品を使用したとき&lt;/h1&gt;

&lt;p&gt;上記の「帰宅時」の説明と同じように，物品の使用が終わったらリソースをクリアしましょう．
「物品」とは，物理的にある会議室やサーバー部屋や機器などの施設だけではなく，&lt;strong&gt;仮想的に存在するサーバーやクラウドサービスの使用も含まれています&lt;/strong&gt;．
19時～ではなく，勤務時間内に一時使用するサーバーもあります．
離席している最中に作業PCはONのままにしている可能性もあり，画面ロックをしない場合，セキュリティインシデントが起きうるのです．&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;離席時，必ず&lt;strong&gt;画面ロック&lt;/strong&gt;などで資産をロックしましょう．再度着席したら，ロック解除で大丈夫です．&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;じゃ，使用が終わったときに，電気を消さないで，リソースをクリアしないでそのままにすると何が問題かな？
以下は千葉銀行からお客様にお願いする事項[4]ですが，興味深いですね．&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;ログアウト等の励行&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;お客さまのパソコンを遠隔で操作し、正当な契約者が操作したように装う事例が発生しております。
&lt;strong&gt;パソコンの外部からの不正操作を防止するため、Web-EBをご利用にならない時や、インターネット接続が必要ない時は、ご利用のパソコンをネットワークから遮断したり、無線LANを切断するなど、パソコンをインターネット環境から隔離し、常時接続をさけてください。&lt;/strong&gt;
また、&lt;strong&gt;パソコンをご利用にならない場合は、パソコンの電源を落とすよう徹底&lt;/strong&gt;をお願いいたします。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;電源を落とし，インターネット接続も遮断するというお願いですね．
もうちょっとわかりやすいマンガで説明した投稿もあります．&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.chibabank.co.jp/safety/netbank/comic06/comic03.html&quot;&gt;マンガでわかる！インターネットバンキングのセキュリティ対策 &amp;gt; パソコンの電源を入れたままにしていませんか？&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;最近，クラウド基盤へ移すサービスも少なくないので，物理ではなく仮想的な資産も存在します．
例えば，AWSの仮想サーバーやサービスなどですね．
それらは電源を落としても稼働できるため，リソース管理をきちんとしないといけないです．
つまり，各資産の稼働時間を把握する必要があります．
それ以外の時間はなんとかの方法でクリアして，再度必要になったら再度立ち上げるように仕組みを規定する必要があります．&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;まあ，ややこしいけど，とりあえず，物理リソースの場合，上記のマンガのように電源を落としましょう．&lt;/strong&gt;
&lt;strong&gt;仮想リソースの場合，使用のワークフローを自動化し，心配がないようにしましょう．&lt;/strong&gt;&lt;/p&gt;

&lt;h1 id=&quot;残業&quot;&gt;残業&lt;/h1&gt;

&lt;p&gt;毎日19時～帰宅した方がよいという話をしました．
ですので，19時以降の「残業」はダメですね．
といっても，時々仕事のためにしないといけないこともあるでしょう．
しかし，それが異常程度の確率にしないと大きな問題であろう．
会社100人で皆残業すると，逆に皆で合意したので体制を決めて残業することは問題ないです．
しかし，体制も決めず，上司の許可も得ず勝手に残業するということはダメです．&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ですので，障害を減らしたい意志で考えると，会社の体制に従うべきです．
で，一般的に，&lt;strong&gt;残業しない&lt;/strong&gt;ことにしましょう．&lt;/li&gt;
  &lt;li&gt;仕事を自宅まで持ち帰っても，&lt;strong&gt;勤務時間外，つまり責任者が常駐しない時に仕事をしない&lt;/strong&gt;ことにしましょう．
    &lt;ul&gt;
      &lt;li&gt;WFHの場合でも，仕事を自宅でやっても責任者の許可を得ないまま仕事はしません．&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;仕事が途中半端で19時までに終わらせない場合でも，事前に見通して，&lt;strong&gt;切りのよいタイミングでリソースをクリアして，電源を落として帰宅しましょう&lt;/strong&gt;．
    &lt;ul&gt;
      &lt;li&gt;効率というよりも，障害の課題です．&lt;/li&gt;
      &lt;li&gt;効率の考え方は勤務時間外で考えないで，勤務時間内のみで効率を考えるべきであろう．&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;結論&quot;&gt;結論&lt;/h1&gt;
&lt;p&gt;そうですね．大学時代，「成果を出せるために，研究室に常駐」，「徹夜して，明日の発表会に成果を説明する資料を作る」，「19時以降も帰宅しない，プログラミングをします」など，大学生・院生からもよく聞かれたが，懐かしいです．
大学時代で若者はこうしていったが，社会人になって，あれは「異常」です．
むしろダメです．&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;社会人になってから，初めて朝定時に出社し，午後定時に退出すれば一番いい人間だと感じました．&lt;/strong&gt;
障害発生が少ない働きを維持しましょう．
これからその人生を送りたいですね．&lt;/p&gt;

&lt;h1 id=&quot;参考文献&quot;&gt;参考文献&lt;/h1&gt;

&lt;ol class=&quot;bibliography&quot;&gt;&lt;li&gt;&lt;span id=&quot;ipa01&quot;&gt;松田 晃一, 村岡 恭昭, &amp;amp; 齋藤 毅. (2019). &lt;i&gt;情報システムの障害状況 - 2019 年後半データ&lt;/i&gt;. IPA社会基盤センター.&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;ipa02&quot;&gt;情報処理推進機構. &lt;i&gt;情報システムの障害状況一覧：IPA 独立行政法人 情報処理推進機構&lt;/i&gt;. https://www.ipa.go.jp/sec/system/system_fault.html&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;ipa03&quot;&gt;情報処理推進機構. &lt;i&gt;プレス発表　重要インフラを支えるシステムの障害情報や対策を分析した2種類の教訓集を公開：IPA 独立行政法人 情報処理推進機構&lt;/i&gt;. https://www.ipa.go.jp/about/press/20140513.html&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;chiba01&quot;&gt;千葉銀行. &lt;i&gt;セキュリティ対策に関するお願い｜安心してご利用いただくために｜千葉銀行&lt;/i&gt;. https://www.chibabank.co.jp/webeb/security/internet/&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;</content><author><name>Tuan Nguyen-Anh</name></author><category term="non-english" /><category term="se" /><category term="pm" /><category term="残業" /><category term="OT" /><category term="電気を消す" /><category term="電気利用" /><category term="障害対応" /><summary type="html">あなたは何時出社しますか？何時昼休憩を取りますか？何時に帰宅しますか？ これはSEにとってなかなか回答できるが興味深い質問です． 「朝8時に出社して，13時に休憩を取り，17時に帰宅する」という回答は一般的であろうが，なぜその時間にしているか説明できるでしょうか？ 実際は上図に述べるように，SEの業務として障害対応が枠に入っており，障害がよく起きる時間にあまり欠席せずに，席にいるべきところもあります． これがIPAの調査[1]から読み取っているが，朝8時から午後1時まであまり離席しないほうが絶対にいいのです． ですので，朝8時に出社できる方は絶対に情報システムの場所では歓迎されます． お昼休憩をとるのは13時～で大丈夫ですが，おにぎりやパンなどファストフードを買って席で食べた方が慣れたSEの風景です． 私は昼休憩は取らないですが，なぜなら，このせいです． お昼はファストフードばかりで離席せずに対応を続けています． 帰宅は19時～で大丈夫でしょう．</summary></entry><entry><title type="html">Nghịch ngợm Svelte và câu chuyện code JS thuần 10 năm trước</title><link href="https://wanted2.github.io/non-english/se/2021/12/10/svelte-and-reset-checkboxes-10years-ago.html" rel="alternate" type="text/html" title="Nghịch ngợm Svelte và câu chuyện code JS thuần 10 năm trước" /><published>2021-12-10T00:00:00+09:00</published><updated>2021-12-10T00:00:00+09:00</updated><id>https://wanted2.github.io/non-english/se/2021/12/10/svelte-and-reset-checkboxes-10years-ago</id><content type="html" xml:base="https://wanted2.github.io/non-english/se/2021/12/10/svelte-and-reset-checkboxes-10years-ago.html">&lt;p&gt;&lt;img src=&quot;/assets/img/svelte-checkall-uncheckall.gif&quot; alt=&quot;svelte&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Svelte&lt;/strong&gt; là một framework của ngôn ngữ Javascript, với mô hình &lt;strong&gt;bi-direction data binding&lt;/strong&gt; (MVVM) khiến cho trạng thái và hiển thị luôn đồng bộ, cũng giống như những người anh em khác như Vue.js, ReactJS hay AngularJS.
Tuy nhiên, một ưu điểm của Svelte là cấu trúc ngôn ngữ rất thanh thoát, khiến cho lượng code mà người lập trình cần viết rất ít.
Lật lại lịch sử của các JS Framework, có thể lần lại từ khoảng 2006, khi JQuery ra đời với một bước tiến trong xử lý JS dạng embedding (nhúng) vào trong trang HTML.
Với JQuery, mô hình lập trình là bạn có thể nhúng những snippet code JS vào trong HTML một cách thuận tiện và control hiển thị cũng như xử lý tại frontend.
Cách làm này nhìn chung là thủ công, và rất nhiều lập trình viên JS đã hiểu rằng đây là con đường code thuần và hầu như là &lt;strong&gt;buggy&lt;/strong&gt; (rất nhiều bug có thể phát sinh)!
Lịch sử sang trang mới vào những năm 2010-2011, cùng với sự ra đời của hàng loạt trào lưu mới như Lean startups, Agile development, … với những &lt;strong&gt;JS framework theo luồng MVVM (Model-View-ViewModel)&lt;/strong&gt;.
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Backbone&lt;/code&gt; và &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AngularJS&lt;/code&gt; hầu như ra đời trong giai đoạn này đã mở ra kỷ nguyên mới, khi dữ liệu và hiển thị được &lt;strong&gt;binding&lt;/strong&gt; với nhau khiến cho sự đồng bộ thống nhất trên frontend được đảm bảo.
Công ty tôi thời đó khởi đầu cũng làm JQuery thuần, code vô cùng nhiều bugs, mà kỹ sư OT ngày đêm lo sửa.
Nhưng đó là chuyện của hơn 10 năm trước các bạn ạ.
Sau đó nhiều kỹ sư trong công ty đã cực lực phản đối việc tiếp tục dùng JQuery và đề xuất dùng những con đường bug-free hơn như &lt;strong&gt;AngularJS&lt;/strong&gt;.
Đó là những chuyện xảy ra vào năm 2013.
Nhưng cùng lúc đó, 2013, Facebook, gã nhà giàu mới nổi, bắt đầu “o bế” khá nhiều công nghệ Web mới như ngôn ngữ lập trình Hack (hậu duệ của PHP) và &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Meteor&lt;/code&gt; một kiểu JS framework cũng thực hiện MVVM, data binding để đồng bộ hiển thị và dữ liệu tại frontend.
Và cùng năm 2013, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ReactJS&lt;/code&gt;, cũng là một JS framework được FB o bế cũng ra đời và làm mưa làm gió.
Hồi đó cũng có tranh luận là lên tiếp tục &lt;strong&gt;chịu đựng JQuery&lt;/strong&gt; hay chuyển sang data binding là &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AngularJS&lt;/code&gt; hoặc &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ReactJS&lt;/code&gt; mà cuối cùng có vẻ là &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AngularJS&lt;/code&gt; đã được chọn.
Bẵng đi ít lâu, 2013, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;VueJS&lt;/code&gt; ra đời và nhanh chóng được chào đón.
Sau đó gần đây là &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Svelte&lt;/code&gt;.
&lt;!--more--&gt;&lt;/p&gt;

&lt;h1 id=&quot;một-ví-dụ-hộp-checkbox-check-alluncheck-all-và-bài-toán-reset-hiển-thị-đúng-cách&quot;&gt;Một ví dụ: hộp checkbox &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Check All/Uncheck All&lt;/code&gt; và bài toán reset hiển thị đúng cách&lt;/h1&gt;

&lt;h2 id=&quot;một-ngày-đẹp-trời-năm-2012-một-yêu-cầu-khách-hàng-tới&quot;&gt;Một ngày đẹp trời năm 2012, một yêu cầu khách hàng tới&lt;/h2&gt;

&lt;p&gt;Hồi ấy có 1 câu chuyện là thế này.
Nói thì dài dòng nhưng chủ yếu là làm chức năng &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Check All/Uncheck All&lt;/code&gt; mà bạn có thể nhìn thấy ở hình ảnh bên trên.
Nó là chức năng bổ trợ cho &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Datatables&lt;/code&gt; mà chúng tôi có dùng.
&lt;strong&gt;Cũng 10 năm rồi, tôi thú thực là cũng chả nhớ chi tiết lắm&lt;/strong&gt;, nhưng đại để là có yêu cầu thế này:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Mỗi dòng phải có 1 checkbox, và mỗi checkbox là riêng nhau, không có chuyện click checkbox ở dòng 1 mà lại thay đổi hiển thị của dòng 2 là … giải tán.&lt;/li&gt;
  &lt;li&gt;Có nút &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Check All&lt;/code&gt; mà khi click vào thì tất cả các checkbox con chuyển thành ON hết.&lt;/li&gt;
  &lt;li&gt;Có nút &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Uncheck All&lt;/code&gt; mà khi chọn thì tất cả các checkbox con của mỗi dùng đều OFF hết.&lt;/li&gt;
  &lt;li&gt;Nút &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Check All&lt;/code&gt; và &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Uncheck All&lt;/code&gt; có thể làm một để tối ưu trải nghiệm người dùng.&lt;/li&gt;
  &lt;li&gt;Nếu tất cả các nút con đều ON thì &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CheckAll&lt;/code&gt; cũng phải ON.&lt;/li&gt;
  &lt;li&gt;Nếu có ít nhất 1 nút con là OFF thì &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CheckAll&lt;/code&gt; phải OFF.&lt;/li&gt;
  &lt;li&gt;Ngược lại với &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Uncheck ALL&lt;/code&gt; (nếu tách hai hộp check ra).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/svelte-checkall-uncheckall-2.gif&quot; alt=&quot;svelte&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Đấy, yêu cầu có thế rồi chuyển xuống cho đội hakken làm&lt;/strong&gt;.
Tức là phải &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;reset&lt;/code&gt; chuẩn, không được để chọn &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Check All&lt;/code&gt; nhưng lại có dòng nào không được check (dù đã check rồi).
Không được để check dòng này nhưng dòng khác lại bị ảnh hưởng.&lt;/p&gt;

&lt;h2 id=&quot;lời-giải-10-năm-trước&quot;&gt;Lời giải 10 năm trước&lt;/h2&gt;

&lt;p&gt;Scope cũng khá nhẹ nhàng, nhưng lúc đó anh em lại chọn dùng JQuery và code thuần luôn.&lt;/p&gt;

&lt;p&gt;Đó quả thực là một bước đi &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gian khổ&lt;/code&gt;: thứ nhất, là vấn đề &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;data binding&lt;/code&gt;, chuyện bind checkbox từng dòng vào hiển thị từng dòng mà lại làm bằng JS thuần thì đòi hỏi phải chơi trò &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gắn nhãn và selector&lt;/code&gt;.
Tức là với dòng thứ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;n&lt;/code&gt; gắn nhãn &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id=&quot;row-n&quot;&lt;/code&gt; chẳng hạn, sau đó dùng selector của JS hoặc JQuery như &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;var el = document.querySelector(&quot;#row-n&quot;);&lt;/code&gt; hoặc như JQuery thì đơn giản hơn &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$(&apos;#row-n&apos;)&lt;/code&gt;, để switch hiển thị.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Bạn nghĩ sao?&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;Thế tức là gắn nhãn bằng tay còn gì?&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Vâng, đúng thế. Gắn nhãn bằng tay và select nhãn theo tên đã đặt.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;Thế nếu miss một phát là toang, select nhầm nhãn là hiển nhiên có khả năng vì là con người làm. Rồi còn đặt tên mà không có quy tắc gây nhầm lẫn lúc select là TOANG nặng!&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Vâng, thú thực là lúc ấy mấy công nghệ &lt;strong&gt;MVVM frameworks như AngularJS/ReactJS&lt;/strong&gt; vẫn đang trong vòng thai nghén của Google và Facebook, anh em cũng chưa có điều kiện tiếp cận, mới bắt buộc phải dùng JS thuần mà code.
Chuyện 10 năm trước cơ mà!
(Chứ còn năm 2021 này mà còn dùng là … không nên! &lt;strong&gt;Phải MVVM hết&lt;/strong&gt;.).&lt;/p&gt;

&lt;h1 id=&quot;cách-làm-1-làm-bằng-js-thuần&quot;&gt;Cách làm 1: Làm bằng JS thuần&lt;/h1&gt;

&lt;p&gt;Đánh nhãn bằng tay đương nhiên là không tốt.
Để hiểu được lý do tại sao nên dùng framework và patterns có sẵn, chúng ta nên bắt đầu từ việc định tính hóa bài toán.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Bài toán&lt;/strong&gt;: Giả sử có $n$ dòng trong bảng.
Mỗi dòng có một checkbox $c_i\in\{0,1\}$ (ở đây 0 là OFF còn 1 là ON).
Trạng thái của &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Check All&lt;/code&gt; là $C\in\{0,1\}$ và tương ứng của &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Uncheck all&lt;/code&gt; là $\overline{C}=1-C$.
Thì &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bài toán đồng bộ trạng thái&lt;/code&gt; ở đây là đảm bảo rằng ở mọi thời điểm:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;$C=\bigcap_{i=1}^n c_i$                                          (1)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Điều này khá thú vị, việc đảm bảo phương trình (1) luôn xảy ra đòi hỏi phải &lt;strong&gt;quản lý trạng thái&lt;/strong&gt; một cách chính xác.&lt;/p&gt;

&lt;p&gt;Để làm được điều này với JS thuần, đòi hỏi&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Đánh nhãn chính xác, khó nhầm lẫn.&lt;/li&gt;
  &lt;li&gt;Không select nhầm nhãn.&lt;/li&gt;
  &lt;li&gt;Quản lý trạng thái ON/OFF phải đồng bộ.&lt;/li&gt;
  &lt;li&gt;Phải set checked ngay khi có &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;onclick&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Nhìn chung là một cách làm khá &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tồi tệ&lt;/code&gt;.
&lt;strong&gt;Đặc biệt, vì số lượng biến trạng thái là $n+1$ nên khi $n$ càng lớn việc quản lý trạng thái càng khó khăn, dễ xảy ra bug, mistakes, …&lt;/strong&gt;&lt;/p&gt;

&lt;h1 id=&quot;cách-làm-2-làm-bằng-svelte&quot;&gt;Cách làm 2: Làm bằng Svelte&lt;/h1&gt;

&lt;p&gt;Với &lt;strong&gt;Svelte’s &lt;a href=&quot;https://svelte.dev/tutorial/checkbox-inputs&quot;&gt;binding&lt;/a&gt;&lt;/strong&gt;, việc quản lý trạng thái trở nên dễ dàng và ít mistakes hơn.
Bạn chỉ cần định nghĩa biến trạng thái của checkboxes và bind chúng vào định nghĩa của &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;input type=&quot;checkbox&quot;&amp;gt;&lt;/code&gt; nhờ từ khóa &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bind:checked={}&lt;/code&gt;.
Ví dụ như sau:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-svelte&quot;&gt;&amp;lt;input
    type=&quot;checkbox&quot;
    class=&quot;form-check-input&quot;
    aria-checked=&quot;false&quot;
    bind:checked={checkedAll}
    on:click={onCheckedAll}
/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Như trên biến &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;checkedAll&lt;/code&gt; đã được bind vào checkbox.
Thậm chí cũng chả cần định nghĩa &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id&lt;/code&gt; cho textbox (tức là đánh nhãn) làm gì, bạn chỉ cần quản lý biến trạng thái &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;checkedAll&lt;/code&gt; trong code của mình.
&lt;strong&gt;Mà thao tác ấy chắc chắn sẽ tự động và ít bugs hơn đánh nhãn bằng tay kiểu JS thuần.&lt;/strong&gt;
Khi biến trạng thái thay đổi, hiển thị checkbox sẽ &lt;strong&gt;tự động&lt;/strong&gt; thay đổi theo và bạn chẳng phải làm mấy cái thao tác set props hay gì mất thời gian mà lại dễ lỗi.
Ví dụ bạn để set prop nhầm chỗ hoặc assign nhầm label một phát vì cách đặt tên của lập trình viên cũ quá tồi thì ôi thôi có mà … toang nặng.&lt;/p&gt;

&lt;p&gt;Đến đây, việc còn lại quá nhẹ nhàng với vài dòng code chơi: bạn định nghĩa một mảng &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;checked&lt;/code&gt; cho trạng thái của $n$ biến trạng thái còn lại và &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bind:checked={}&lt;/code&gt; vào các checkbox ở từng dòng.
Để thực hiện logic chuyển trạng thái, bạn chỉ cần lo viết code tương tác giữa biến $C$ và $c_i, i=1,n$ chứ chả phải lo ngồi set prop, hoặc set text làm gì mất công và dễ bug.&lt;/p&gt;

&lt;h1 id=&quot;kết-luận&quot;&gt;Kết luận&lt;/h1&gt;

&lt;p&gt;Nhìn chung cách làm bằng JS thuần là cách làm thiếu tính trừu tượng hóa, thủ công và đánh nhãn mệt nghỉ.
Thay vào đó sự tiến bộ của công nghệ những năm 2010-2014 đã cho phép lập trình frontend web có những framework kiểu MVVM đủ mạnh như AngularJS, VueJS, ReactJS và gần đây là Svelte.
Sử dụng Svelte để &lt;strong&gt;trừu tượng hóa&lt;/strong&gt; trạng thái hiển thị thành biến (qua &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;binding&lt;/code&gt;) và quản lý trạng thái thông qua quản lý biến là một điểm chốt khiến cho việc sử dụng Svelte (cũng như VueJS, ReactJS, AngularJS) chiếm ưu thế vượt trội so với cách làm thủ công JS thuần mà 10 năm trước chúng tôi hay làm.&lt;/p&gt;

&lt;h1 id=&quot;tài-liệu-tham-khảo&quot;&gt;Tài liệu tham khảo&lt;/h1&gt;

&lt;ol class=&quot;bibliography&quot;&gt;&lt;li&gt;&lt;span id=&quot;LogicEls13:online&quot;&gt;&lt;i&gt;Logic / Else-if blocks • Svelte Tutorial&lt;/i&gt;. https://svelte.dev/tutorial/else-if-blocks&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;DocsSve0:online&quot;&gt;&lt;i&gt;Docs • SvelteKit&lt;/i&gt;. https://kit.svelte.dev/docs&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;</content><author><name>Tuan Nguyen-Anh</name></author><category term="non-english" /><category term="se" /><category term="svelte framework" /><category term="svelte" /><category term="vuejs" /><category term="reactjs" /><category term="angularjs" /><category term="frontend" /><summary type="html">Svelte là một framework của ngôn ngữ Javascript, với mô hình bi-direction data binding (MVVM) khiến cho trạng thái và hiển thị luôn đồng bộ, cũng giống như những người anh em khác như Vue.js, ReactJS hay AngularJS. Tuy nhiên, một ưu điểm của Svelte là cấu trúc ngôn ngữ rất thanh thoát, khiến cho lượng code mà người lập trình cần viết rất ít. Lật lại lịch sử của các JS Framework, có thể lần lại từ khoảng 2006, khi JQuery ra đời với một bước tiến trong xử lý JS dạng embedding (nhúng) vào trong trang HTML. Với JQuery, mô hình lập trình là bạn có thể nhúng những snippet code JS vào trong HTML một cách thuận tiện và control hiển thị cũng như xử lý tại frontend. Cách làm này nhìn chung là thủ công, và rất nhiều lập trình viên JS đã hiểu rằng đây là con đường code thuần và hầu như là buggy (rất nhiều bug có thể phát sinh)! Lịch sử sang trang mới vào những năm 2010-2011, cùng với sự ra đời của hàng loạt trào lưu mới như Lean startups, Agile development, … với những JS framework theo luồng MVVM (Model-View-ViewModel). Backbone và AngularJS hầu như ra đời trong giai đoạn này đã mở ra kỷ nguyên mới, khi dữ liệu và hiển thị được binding với nhau khiến cho sự đồng bộ thống nhất trên frontend được đảm bảo. Công ty tôi thời đó khởi đầu cũng làm JQuery thuần, code vô cùng nhiều bugs, mà kỹ sư OT ngày đêm lo sửa. Nhưng đó là chuyện của hơn 10 năm trước các bạn ạ. Sau đó nhiều kỹ sư trong công ty đã cực lực phản đối việc tiếp tục dùng JQuery và đề xuất dùng những con đường bug-free hơn như AngularJS. Đó là những chuyện xảy ra vào năm 2013. Nhưng cùng lúc đó, 2013, Facebook, gã nhà giàu mới nổi, bắt đầu “o bế” khá nhiều công nghệ Web mới như ngôn ngữ lập trình Hack (hậu duệ của PHP) và Meteor một kiểu JS framework cũng thực hiện MVVM, data binding để đồng bộ hiển thị và dữ liệu tại frontend. Và cùng năm 2013, ReactJS, cũng là một JS framework được FB o bế cũng ra đời và làm mưa làm gió. Hồi đó cũng có tranh luận là lên tiếp tục chịu đựng JQuery hay chuyển sang data binding là AngularJS hoặc ReactJS mà cuối cùng có vẻ là AngularJS đã được chọn. Bẵng đi ít lâu, 2013, VueJS ra đời và nhanh chóng được chào đón. Sau đó gần đây là Svelte.</summary></entry><entry><title type="html">Học cách viết log nghiêm chỉnh</title><link href="https://wanted2.github.io/non-english/se/sre/2021/12/05/write-logs.html" rel="alternate" type="text/html" title="Học cách viết log nghiêm chỉnh" /><published>2021-12-05T00:00:00+09:00</published><updated>2021-12-05T00:00:00+09:00</updated><id>https://wanted2.github.io/non-english/se/sre/2021/12/05/write-logs</id><content type="html" xml:base="https://wanted2.github.io/non-english/se/sre/2021/12/05/write-logs.html">&lt;p&gt;&lt;img src=&quot;https://i2.wp.com/gbhackers.com/wp-content/uploads/2017/01/siem-log.png&quot; alt=&quot;log management&quot; /&gt;
&lt;em&gt;Source: SIEM&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Viết log&lt;/strong&gt; nghe như một việc tưởng chừng vô cùng đơn giản, với kỹ sư SRE thì có khi chỉ 2-3 giờ đồng hồ là có thể cấu hình chuẩn chỉnh được ngay một hệ thống log ngon nghẻ.
Thế nhưng cũng có những dự án chiến lược cấp tập đoàn mà đôi khi phải dành hẳn cả 6 tháng 1 năm để cho các kỹ sư &lt;em&gt;học cách viết log cho nó OK em&lt;/em&gt;.
Và quản lý log, bao gồm cả cấu hình một hệ thống log nghiêm chỉnh để có thể audit và đối ứng sự cố tốt không phải là 1 việc đơn giản: tức là tốn công.
Nhưng các bạn biết đấy, audit hay đối ứng sự cố là những nghiệp vụ không tạo ra dịch vụ sản phẩm gì mới cả, mà tập trung hơn vào việc fix lỗi, chỉ lỗi, tức là một thứ &lt;strong&gt;cần thiết nhưng ít thì tốt hơn&lt;/strong&gt;.
Và lại còn bới lông tìm vết nữa thì lại còn vấn đề mất lòng đồng nghiệp các cái, tóm lại là một thứ nghiệp vụ vô cùng “nửa nạc nửa mỡ”, “bỏ thì thương mà vương thì tội (trích Tam quốc diễn nghĩa)”.
Và cũng chính vì vậy, trong nghiệp vụ quản lý dự án nói chung, thay vì để PM hay quản lý phải làm hết những nghiệp vụ “mất lòng” này, thì tốt nhất vẫn là nên bắt các ông dev tự mà quản lý log, tự audit và tự đối ứng sự cố thì sẽ tránh cãi vã mất thời gian mà tóm lại, code ông nào thì tự ông ấy audit log và đối ứng đi.
Và như vậy đòi hỏi phải có &lt;strong&gt;chuẩn (standard)&lt;/strong&gt; cho việc quản lý log, đối ứng sự cố, cũng như tutorials và training để các em dev viết log cho nó nghiêm chỉnh.
Và cũng thú thực luôn là chuyện dành ra 6 tháng đến 1 năm bắt các kỹ sư chỉ học cách viết log cho nghiêm chỉnh là chuyện có thật, mà không phải ở cấp vớ vấn mà ngay cấp doanh nghiệp tập đoàn!
&lt;!--more--&gt;&lt;/p&gt;

&lt;h1 id=&quot;vai-trò-và-nhiệm-vụ-của-log-auditting-and-incident-response&quot;&gt;Vai trò và nhiệm vụ của log: auditting and incident response&lt;/h1&gt;

&lt;blockquote&gt;
  &lt;p&gt;Một nhân vật mà không ai yêu quý vì chẳng tạo ra giá trị gì mới, nhưng lại tiêu tốn tài nguyên và khiến những người khác phải chạy theo làm vừa lòng.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Trước khi thảo luận xem nên viết log ra sao, thì có lẽ chúng ta cũng cần phải hiểu xem tại sao lại phải viết log? Ai sẽ đọc log? và các hình thái quản lý log.&lt;/p&gt;

&lt;h2 id=&quot;tại-sao-phải-viết-log&quot;&gt;Tại sao phải viết log?&lt;/h2&gt;

&lt;p&gt;Mà đúng hơn là &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tại sao phải viết, lưu trữ và quản lý log?&lt;/code&gt;
Log đã trở thành 1 phần không thể thiếu của mọi hệ thống phần mềm.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Lịch sử và đối ứng sự cố&lt;/strong&gt;: Log lưu trữ các thông tin về các sự kiện đã từng xảy ra trong dự án và là căn cứ để điều tra cũng như phản ứng khi có sự cố xảy ra.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Phân tích (analytics)&lt;/strong&gt;: Ngoài ra, định kỳ kiểm tra và phân tích log có thể giúp người quản lý dự án nắm rõ bức tranh lớn của dự án. Những ứng dụng Log analytics trên các nền tảng Big Data như Azure App Insights dần thể hiện vai trò quan trọng trong nhiều tổ chức.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Trên đây là 2 nhánh quan trọng nhất trong các hệ thống ứng dụng có liên quan tới Log Management.
Một dự án của Cơ quan Tiêu chuẩn Kỹ thuật Hoa Kỳ (NIST) có liên quan tới Log Management [1] cũng đang cố gắng cải thiện nền tảng phân tích log tập trung trong các cơ quan thuộc khối chính phủ Hoa Kỳ.&lt;/p&gt;

&lt;p&gt;Nhìn như trên chúng ta có thể thấy ở cấp &lt;strong&gt;quân sự và chính phủ, hoặc các tập đoàn kinh tế lớn&lt;/strong&gt; việc lưu trữ và quản lý log quan trọng đến chừng nào.
Dựa trên đó mà các khối này đang cải tiến và xây dựng nền tảng quản lý dữ liệu của chính phủ Hoa Kỳ ngày càng hoàn thiện và tiên tiến hơn.
Hàng loạt sự cố như rò rỉ dữ liệu người dùng với khối lượng lớn, đột nhập tấn công nền tảng, … đã và đang xảy ra trên quy mô toàn cầu, đòi hỏi các cơ quan và tổ chức càng ngày phải nâng cao ý thức và trách nhiệm với các sự cố &lt;em&gt;cybersecurity&lt;/em&gt; và một trong số những biện pháp đầu tiên chính là làm cho nghiêm chỉnh việc quản lý log (log management).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Vậy với các tổ chức dân sự cấp vừa và nhỏ (中小企業), hoặc người dùng cá nhân thì sao?&lt;/strong&gt;
&lt;strong&gt;Họ có nên áp dụng tiêu chuẩn quản lý log cấp chính phủ và quân sự vào việc kinh doanh của mình?&lt;/strong&gt;
Câu trả lời là điều đó tùy thuộc vào nguồn lực.
Nếu các tập đoàn lớn, cơ quan chính phủ hoặc quân sự có nguồn lực dồi dào, có thể đòi hỏi kỹ sư hàng tháng trời chỉ ngồi học viết mấy dòng log cho nghiêm chỉnh (nói vui vậy thôi chứ phía sau thì còn nhiều thứ, sẽ giải thích ở các section tiếp theo).
Thì các tổ chức dân sự vừa và nhỏ lại không hẳn như vậy, họ ít nguồn lực hơn và nếu không có lợi ích gì lớn thì có lẽ họ sẽ không làm.
Hoặc các tập đoàn đặt hàng họ làm (khách hàng) sẽ phải làm những bước log management này.&lt;/p&gt;

&lt;h2 id=&quot;ai-sẽ-đọc-log&quot;&gt;Ai sẽ đọc log?&lt;/h2&gt;

&lt;p&gt;Một sự thật khá đau lòng ở đây là, mặc dù log rất quan trọng cho quá trình sửa chữa bảo trì hệ thống, khắc phục sự cố, nhưng &lt;strong&gt;end-user hầu không bao giờ đọc log&lt;/strong&gt;.
Bạn là người dùng FaceBook nhưng đã bao giờ được đọc 1 dòng log do kỹ sư FaceBook viết còn “vương vãi” trên giao diện Facebook (viết chủ yếu bằng JS) chưa?
Nếu kỹ sư FB mà để lọt dòng log nào vào mắt bạn thì đó đúng là 1 sự cố to lớn.
Có nhiều lý do cho việc này: thứ nhất, người dùng cuối &lt;em&gt;không cần phải biết về chi tiết trong hệ thống&lt;/em&gt;.
Họ có trả tiền để phải ngồi đọc log khi có sự cố không?
Thường là không.&lt;/p&gt;

&lt;p&gt;Vậy &lt;strong&gt;developer có cần phải đọc log không?&lt;/strong&gt;
Câu trả lời là nên, nhưng developer thì còn phải viết code, làm các nghiệp vụ dự án, và nhiều việc ưu tiên hơn.
Họ có thể sẽ ngồi cấu hình để sinh ra log, để viết ra log, nhưng có lẽ họ sẽ ít khi đọc.
Vì sao? vì trong hàng đợi thì &lt;strong&gt;đọc log&lt;/strong&gt; chính là nhiệm vụ ít giá trị nhất:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;theo nghĩa nó không tạo ra giá trị mới&lt;/li&gt;
  &lt;li&gt;đọc để điều tra fix lỗi thì bản thân cái lỗi nó đã là minus rồi, thì điều tra cũng chỉ là để “cứu lại” thôi, chứ đâu có tạo ra giá trị mới.
Nhưng chúng ta cũng cần hiểu: “ít giá trị nhất” hiểu theo nghĩa lợi ích trước mắt.
Còn về lâu dài, nếu chịu khó đọc và lưu thành các bài học kinh nghiệm để ngăn chặn sự cố tương tự xảy ra trong tương lai thì nó cũng có 1 chút giá trị.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Tuy nhiên, bạn thấy đấy: với developer khi hàng đợi đang còn nhiều việc implementation chức năng mới thì mấy cái việc monitor, audit logs, đọc logs, phân tích logs chắc chắn sẽ bị biến thành nhiệm vụ thứ yếu.
Mà nhìn chung theo kinh nghiệm của tôi thì thường sẽ là như vậy.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Tester hay QA&lt;/strong&gt; thì cũng &lt;strong&gt;chả bao giờ phải đọc log&lt;/strong&gt;. 
Vì sao? Vì họ chủ yếu là dựa trên spec có sẵn để chỉ ra lỗi, chứ không phải điều tra, phân tích và đối ứng sự cố.
Role này chỉ cần chỉ lỗi so với spec và thế là xong.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Vậy cuối cùng ai sẽ là người hay phải đọc log nhất?&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;ul&gt;
    &lt;li&gt;Quản lý dự án thực hiện nghiệp vụ audit.&lt;/li&gt;
    &lt;li&gt;Điều tra viên, kiểm toán cấp cao do bên trên cử xuống theo dõi và điều tra tình hình dự án.&lt;/li&gt;
    &lt;li&gt;Các chuyên viên phân tích, lập chiến lược ngắn hạn và dài hạn, …&lt;/li&gt;
    &lt;li&gt;Các điều tra viên phải ứng phó với sự cố.&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;Đấy có khoảng chục ông như vậy thôi.&lt;/strong&gt;
Và nếu bây giờ mà tự dưng phát sinh ra dự án thu thập dữ liệu log, xây dựng infrastructure và ứng dụng để phân tích theo dõi log, lên chiến lược kế hoạch thì chắc chắn &lt;strong&gt;số lượng end-users thực sự của ứng dụng ấy chỉ tầm $\leq 10$ ông thôi&lt;/strong&gt;.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Ứng dụng log management chính là &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TẤT CẢ VÌ MỘT NGƯỜI&lt;/code&gt;: chỉ vì 10 ông mà phải huy động hết tinh anh ra trận.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;các-cấp-độ-quản-lý-log&quot;&gt;Các cấp độ quản lý log&lt;/h2&gt;

&lt;p&gt;Theo &lt;strong&gt;Bản ghi nhớ &lt;a href=&quot;https://www.whitehouse.gov/wp-content/uploads/2021/08/M-21-31-Improving-the-Federal-Governments-Investigative-and-Remediation-Capabilities-Related-to-Cybersecurity-Incidents.pdf&quot;&gt;M-21-31&lt;/a&gt; Improving the Federal Government’s Investigative and Remediation Capabilities Related to Cybersecurity Incidents [2]&lt;/strong&gt; giữa các lãnh đạo cấp cao các cơ quan chính phủ Hoa Kỳ liên quan tới điều tra và nâng cấp khả năng ứng phó liên quan tới các sự cố an ninh mạng, các cấp độ quản lý log được chia làm 4 cấp độ từ &lt;strong&gt;không hiệu quả&lt;/strong&gt; tới cấp &lt;strong&gt;advanced&lt;/strong&gt; như sau:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;&lt;strong&gt;Cấp độ&lt;/strong&gt;&lt;/th&gt;
      &lt;th&gt;&lt;strong&gt;Hạng&lt;/strong&gt;&lt;/th&gt;
      &lt;th&gt;&lt;strong&gt;Mô tả&lt;/strong&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;em&gt;EL0&lt;/em&gt;&lt;/td&gt;
      &lt;td&gt;Không hiệu quả&lt;/td&gt;
      &lt;td&gt;Ở cấp này, các thông tin cần thiết ứng với các sự cố nguy hiểm (highest criticality) không được quản lý log hoặc chỉ được quản lý một phần không đầy đủ.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;em&gt;EL1&lt;/em&gt;&lt;/td&gt;
      &lt;td&gt;Basic&lt;/td&gt;
      &lt;td&gt;Các sự kiện ở cấp highest criticality được log đầy đủ và quản lý hoàn chỉnh.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;em&gt;EL2&lt;/em&gt;&lt;/td&gt;
      &lt;td&gt;Intermediate&lt;/td&gt;
      &lt;td&gt;Không chỉ các sự kiện cấp highest mà kể cả cấp intermediate cũng được quản lý log đầy đủ.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;em&gt;EL3&lt;/em&gt;&lt;/td&gt;
      &lt;td&gt;Advanced&lt;/td&gt;
      &lt;td&gt;Mọi sự kiện criticality đều được quản lý log.&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Trong bản ghi nhớ nói trên, cũng đã thể hiện sự đồng thuận giữa các cơ quan chủ quản rằng ở cấp chính phủ (bao gồm cả quân sự) của Hoa Kỳ thì phải đạt đến cấp &lt;em&gt;EL3&lt;/em&gt;.
Ngoài ra, lộ trình tính từ ngày ký vào bản ghi nhớ được thống nhất như sau:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Trong vòng 60 ngày kể từ ngày ký phải bắt đầu thực hiện các biện pháp cải thiện hệ thống quản lý log trong cơ quan chủ quản. Việc này thể hiện qua việc chuẩn bị resources, lên kế hoạch và phải nộp cả bản kế hoạch thực hiện cho RMO và OFCIO.&lt;/li&gt;
  &lt;li&gt;Trong vòng 1 năm kể từ ngày ký, các cơ quan có liên quan phải đạt đến level &lt;em&gt;EL1&lt;/em&gt;.&lt;/li&gt;
  &lt;li&gt;Trong vòng 18 tháng kể từ ngày ký, các cơ quan có liên quan phải đạt chuẩn &lt;em&gt;EL2&lt;/em&gt;.&lt;/li&gt;
  &lt;li&gt;Trong vòng 2 năm kể từ ngày ký, các cơ quan liên quan phải đạt đến cấp &lt;em&gt;EL3&lt;/em&gt;, cấp cao nhất thể hiện 1 hệ thống log management hoàn chỉnh.&lt;/li&gt;
  &lt;li&gt;Log được quản lý phải được cung cấp chia sẻ cho các cơ quan điều tra như CISA hay FBI để phục vụ ứng phó với các nguy cơ đến từ không gian mạng.&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;yêu-cầu-của-một-hệ-thống-log-hoàn-chỉnh&quot;&gt;Yêu cầu của một hệ thống log hoàn chỉnh&lt;/h1&gt;

&lt;h2 id=&quot;phân-loại-nguy-cơ&quot;&gt;Phân loại nguy cơ&lt;/h2&gt;

&lt;p&gt;Trong tài liệu tiêu chuẩn của NIST [3] và thậm chí trong bản ghi nhớ [2] thì ít nhất ở cấp &lt;em&gt;EL1&lt;/em&gt; là phải quản lý log &lt;strong&gt;đầy đủ&lt;/strong&gt; với mọi nguy cơ ở cấp (highest criticality) hay &lt;em&gt;Criticality 0&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Những thông tin ở các cấp như sau:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;&lt;strong&gt;Criticality&lt;/strong&gt;&lt;/th&gt;
      &lt;th&gt;&lt;strong&gt;Log data&lt;/strong&gt;&lt;/th&gt;
      &lt;th&gt;&lt;strong&gt;Tần suất lưu trữ&lt;/strong&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;&lt;em&gt;Identity and Credential Management&lt;/em&gt;, &lt;em&gt;Privileged Identity and Credential Management&lt;/em&gt;, &lt;em&gt;IP and DOmain Reputation (As Indicated by Mail Server Connection)&lt;/em&gt;, &lt;em&gt;DNS - Source IP and Port, Destination IP/Port, Date and Time&lt;/em&gt;, &lt;em&gt;Passive DNS Log&lt;/em&gt;, &lt;em&gt;DNS/DHCP/Wifi&lt;/em&gt;, &lt;em&gt;Routers and Switches&lt;/em&gt;, &lt;em&gt;Load Balancer/Reverse Proxy&lt;/em&gt;, &lt;em&gt;Proxies and Web Content Filters&lt;/em&gt;, &lt;em&gt;General Information, OS events, OS audit records&lt;/em&gt;, &lt;em&gt;App Account Information&lt;/em&gt;, &lt;em&gt;Application Operations&lt;/em&gt;, &lt;em&gt;Access to OS components and apps&lt;/em&gt;, &lt;em&gt;System performance and operation characteristics&lt;/em&gt;, &lt;em&gt;system configs&lt;/em&gt;, &lt;em&gt;file access&lt;/em&gt;, &lt;em&gt;host network communications, powershell execution history, WMI events, Registry Access, CLI, BIOS, UEFI, and other firmware&lt;/em&gt;&lt;/td&gt;
      &lt;td&gt;6 tháng đến 12 tháng với Active STorage và 18 tháng với Cold Storage&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/log-01.png&quot; style=&quot;float: right; margin: 10px; width: 50%;&quot; /&gt;
Cấp 0 này có 1 điểm thú vị là những log tập trung trên cloud cũng phải được lưu trữ tối thiểu 12 tháng trên Active Storage.
Có 2 ngoại lệ nhỏ:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Dữ liệu IP package data thì chỉ cần lưu 72h.&lt;/li&gt;
  &lt;li&gt;Dữ liệu log của Google Cloud Platform thì chỉ cần lưu 6 tháng nếu dùng Active Storage.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Nhìn chung bây giờ các bạn cũng sử dụng cloud là chính nên những recommendations từ bên chính phủ Hoa Kỳ tôi cho là rất phù hợp và nên được xem xét.
Với ứng dụng thì nên log lại mọi events như API logs, authentication, authorization, .etc.&lt;/p&gt;

&lt;p&gt;Ngoài cấp &lt;em&gt;Criticality 0&lt;/em&gt; thì các cấp thấp hơn là &lt;em&gt;Criticality 1, 2, và 3&lt;/em&gt;.
Ở cấp &lt;em&gt;EL1&lt;/em&gt; đòi hỏi phải chấn chỉnh toàn bộ việc quản lý log ở cấp 0 (highest).
Đến cấp &lt;em&gt;EL2&lt;/em&gt; doanh nghiệp tổ chức buộc phải thực hiện quản lý mọi log ở cấp 0 và 1.
Còn đến cấp &lt;em&gt;EL3&lt;/em&gt; mặc định là mọi criticality phải được log.
Và Log ở đây &lt;strong&gt;không chỉ là log generation, mà còn là lưu trữ, phân tích, tìm kiếm ở mức đủ để đối ứng sự cố hoặc lên chiến lược&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Nhìn chung khuyến khích các bạn nên tìm đọc thêm tài liệu hướng dẫn tiêu chuẩn quân sự hoặc chính phủ của NIST hoặc FBI.&lt;/p&gt;

&lt;h2 id=&quot;yêu-cầu-thực-thi-ở-các-cấp-el&quot;&gt;Yêu cầu thực thi ở các cấp EL&lt;/h2&gt;

&lt;p&gt;Nói chung ở mọi cấp thì yêu cầu cơ bản nhất là phải thực thi các quy tắc log và thu thập log về 1 điểm tập trung duy nhất (&lt;strong&gt;Centralized logging system&lt;/strong&gt;).&lt;/p&gt;

&lt;h3 id=&quot;el1&quot;&gt;&lt;em&gt;EL1&lt;/em&gt;&lt;/h3&gt;

&lt;p&gt;Ở cấp &lt;em&gt;EL1&lt;/em&gt; những yêu cầu ở mức chỉ cần đối ứng với các nguy cơ cấp &lt;em&gt;Criticality 0&lt;/em&gt;.
Tuy nhiên, ngoài ra vẫn còn 1 đống các tiêu chí cần phải thỏa mãn.
Đầu tiên là &lt;strong&gt;log cái gì?&lt;/strong&gt; thì tối thiểu phải log những thông tin sau:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Log phải được định dạng sẵn và timestamps phải được đồng bộ về cùng dạng biểu diễn.&lt;/li&gt;
  &lt;li&gt;Mã trạng thái của sự kiện (mã lỗi chẳng hạn).&lt;/li&gt;
  &lt;li&gt;ID của thiết bị như địa chỉ MAC.&lt;/li&gt;
  &lt;li&gt;Session / Transaction ID&lt;/li&gt;
  &lt;li&gt;Autonomous System Number&lt;/li&gt;
  &lt;li&gt;Source IP (IPv4)&lt;/li&gt;
  &lt;li&gt;Source IP (IPv6)&lt;/li&gt;
  &lt;li&gt;Destination IP (IPv4)&lt;/li&gt;
  &lt;li&gt;Destination IP (IPv6)&lt;/li&gt;
  &lt;li&gt;Status Code&lt;/li&gt;
  &lt;li&gt;Response Time&lt;/li&gt;
  &lt;li&gt;Các headers bổ sung (i.e., HTTP headers)&lt;/li&gt;
  &lt;li&gt;Khi thích hợp, có thể log username/userID nhưng cần chú ý về tính an toàn dữ liệu người dùng.&lt;/li&gt;
  &lt;li&gt;Khi thích hợp, nên log cả command đã thực hiện ra. Như SQL statement cũng nên log ra.&lt;/li&gt;
  &lt;li&gt;Nên log ở dạng key-value cho anh em dễ xử lý nhá :-)&lt;/li&gt;
  &lt;li&gt;Nếu được nhớ bỏ event ID để anh em correlation về sau!&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Đấy các trường cần có trong logs &lt;strong&gt;ít ra cũng phải được như trên&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Timestamps&lt;/strong&gt; cũng là một vấn đề đau đầu của log.
Tôi từng gặp khá nhiều hệ thống log sử dụng Date/DateTime nhưng nhìn chung không hợp lý.
Theo khuyến cáo của NIST chính phủ Hoa Kỳ thì tất cả Internet đều là &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Timestamps&lt;/code&gt;.
Bạn có thể tham khảo thêm RFC3339.
Có 2 dạng sau hay được dùng:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;YYYY-MM-DDThh:mm:ss.mmmZ (Zulu time, UTC+0) và&lt;/li&gt;
  &lt;li&gt;YYYY-MM-DDThh:mm:ss.mmm+04:00 (UTC+4)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Nếu bạn nào chưa biết UTC hay chữ Z trên có ý nghĩa gì thì nó đơn giản là &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Zulu time&lt;/code&gt; thôi.&lt;/p&gt;

&lt;p&gt;Trong trường hợp các bạn tự thuê server mà build service thì NIST cũng cẩn thận khuyến cáo trong việc đồng bộ timestamps:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Agencies shall use a GPS master station clock as a baseline reference 
for timestamps used for logs and systems producing logs. If GPS 
reference is not possible, agencies shall use NIST’s authenticated time 
service. Public, unauthenticated, and unencrypted NTP pools shall 
only be used as an option of last resort, and only for as long as needed 
to begin leveraging other options.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Nhưng nhìn chung là cứ deploy hết lên Cloud rồi cấu hình timezone cho đỡ đau đầu.
Nhớ là nếu tự build thì đừng dùng mấy cái NTP server khả nghi là ok!&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Event forwarding&lt;/strong&gt;: một tình huống hay gặp nữa là một agent được cài vào máy đối tượng thu thập logs, và sẽ forward toàn bộ log về server xử lý trung tâm. Event forwarding cũng là 1 yêu cầu trong &lt;em&gt;EL1&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Bảo vệ và xác thực logs&lt;/strong&gt;: ở cấp này yêu cầu hạn chế truy cập vào logs với đối tượng nhất định (phân quyền), phải mã hóa logs để tránh rò rỉ thông tin người dùng. Việc bảo vệ logs là 1 thử thách lớn trong log management vì đôi khi có lưu thông tin người dùng vào logs.
Phải định kỳ check logs xem có bị mất, hỏng gì không.
Phải monitor liên tục và khi tự nhiên log dừng là phải có 1 đội phản ứng nhanh nhảy vào đối ứng kiểm tra ngay.&lt;/p&gt;

&lt;p&gt;Các tổ chức chính phủ hay quân sự thì nên log cả &lt;strong&gt;DNS requests&lt;/strong&gt;.
Điều này là cần thiết cho FBI và CISA tiện trong việc điều tra.&lt;/p&gt;

&lt;p&gt;Các tổ chức điều tra cảnh sát cấp liên bang như CISA hay FBI nên có quyền truy cập gần như lập tức vào dữ liệu log để tiện việc điều tra truy tìm tội phạm.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Playbooks&lt;/strong&gt; là công cụ tuyệt vời để thực hiện tự động hóa đối phó sự cố, như với SOAR.&lt;/p&gt;

&lt;p&gt;Ở cấp &lt;em&gt;EL1&lt;/em&gt; tổ chức nên có kế hoạch theo dõi hành vi người dùng.
Và đương nhiên, logs nên được quản lý tập trung:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Logs should be centrally aggregated by an agency component-level 
Enterprise Log Manager (ELM). Traps for detecting data-stream 
disruption should be monitored by the component-level SOC. The DNS 
logging system and accompanying analytics shall be monitored and 
triaged by the component-level SOC.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;el2&quot;&gt;&lt;em&gt;EL2&lt;/em&gt;&lt;/h3&gt;

&lt;p&gt;Về cơ bản, tổ chức được yêu cầu thực hiện đầy đủ các yêu cầu với &lt;em&gt;EL1&lt;/em&gt; cho cả &lt;em&gt;Criticality 0, 1 và 2&lt;/em&gt;.
Ngoài ra, tổ chức nên xuất bản 1 hướng dẫn về cách thức tổ chức cũng như định dạng của logs.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Federal agencies shall provide a document detailing the structure (schema) for those logs to CISA.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Thêm nữa là tổ chức nên có những biện pháp để kiểm tra những encrypted package.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Federal agencies shall retain and store in cleartext form the data or metadata from Appendix C that is collected in their environment. If agencies perform full traffic inspection through active proxies, they should log additional available fields as described in Appendix C and can work with CISA to implement these capabilities. If agencies do not perform full traffic inspection, they should log the metadata available to them. In general, agencies are expected to follow zero-trust principles concerning least privilege and reduced attack surface, and relevant guidance from OMB and CISA relating to zero-trust architecture.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Cuối cùng là top manager của SOCs nên có quyền truy cập vào mọi thành phần của quản lý logs.&lt;/p&gt;

&lt;h3 id=&quot;el3&quot;&gt;&lt;em&gt;EL3&lt;/em&gt;&lt;/h3&gt;

&lt;p&gt;Ở cấp này thì khỏi phải nói, mọi criticality phải được ứng phó!
Việc hunting threats và sử dụng incident response playbooks là phải hoàn chỉnh và thành thục.
Việc monitor user behavior để phát hiện sớm nguy cơ là bắt buộc.
Một số sự kiện nên bắt với hành vi người dùng:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Compromised user credentials&lt;/li&gt;
  &lt;li&gt;Privileged-user compromise&lt;/li&gt;
  &lt;li&gt;Improper asset access&lt;/li&gt;
  &lt;li&gt;Compromised system/host/device&lt;/li&gt;
  &lt;li&gt;Lateral movement of threat actor&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Cuối cùng là ưu tiên sử dụng thành thục SIEM, và hệ thống phân tích xử lý logs tập trung.&lt;/p&gt;

&lt;h2 id=&quot;thiết-kế-một-hệ-thống-quản-lý-log-nghiêm-chỉnh&quot;&gt;Thiết kế một hệ thống quản lý log nghiêm chỉnh&lt;/h2&gt;

&lt;h3 id=&quot;kiến-trúc-tổng-quan&quot;&gt;Kiến trúc tổng quan&lt;/h3&gt;
&lt;p&gt;Kiến trúc tổng quan của 1 hệ thống quản lý logs thường bao gồm:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Log Generation&lt;/strong&gt;: những cái hosts sinh ra logs. Chúng có thể bao gồm backend apps, frontend apps hoặc bất kỳ thể loại apps nào mà có hoạt động trong hệ thống như send emails, … Các hosts này có thể gửi log cho các components khác của hệ thống (collectors và aggregators) để xử lý, hoặc chúng cho phép các components khác truy cập vào và copy logs từ host generation ra.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Log Analysis and Storage&lt;/strong&gt;: Nếu dùng AWS bạn có thể xài Watchlogs, còn Azure thì Logs Analytics hoặc App Insights, … Nhìn chung là bộ phận nhận dữ liệu từ Log Generation và phân tích lưu trữ.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Log Monitoring&lt;/strong&gt;: Có 1 cái dashboard để monitor (near-)real-time logs và review log events.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;------------------        ----------------        ------------------
| Log Generation |  ====&amp;gt; | Log Analysis |  ====&amp;gt; | Log Monitoring |
|                |        ----------------        ------------------
|                |               /\                         /\
|                |               ||                         ||
|                |               \/                         ||
|                |        ----------------                  ||
|                |  ====&amp;gt; | Log Storage  |  =================
|                |        ----------------
------------------
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;các-chức-năng-chính&quot;&gt;Các chức năng chính&lt;/h3&gt;
&lt;p&gt;Nhìn chung một hệ thống log management hoàn chỉnh nên có tối thiểu các chức năng sau:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;&lt;strong&gt;Nhóm chức năng&lt;/strong&gt;&lt;/th&gt;
      &lt;th&gt;&lt;strong&gt;Chức năng&lt;/strong&gt;&lt;/th&gt;
      &lt;th&gt;&lt;strong&gt;Mô tả&lt;/strong&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;General&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;&lt;em&gt;Log parsing&lt;/em&gt;&lt;/td&gt;
      &lt;td&gt;Extract data from a log so that the parsed values can be used as input for another logging process.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;&lt;em&gt;Event filtering&lt;/em&gt;&lt;/td&gt;
      &lt;td&gt;Suppression of log entries from analysis, reporting, or long-term storage because their characteristics indicate that they are unlikely to contain information of interest.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;&lt;em&gt;Event aggregation&lt;/em&gt;&lt;/td&gt;
      &lt;td&gt;Similar entries are consolidated into a single entry containing a count of the number of occurrences of the event.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;Storage&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;&lt;em&gt;Log rotation&lt;/em&gt;&lt;/td&gt;
      &lt;td&gt;Close a log file and opening a new log file when the first file is considered to be complete. Log rotation is typically performed according to a schedule (e.g., hourly, daily, weekly) or when a log file reaches a certain size. The primary benefits of log rotation are preserving log entries and keeping the size of log files manageable. When a log file is rotated, the preserved log file can be compressed to save space.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;&lt;em&gt;Log archival&lt;/em&gt;&lt;/td&gt;
      &lt;td&gt;Retain logs for an extended period of time, typically on removable media, a storage area network (SAN), or a specialized log archival appliance or server. Logs often need to be preserved to meet legal or regulatory requirements.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;&lt;em&gt;Log compression&lt;/em&gt;&lt;/td&gt;
      &lt;td&gt;Store a log file in a way that reduces the amount of storage space needed for the file without altering the meaning of its contents. Log compression is often performed when logs are rotated or archived.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;&lt;em&gt;Log reduction&lt;/em&gt;&lt;/td&gt;
      &lt;td&gt;Remove unneeded entries from a log to create a new log that is smaller. A similar process is &lt;em&gt;event reduction&lt;/em&gt;, which removes unneeded data fields from all log entries.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;&lt;em&gt;Log conversion&lt;/em&gt;&lt;/td&gt;
      &lt;td&gt;Parsing a log in one format and storing its entries in a second format.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;&lt;em&gt;Log normalization&lt;/em&gt;&lt;/td&gt;
      &lt;td&gt;Each log data field is converted to a particular data representation and categorized consistently. One of the most common uses of normalization is storing dates and times in a single format.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;&lt;em&gt;Log file integrity checking&lt;/em&gt;&lt;/td&gt;
      &lt;td&gt;Calculate a message digest for each file and storing the message digest securely to ensure that changes to archived logs are detected.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;Analysis&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;&lt;em&gt;Event correlation&lt;/em&gt;&lt;/td&gt;
      &lt;td&gt;Find relationships between two or more log entries. The most common form of event correlation is rule-based correlation, which matches multiple log entries from a single source or multiple sources based on logged values, such as timestamps, IP addresses, and event types. Event correlation can also be performed in other ways, such as using statistical methods or visualization tools.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;&lt;em&gt;Log viewing&lt;/em&gt;&lt;/td&gt;
      &lt;td&gt;Display log entries in a human-readable format.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;&lt;em&gt;Log reporting&lt;/em&gt;&lt;/td&gt;
      &lt;td&gt;Display the results of log analysis. Log reporting is often performed to summarize significant activity over a particular period of time or to record detailed information related to a particular event or series of events.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;Disposal&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;&lt;em&gt;Log clearing&lt;/em&gt;&lt;/td&gt;
      &lt;td&gt;Remove all entries from a log that precede a certain date and time. Log clearing is often performed to remove old log data that is no longer needed on a system because it is not of importance or it has been archived.&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h1 id=&quot;usecase-cấu-hình-hệ-thống-log-với-một-website-viết-bằng-python&quot;&gt;Usecase: Cấu hình hệ thống log với một website viết bằng Python&lt;/h1&gt;

&lt;h2 id=&quot;lên-kế-hoạch-thực-thi&quot;&gt;Lên kế hoạch thực thi&lt;/h2&gt;

&lt;p&gt;Bước thiết kế như đã nói ở trên là theo tiêu chuẩn rồi.
Giờ tiến hành làm ta cần lên kế hoạch, làm rõ các tham số như:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Thời gian lưu trữ logs là bao lâu?&lt;/li&gt;
  &lt;li&gt;Tần suất rotate là bao lâu một lần?&lt;/li&gt;
  &lt;li&gt;Tần suất gửi log về Log Management System (LMS)&lt;/li&gt;
  &lt;li&gt;Tần suất xử lý log ở local&lt;/li&gt;
  &lt;li&gt;Có cần validate logs trước khi rotate?&lt;/li&gt;
  &lt;li&gt;Có cần mã hóa log ở local hay không?&lt;/li&gt;
  &lt;li&gt;Khi gửi log về LMS có cần mã hóa đường truyền hay dùng đường truyền riêng biệt để gửi hay không?&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Bạn cần phải đánh giá impact của hệ thống từ low, medium và high impact để quyết định tham số.&lt;/p&gt;

&lt;p&gt;Tất nhiên, implement thì vẫn là dùng công cụ có sẵn thôi.
Như Python thì dùng logging của STL cho yên tâm về nguồn gốc xuất xứ (dùng third-party thì lại lo xuất xứ).
Còn quản lý log tập trung thì anh em lại CLoudWatch hoặc Logs Analytics mà tương thôi!&lt;/p&gt;

&lt;h2 id=&quot;lên-kế-hoạch-vận-hành&quot;&gt;Lên kế hoạch vận hành&lt;/h2&gt;
&lt;p&gt;Có 4 việc nên làm:&lt;/p&gt;
&lt;ul class=&quot;task-list&quot;&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; checked=&quot;checked&quot; /&gt;Cấu hình các log sources, bao gồm cả log generation, storage, và security
    &lt;ul&gt;
      &lt;li&gt;Cái này thì anh em dùng &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;logging&lt;/code&gt; của Python, để rotate thì nhớ dùng cái &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RotatingFileHnadler&lt;/code&gt; hoặc &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TimeRotatingFileHandler&lt;/code&gt;.&lt;/li&gt;
      &lt;li&gt;Để quản lý tập trung thì nên gửi vào Azure App Insights, hoặc deploy thẳng lên Azure WebApps thì nó lên thẳng luôn, nhớ enable chức năng App Insights là ổn.&lt;/li&gt;
      &lt;li&gt;Storage thì đã dùng nền tảng Azure Monitoring thì nó bill bạn theo GB/tháng.&lt;/li&gt;
      &lt;li&gt;Về security thì chính là security cho Azure account của bạn. Đọc thêm hướng dẫn của M$ để biết.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; checked=&quot;checked&quot; /&gt;Phân tích log data
    &lt;ul&gt;
      &lt;li&gt;Cái này thì khuyên nên dùng những cái board kiểu như App Insights, bắn log là nó lên, ngồi tương tác chỉ trỏ rồi xem dữ liệu thôi.&lt;/li&gt;
      &lt;li&gt;Bạn có thể dùng query logs.&lt;/li&gt;
      &lt;li&gt;Bạn có thể làm thêm dashboard nếu cấu hình vào Power BI.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; checked=&quot;checked&quot; /&gt;Initiate appropriate responses to identified events
    &lt;ul&gt;
      &lt;li&gt;Playbooks không lằng nhằng.&lt;/li&gt;
      &lt;li&gt;Nên quyết định rule ứng phó và chia ca để các em nó thay nhau trực.&lt;/li&gt;
      &lt;li&gt;Nhớ để các em nó testing và validation.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; checked=&quot;checked&quot; /&gt;Manage the long-term storage of log data
    &lt;ul&gt;
      &lt;li&gt;Nhớ archive log đều đặn.&lt;/li&gt;
      &lt;li&gt;Nhớ tạo format chung cho toàn bộ log được lưu trữ.&lt;/li&gt;
      &lt;li&gt;Nhớ tạo message digest cho log records để đảm bảo integrity.&lt;/li&gt;
      &lt;li&gt;Nhớ mã hóa ổ đĩa nhé.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;kết-luận&quot;&gt;Kết luận&lt;/h1&gt;

&lt;p&gt;Chúng ta đã điểm qua cách xây dựng và vận hành một hệ thống quản lý logs theo tiêu chuẩn liên bang Hoa Kỳ.
Tài liệu giới thiệu ở đây có sẵn file PDF tầm trăm trang, các bạn nên dành thời gian đọc kỹ và thực hành để hiểu thêm nếu cần.
Nói chung cũng tùy tình hình mà có những trường hợp phải dành ra một dự án vài năm cũng chỉ để học cách viết log cho nghiêm chỉnh.
Thế nên có cơ hội các bạn nên trau dồi, vì thực sự cái tổng thời gian cấu hình chắc chỉ vài tiếng!&lt;/p&gt;

&lt;h1 id=&quot;tài-liệu-tham-khảo&quot;&gt;Tài liệu tham khảo&lt;/h1&gt;

&lt;ol class=&quot;bibliography&quot;&gt;&lt;li&gt;&lt;span id=&quot;LogManag44:online&quot;&gt;US Department of Commerce, Technology Administration, National Institute of Standards and Technology. &lt;i&gt;Log Management | CSRC&lt;/i&gt;. https://csrc.nist.gov/Projects/log-management&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;M213156:online&quot;&gt;Executive Office of the President Office of Management and Budget. (2021). &lt;i&gt;M-21-31: Memorandum for the Heads of Executive Departments and Agencies&lt;/i&gt;. https://www.whitehouse.gov/wp-content/uploads/2021/08/M-21-31-Improving-the-Federal-Governments-Investigative-and-Remediation-Capabilities-Related-to-Cybersecurity-Incidents.pdf&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;kent2006guide&quot;&gt;Kent, K. A., &amp;amp; Souppaya, M. (2006). &lt;i&gt;Guide to Computer Security Log Management: Recommendations of the National Institute of Standards and Technology&lt;/i&gt;. US Department of Commerce, Technology Administration, National Institute of Standards and Technology.&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;</content><author><name>Tuan Nguyen-Anh</name></author><category term="non-english" /><category term="se" /><category term="sre" /><category term="logging" /><category term="log4j" /><category term="python" /><summary type="html">Source: SIEM Viết log nghe như một việc tưởng chừng vô cùng đơn giản, với kỹ sư SRE thì có khi chỉ 2-3 giờ đồng hồ là có thể cấu hình chuẩn chỉnh được ngay một hệ thống log ngon nghẻ. Thế nhưng cũng có những dự án chiến lược cấp tập đoàn mà đôi khi phải dành hẳn cả 6 tháng 1 năm để cho các kỹ sư học cách viết log cho nó OK em. Và quản lý log, bao gồm cả cấu hình một hệ thống log nghiêm chỉnh để có thể audit và đối ứng sự cố tốt không phải là 1 việc đơn giản: tức là tốn công. Nhưng các bạn biết đấy, audit hay đối ứng sự cố là những nghiệp vụ không tạo ra dịch vụ sản phẩm gì mới cả, mà tập trung hơn vào việc fix lỗi, chỉ lỗi, tức là một thứ cần thiết nhưng ít thì tốt hơn. Và lại còn bới lông tìm vết nữa thì lại còn vấn đề mất lòng đồng nghiệp các cái, tóm lại là một thứ nghiệp vụ vô cùng “nửa nạc nửa mỡ”, “bỏ thì thương mà vương thì tội (trích Tam quốc diễn nghĩa)”. Và cũng chính vì vậy, trong nghiệp vụ quản lý dự án nói chung, thay vì để PM hay quản lý phải làm hết những nghiệp vụ “mất lòng” này, thì tốt nhất vẫn là nên bắt các ông dev tự mà quản lý log, tự audit và tự đối ứng sự cố thì sẽ tránh cãi vã mất thời gian mà tóm lại, code ông nào thì tự ông ấy audit log và đối ứng đi. Và như vậy đòi hỏi phải có chuẩn (standard) cho việc quản lý log, đối ứng sự cố, cũng như tutorials và training để các em dev viết log cho nó nghiêm chỉnh. Và cũng thú thực luôn là chuyện dành ra 6 tháng đến 1 năm bắt các kỹ sư chỉ học cách viết log cho nghiêm chỉnh là chuyện có thật, mà không phải ở cấp vớ vấn mà ngay cấp doanh nghiệp tập đoàn!</summary></entry><entry><title type="html">Why lean startups love fullstack engineers?</title><link href="https://wanted2.github.io/non-english/se/pm/2021/11/27/fullstask-engineer-and-lean-startup.html" rel="alternate" type="text/html" title="Why lean startups love fullstack engineers?" /><published>2021-11-27T00:00:00+09:00</published><updated>2021-11-27T00:00:00+09:00</updated><id>https://wanted2.github.io/non-english/se/pm/2021/11/27/fullstask-engineer-and-lean-startup</id><content type="html" xml:base="https://wanted2.github.io/non-english/se/pm/2021/11/27/fullstask-engineer-and-lean-startup.html">&lt;p&gt;&lt;img src=&quot;https://vertical-innovation.com/wp-content/uploads/2020/05/Lean-startup-VerticalInnovation.jpg&quot; alt=&quot;lean&quot; /&gt;
&lt;em&gt;Source &lt;a href=&quot;https://vertical-innovation.com&quot;&gt;Vertical Innovation&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Lean&lt;/strong&gt; [1] is the most widespread management philosophy of our time and is currently present in every industry, yet the concept is still vaguely defined and widely misunderstood.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Efficiency paradox&lt;/strong&gt; … the idea of the efficiency paradox, which claims that organisations’ understanding of “true efficiency” is incorrect. It suggests that when organisations focus too much on utilising resources efficiently – the traditional and most common form of efficiency – it tends to lead to an increase in the amount of work there is to do. Consequently, the more organisations try to be efficient (being busy), the more inefficient they will actually become (taking care of non-value adding but necessary work). This is Lean addresses +how to resolve this paradox.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Bắt đầu từ gần 10 năm trước, năm 2011, bởi Eric Ries, Lean đã trở thành một phương pháp luận để cải tiến hiệu suất công việc và số lượng startups là Lean startups ngày càng gia tăng cho thấy sự yêu chuộng dành cho Lean từ cộng đồng khởi nghiệp.
Nếu bạn đã từng có một giai đoạn khủng hoảng: ngày nào cũng bận bịu và phải làm tăng ca (OT) đến tận khuya, hoặc thậm chí phải mang việc về nhà làm, bạn đã rơi vào &lt;strong&gt;efficiency paradox&lt;/strong&gt;: &lt;em&gt;bạn luôn bận rộn, nhưng chả hoàn thành (release) cái gì cả&lt;/em&gt;.
Thực ra vế sau chính là dấu hiệu (triệu chứng bệnh) của efficiency paradox, và khi có triệu chứng bận bịu nhưng chả done cái gì, đó chính là lúc &lt;strong&gt;Lean phải thể hiện value&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Nếu cải tiến hiệu suất là mục tiêu của Lean, thì cách thức thực hiện lại vô vùng đòi hỏi sự tỷ mỷ chi tiết.
Một trong số những tiêu chí quan trọng để build 1 team khởi nghiệp Lean, chính là sự tồn tại của &lt;strong&gt;cross-functional team&lt;/strong&gt; hay tức là &lt;strong&gt;fullstack engineers&lt;/strong&gt;.
Lý do tại sao là bởi vì như bạn có cái kìm và cái búa, khi cần đóng đinh thì búa sẽ dùng nhiều hơn và kìm hầu như không có việc, nhưng khi cần vặn ốc thì kìm bận bịu nhưng búa chả có việc gì: vậy tại sao không kiếm một cái vừa là kìm vừa là búa?&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Trong khởi nghiệp Lean, khi nói đến từ FE mà bạn hiểu là Frontend Engineer thì không có value mấy, phải hiểu là &lt;strong&gt;Fullstack Engineer&lt;/strong&gt; thì mới có nhiều value.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;!--more--&gt;

&lt;h1 id=&quot;efficiency-paradox-triệu-chứng-bệnh&quot;&gt;Efficiency Paradox: Triệu chứng bệnh&lt;/h1&gt;

&lt;p&gt;Triệu chứng bệnh của efficiency paradox thì không chỉ có mỗi triệu chứng bận mà chả làm ra cái gì như đã nói ở trên.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Triệu chứng 1&lt;/strong&gt;: &lt;strong&gt;Bận mà chả release được cái gì?&lt;/strong&gt; Tức là hiệu suất resource cao gần 100% nhưng lead time (thời gian từ ideas tới release) lại dài mà đôi khi là infinite! Tức là có thể có release nhưng nhìn chung là lead time rất lớn.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Triệu chứng 2&lt;/strong&gt;: &lt;strong&gt;Release nhanh nhưng có nhiều người không có việc.&lt;/strong&gt; Tức là team chia việc và hoàn thiện nhanh, nhưng có nhiều ムダ (tiếng Nhật nghĩa là lãng phí) tức là nhiều bạn chả có việc gì làm, mà nếu cho các bạn ấy làm việc khác thì lại phải ngồi điều tra lại từ đầu, nó lưng chừng dở dang.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Dù là triệu chứng 1 hay 2 thì chắc chắn khởi nghiệp đang ở chỗ loay hoay giải quyết bài toán cân bằng hiệu suất sử dụng (tăng hiệu suất sử dụng nhân lực) và tỷ lệ hoàn thiện (rút ngắn thời gian release).&lt;/p&gt;

&lt;h1 id=&quot;lean-startups&quot;&gt;Lean startups&lt;/h1&gt;

&lt;h2 id=&quot;nhận-xét-về-lean&quot;&gt;Nhận xét về Lean&lt;/h2&gt;

&lt;p&gt;Và để giải quyết bài toán hiệu suất, phương pháp cải tiến của Eric Ries bắt đầu từ những năm 2011 mang tên &lt;strong&gt;Lean startups&lt;/strong&gt; là một phương pháp được ưa chuộng gần đây.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Ưu điểm lớn nhất của Lean chính là vòng tuần hoàn liên tục &lt;strong&gt;Build-Measure-Learn&lt;/strong&gt; khiến cho team dần trưởng thành và hiệu suất gia tăng.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Teams có thể chưa hoàn chỉnh trong vòng thứ nhất nhưng sẽ &lt;em&gt;learn&lt;/em&gt; và lặp lại quá trình &lt;em&gt;build&lt;/em&gt;, &lt;em&gt;measure&lt;/em&gt; đển khi hoàn thiện.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Nhược điểm lớn nhất là việc phụ thuộc quá lớn vào skill của mỗi members: thợ học việc cỡ sinh viên, những nhân viên chỉ biết làm đúng 1 việc frontend hoặc backend, hoặc chỉ biết code mà không làm những quy trình báo cáo, tuyển dụng, … sẽ là chướng ngại mà sớm muộn cũng bị đào thải.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Thiếu tập trung&lt;/strong&gt; là tử địa của Lean. Nếu 1 members trong Lean startups không toàn tâm toàn ý 100% cho startup mà lại phân tâm sang 1 dự án khác 50-50 hoặc 1 cty khác 50-50, Lean chắc chắn fail!&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Tại sao? Bởi vì vòng quay của Lean đòi hỏi mọi members trong teams phải toàn tâm toàn ý cho việc cải tiến, theo dõi, và đối ứng.
&lt;strong&gt;Chính việc phải toàn tâm toàn ý khiến cho việc cùng lúc chạy 2 dự án là vô vùng khó khăn nếu 1 trong 2 cái là Lean.&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Nuôi Lean như nuôi Thánh Gióng: cứ phải nuôi nó từ từ, và trong quá trình nuôi là phải theo dõi chăm chút từng ly từng tý. Nhưng khi hữu sự, thì phải cho nó ăn hàng gánh cơm, hàng nong đậu phụ thì nó lại lớn nhanh như thổi, một phát đánh đuổi quân ngoại xâm. Nuôi Lean chính là nuôi một đứa trẻ như vậy!&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Mà bà mẹ trong chuyện cổ tích &lt;strong&gt;Thánh Gióng&lt;/strong&gt; là cứ phải nuôi nó đến lúc thành công, mới gọi là gặt hái.
Với Lean, đó chính là lúc mà vòng quay vừa nhanh, teams luôn có việc mà tốc độ release cũng flash.&lt;/p&gt;

&lt;p&gt;Tất nhiên, thực ra trong đời thực, có những người vẫn có 2-3 đứa con, mà đứa nào cũng là “Lean”, tức là kiểu trẻ phải được kèm cặp từ nhỏ.
Điều đó dẫn đến chuyện ôm cùng lúc 3 ông con, mà ông nào cũng là Lean cũng là chuyện bình thường.
Nhưng sẽ rất mệt, mà nhìn chung là sẽ phải đến lúc nào đó bắt buộc phải kệ chúng nó tự lớn.&lt;/p&gt;

&lt;h2 id=&quot;lợi-ích-của-lean&quot;&gt;Lợi ích của Lean&lt;/h2&gt;

&lt;p&gt;Nếu bạn nuôi được startup Lean đến lúc trưởng thành thì quả ngọt vô số.
Lean startup khi trưởng thành thì vô vàn lợi ích mà người chăn nuôi có thể nhận được:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;ul&gt;
    &lt;li&gt;Improving the quality of work processes hay &lt;strong&gt;Cải tiến chất lượng quy trình&lt;/strong&gt;&lt;/li&gt;
    &lt;li&gt;Reducing errors or defects in work processes hay &lt;strong&gt;Giảm thiểu lỗi quy trình&lt;/strong&gt;&lt;/li&gt;
    &lt;li&gt;Reducing costs hay &lt;strong&gt;Giảm thiểu giá thành&lt;/strong&gt;&lt;/li&gt;
    &lt;li&gt;Improving flow of the process hay &lt;strong&gt;Cải tiến flow làm việc&lt;/strong&gt;&lt;/li&gt;
    &lt;li&gt;Simplifying complex processes hay &lt;strong&gt;Đơn giản hóa quy trình&lt;/strong&gt;&lt;/li&gt;
    &lt;li&gt;Reducing lead time hay &lt;strong&gt;Đẩy nhanh thời điểm release&lt;/strong&gt;&lt;/li&gt;
    &lt;li&gt;Improving employee morale hay &lt;strong&gt;Tăng động lực làm việc cho nhân viên&lt;/strong&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;ứng-dụng-lean&quot;&gt;Ứng dụng Lean&lt;/h2&gt;

&lt;p&gt;Để áp dụng Lean vào quy trình phần mềm (software development), việc triển khai các hạng mục trong &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Build-Measure-Learn&lt;/code&gt; là cần thiết, nhưng cũng phải tùy vào tình hình của team.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Đầu tiên, phải xác định vấn đề&lt;/strong&gt;: Muda phát sinh từ đâu? Nguyên nhân là do vấn đề gì?&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Xây dựng quy trình tiêu chuẩn&lt;/strong&gt;: mọi hoạt động của team cần được chuẩn hóa và tốt nhất nên dùng tự động hóa.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;CI/CD&lt;/strong&gt; là sống còn, chất lượng phải được cải tiến và trực quan hóa cho mọi cấp quản lý cũng như members.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Nên có quy trình “kéo”&lt;/strong&gt; tức là trigger của quy trình này phải đến từ nhu cầu của quy trình tiếp theo.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Nếu như nhìn vào biểu đồ trên, bạn thấy ngay luồng chạy của Lean startups là liên tục không gián đoạn, nhưng dữ liệu thu thập được dùng để trực quan hóa sẽ chuyển biến thành các bài học để cải tiến team.&lt;/p&gt;

&lt;p&gt;Rất tiếc, trong thực tế mặc dù Lean startups được bảo đảm sẽ hội tụ, nhưng quy trình sẽ có thể rất lâu tùy vào xuất phát điểm của teams:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Chất lượng members&lt;/strong&gt;: các bạn đã nhiều năm kinh nghiệm dev chưa hay chỉ là sinh viên? Đã quen thực chiến, đa dzi năng chưa hay chỉ biết gán cho các mác frontend là ông suốt ngày chỉ làm frontend?&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Sự đa năng&lt;/strong&gt;: Gán cho cái mác coder thì suốt ngày chỉ biết code mà chả biết làm báo cáo, chả biết quy trình team, chả biết gì đến các nghiệp vụ quản lý, tuyển dụng khác, …&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Tốc độ học của teams&lt;/strong&gt;: nếu teams chậm tiếp thu, tốc độ xử lý point thấp (chỉ vài điểm một tuần) thì sẽ càng lâu đến trưởng thành.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Chất lượng chia việc&lt;/strong&gt;: tôi gặp khá nhiều chứ không phải 1-2 trường hợp, là cứ đẩy việc cho member chất lượng thấp, nhưng lại bắt một cái worker năng lực thấp phải tính toán một khối công việc rất lớn mà lúc nó tính lâu mất thời gian thì lại sốt ruột, giục, …
&lt;strong&gt;Muốn nhanh thì phải chia nhỏ, đơn giản hóa (đúng theo tinh thần của Lean nhé)&lt;/strong&gt;, chứ phức tạp to tát mà giao cho workers cấp thấp là … hỏng việc đấy!&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Đôi khi cũng là kinh nghiệm làm việc bên giới outsource thôi, là các bạn outsource chưa làm quen nhiều với mô hình Lean startups.
Do đó khi ốp các bạn vào khung Lean, các bạn thường sẽ hiệu suất rất kém, thậm chí cảm thấy tự ti vì mô hình Lean đòi hỏi các bạn phải &lt;strong&gt;chủ động&lt;/strong&gt;, &lt;strong&gt;quyết chiến&lt;/strong&gt;, &lt;strong&gt;năng động&lt;/strong&gt;, &lt;strong&gt;học hỏi nhanh&lt;/strong&gt;, &lt;strong&gt;chịu áp lực tốt&lt;/strong&gt;, …
Nhưng sinh viên mình kể từ khi ngồi trên ghế nhà trường, tự học thì không có khả năng, năng động chủ động là không có nên hầu như thụ động tiếp thu theo kiểu &lt;strong&gt;Anh phải lead bọn em mới đi&lt;/strong&gt;.
&lt;strong&gt;Thế thì còn Lean cái nỗi gì hả em?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Đây là vấn đề vô cùng đau đầu với sinh viên người Việt mà nhìn chung, mắng chửi thì bảo anh ác, nhưng mà không nện cho thì thôi còn Lean làm gì nữa? Chất lượng member nó chỉ được như thế thôi, mà rồi còn bao nhiêu vấn đề khác như đãi ngộ mặt bằng chung xã hội thấp, chế độ không tốt, …
Nên nói chung đem Lean về VN là cũng có thể nhưng phải chấp nhận mất thời gian và phải hiểu là &lt;strong&gt;mất rất nhiều thời gian&lt;/strong&gt;.
Do đó khi làm việc với các KH mà kiểu họ hướng vào Lean, là theo kinh nghiệm của tôi là phải đánh chặn luôn: “&lt;strong&gt;Đây tình hình outsource VN nó chỉ được thế này thôi? Có đòi hỏi thì cũng rất mất thời gian. Các ông hiểu rồi thì nhảy vào chiến với anh em, còn không thì tôi nghĩ cũng không có giải pháp nào đâu với cái tình hình như thế này!&lt;/strong&gt;.
Chứ giờ có bảo thay đổi chế độ, thay đổi cả quốc tính dân tộc, … những chuyện &lt;strong&gt;to tát phức tạp&lt;/strong&gt; như thế thì không làm được đâu!&lt;/p&gt;

&lt;h1 id=&quot;fullstack-engineers-và-cross-functional-teams&quot;&gt;Fullstack engineers và cross-functional teams&lt;/h1&gt;

&lt;p&gt;Một đặc điểm quan trọng của các chiến binh trong dream team của Lean startup đó chính là &lt;strong&gt;cross-functional team&lt;/strong&gt;, tức là các member phải đa năng: việc gì cũng biết, kể từ code backend/frontend, đến cấu hình infra, thiết kế hệ thống các cái, đến thậm chí những công việc ngoài luồng kỹ thuật như kế toán, sổ sách, làm thiết kế hệ thống basic/detail designs, quản lý, tuyển dụng phỏng vấn, …&lt;/p&gt;

&lt;p&gt;Điểm này khác với các tập đoàn công ty lớn, đòi hỏi các bộ phận phải có sự chuyên môn hóa: ông nào frontend thì cả đời cứ chạy frontend cho tôi.
&lt;strong&gt;Anh cứ kệ em, em chỉ code thôi còn những việc khác em không biết&lt;/strong&gt;.
Thì những cái kiểu như thế chắc chắn không phù hợp với Lean startups.&lt;/p&gt;

&lt;p&gt;Các team Lean thường rất nhỏ, nhưng các member thì như biệt đội Avengers vậy, mỗi người đều có thể làm mọi khâu trong quy trình thậm chí thay thế khi đồng đội đang đảm nhiệm khâu đó nghỉ.&lt;/p&gt;

&lt;p&gt;Vì vậy, nếu có một member kiểu fullstack mà lại chơi được mọi “súng” thì không việc gì phải bàn.
Ngược lại những member chỉ kiểu tròn vai thì về nguyên tắc của Lean startups là … không ổn.&lt;/p&gt;

&lt;h1 id=&quot;kết-luận&quot;&gt;Kết luận&lt;/h1&gt;

&lt;p&gt;Nói thì dài dòng, nhưng kết luận thì ngắn gọn thôi:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Lean startups&lt;/strong&gt; là một phương pháp cải tiến hiệu suất cấp team nhỏ trên thế giới, nhưng đem về Vn thì phải chấp nhận rằng &lt;strong&gt;“chỉ được đến thế thôi”&lt;/strong&gt;.
Còn muốn hơn thì tốt nhất tuyển người qua nước tư bản kiểu chọn nhặt tài năng chứ còn cái kiểu đại trà theo outsource chỉ được đến thế thôi.&lt;/li&gt;
  &lt;li&gt;Muốn xây dựng dream teams cho Lean startups thì bắt buộc phải có vị trí Fullstack.&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;tài-liệu-tham-khảo&quot;&gt;Tài liệu tham khảo&lt;/h1&gt;

&lt;ol class=&quot;bibliography&quot;&gt;&lt;li&gt;&lt;span id=&quot;ThisisLe25:online&quot;&gt;&lt;i&gt;This is Lean |&lt;/i&gt;. https://thisislean.com/&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;</content><author><name>Tuan Nguyen-Anh</name></author><category term="non-english" /><category term="se" /><category term="pm" /><category term="project management" /><category term="project lifecycle" /><category term="software development" /><category term="lean stratup" /><category term="this is lean" /><category term="fullstack engineer" /><summary type="html">Source Vertical Innovation Lean [1] is the most widespread management philosophy of our time and is currently present in every industry, yet the concept is still vaguely defined and widely misunderstood. Efficiency paradox … the idea of the efficiency paradox, which claims that organisations’ understanding of “true efficiency” is incorrect. It suggests that when organisations focus too much on utilising resources efficiently – the traditional and most common form of efficiency – it tends to lead to an increase in the amount of work there is to do. Consequently, the more organisations try to be efficient (being busy), the more inefficient they will actually become (taking care of non-value adding but necessary work). This is Lean addresses +how to resolve this paradox. Bắt đầu từ gần 10 năm trước, năm 2011, bởi Eric Ries, Lean đã trở thành một phương pháp luận để cải tiến hiệu suất công việc và số lượng startups là Lean startups ngày càng gia tăng cho thấy sự yêu chuộng dành cho Lean từ cộng đồng khởi nghiệp. Nếu bạn đã từng có một giai đoạn khủng hoảng: ngày nào cũng bận bịu và phải làm tăng ca (OT) đến tận khuya, hoặc thậm chí phải mang việc về nhà làm, bạn đã rơi vào efficiency paradox: bạn luôn bận rộn, nhưng chả hoàn thành (release) cái gì cả. Thực ra vế sau chính là dấu hiệu (triệu chứng bệnh) của efficiency paradox, và khi có triệu chứng bận bịu nhưng chả done cái gì, đó chính là lúc Lean phải thể hiện value. Nếu cải tiến hiệu suất là mục tiêu của Lean, thì cách thức thực hiện lại vô vùng đòi hỏi sự tỷ mỷ chi tiết. Một trong số những tiêu chí quan trọng để build 1 team khởi nghiệp Lean, chính là sự tồn tại của cross-functional team hay tức là fullstack engineers. Lý do tại sao là bởi vì như bạn có cái kìm và cái búa, khi cần đóng đinh thì búa sẽ dùng nhiều hơn và kìm hầu như không có việc, nhưng khi cần vặn ốc thì kìm bận bịu nhưng búa chả có việc gì: vậy tại sao không kiếm một cái vừa là kìm vừa là búa? Trong khởi nghiệp Lean, khi nói đến từ FE mà bạn hiểu là Frontend Engineer thì không có value mấy, phải hiểu là Fullstack Engineer thì mới có nhiều value.</summary></entry><entry><title type="html">Quả trứng và con gà: cái nào có trước? - Bất bình đẳng về lương và sản lượng lao động</title><link href="https://wanted2.github.io/non-english/se/pm/ai/2021/11/20/chicken-and-egg-problem.html" rel="alternate" type="text/html" title="Quả trứng và con gà: cái nào có trước? - Bất bình đẳng về lương và sản lượng lao động" /><published>2021-11-20T00:00:00+09:00</published><updated>2021-11-20T00:00:00+09:00</updated><id>https://wanted2.github.io/non-english/se/pm/ai/2021/11/20/chicken-and-egg-problem</id><content type="html" xml:base="https://wanted2.github.io/non-english/se/pm/ai/2021/11/20/chicken-and-egg-problem.html">&lt;iframe width=&quot;100%&quot; height=&quot;680&quot; src=&quot;https://www.epi.org?p=235212&amp;amp;view=embed&amp;amp;embed_template=charts_v2013_08_21&amp;amp;embed_date=20211121&amp;amp;onp=91701&amp;amp;utm_source=epi_press&amp;amp;utm_medium=chart_embed&amp;amp;utm_campaign=charts_v2&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;&lt;strong&gt;Con gà và quả trứng&lt;/strong&gt; là một bài toán kinh điển trong thống kê học cổ điển liên quan tới &lt;strong&gt;nhân quả (causality)&lt;/strong&gt; và &lt;strong&gt;luân hồi (feedback)&lt;/strong&gt; của các chuỗi thời gian (time series).
Năm 1969, Granger (Nobel kinh tế 2003) xuất bản một seminar paper [1] định tính hóa nhân quả và luân hồi giữa các chuỗi sự kiện thời gian (temporal time series).
Việc kiểm tra nhân quả và luân hồi giữa các chuỗi thời gian được định tính và định lượng thông qua &lt;strong&gt;Granger verification&lt;/strong&gt;.
Năm 1979, Feige và Pearce [2] nghiên cứu về mối quan hệ luân hồi giữa tiền tệ và thu nhập, có sử dụng Granger verification.
Năm 1988, Thurman và Fisher [3] nghiên cứu chuỗi thời gian về sản lượng trứng cũng như chuỗi dữ liệu về số lượng gà trên toàn nước Mỹ để tìm ra quan hệ nhân quả giữa trứng và gà.
Họ sử dụng công thức của Granger và lần đầu tiên kết luận mang tính thống kê rằng &lt;strong&gt;trứng có trước và là nguyên nhân sinh ra gà&lt;/strong&gt;.
Phân tích các chuỗi sự kiện thời gian (time series analysis) và nhân quả/luân hồi giữa các chuỗi là một chủ đề truyền thống của thống kê và kinh tế học.
Gần đây, những nghiên cứu cũng cho thấy sự tồn tại nhân quả giữa &lt;strong&gt;sản lượng lao động và bất bình đăng thu nhập&lt;/strong&gt; hay bài toán &lt;strong&gt;Productivity-Pay Gap&lt;/strong&gt; [4].
Thật thú vị rằng trong 40 năm qua, mặc dù sản lượng lao động bình quân năm tăng 61.8%, nhưng lương của người lao động không hề tăng cao, dẫn tới bất bình đẳng thu nhập gia tăng (giá trị tạo ra thay vì đi vào túi người lao động lại tập trung vào túi của tầng lớp chóp bu trong xã hội Mỹ).
&lt;!--more--&gt;&lt;/p&gt;

&lt;h1 id=&quot;granger-verification&quot;&gt;Granger verification&lt;/h1&gt;

&lt;p&gt;Con gà và quả trứng [3], cũng như Productivity-Pay gap [4] là hai ứng dụng cơ bản của Granger method [1].
Giả sử ta có chuỗi thời gian $\mathbf{X}=\{X_t\}_{t=-\infty}^{+\infty}$ với thời điểm $t=0$ là thời điểm bắt đầu quan sát.&lt;/p&gt;

&lt;p&gt;Ta kí hiệu chuỗi tín hiệu quá khứ của thời điểm $t$ là $\overline{\mathbf{X_t}}=\{X_{t-i}\}_{i=1}^{+\infty}$.&lt;/p&gt;

&lt;p&gt;Ngoài ra, chuỗi tín hiệu quá khứ và hiện tại của thời điểm $t$ là $\overline{\overline{\mathbf{X_t}}}=\{X_{t-i}\}_{i=0}^{+\infty}$.&lt;/p&gt;

&lt;p&gt;Ta cũng ký hiệu giá trị ước đoán điều kiện của $A_t$ trong một chuỗi $\mathbf{A}$ theo least-square errors khi có quan sát là chuỗi $\mathbf{B}$ là $P_t(\mathbf{A}\mid\mathbf{B})$.&lt;/p&gt;

&lt;p&gt;Chuỗi giá trị lỗi của một dự đoán là $\epsilon_t(\mathbf{A}\mid\mathbf{B})=A_t-P_t(\mathbf{A}\mid\mathbf{B})$.&lt;/p&gt;

&lt;p&gt;Ta hãy gọi $\sigma^2_t(\mathbf{A}\mid\mathbf{B})$ là phương sai của chuỗi giá trị lỗi $\epsilon_t(\mathbf{A}\mid\mathbf{B})$.&lt;/p&gt;

&lt;p&gt;Trong trường hợp này ta hãy giả sử tất cả các chuỗi đều là &lt;strong&gt;sóng dừng&lt;/strong&gt;.
Bây giờ, ta có thể thêm ký hiệu $\mathbf{U}$ là chuỗi thông tin vũ trụ (universe time series) mô tả mọi trạng thái trong quá khứ, hiện tại và tương lai của thế giới.
Thì ứng với một chuỗi sự kiện cụ thể $\mathbf{Y}$ thì $\mathbf{U}-\mathbf{Y}$ là chuỗi thông tin toàn cầu mà bỏ đi thông tin của $\mathbf{Y}$.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Định nghĩa nhân quả&lt;/strong&gt;: Nếu $\sigma^2(\mathbf{X}\mid\overline{\mathbf{U}})\leq\sigma^2(\mathbf{X}\mid\overline{\mathbf{U}-\mathbf{Y}})$ thì $\mathbf{Y}$ là &lt;em&gt;nguyên nhân&lt;/em&gt; gây ra $\mathbf{X}$.
Định nghĩa này của Granger khá là trực quan, nói nôm na là nếu xóa thông tin của $\mathbf{Y}$ khỏi hệ thống thông tin toàn cầu thì dự đoán sẽ có sai lệch lớn hơn, thì rõ ràng $\mathbf{Y}$ là 1 trong các &lt;em&gt;nguyên nhân&lt;/em&gt; gây ra $\mathbf{X}$&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Định nghĩa luân hồi&lt;/strong&gt;: Nếu đồng thời $\sigma^2(\mathbf{X}\mid\overline{\mathbf{U}})\leq\sigma^2(\mathbf{X}\mid\overline{\mathbf{U}-\mathbf{Y}})$ và $\sigma^2(\mathbf{Y}\mid\overline{\mathbf{U}})\leq\sigma^2(\mathbf{Y}\mid\overline{\mathbf{U}-\mathbf{X}})$ thì $\mathbf{Y}$ là &lt;em&gt;luân hồi&lt;/em&gt; $\mathbf{X}$.
Định nghĩa này của Granger cũng khá là trực quan, nói nôm na là nếu $\mathbf{Y}$ là nguyên nhân của $\mathbf{X}$ mà $\mathbf{X}$ cũng là nguyên nhân của $\mathbf{Y}$, thì hai chuỗi có luân hồi nghiệp quả.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Nghiệp quả xa&lt;/strong&gt;: ta nói $\mathbf{Y}$ là &lt;em&gt;nghiệp quả xa&lt;/em&gt; của $\mathbf{X}$ nếu có thêm thông tin quá khứ và hiện tại của $\mathbf{Y}$ thì kết quả dự đoán trở nên chính xác hơn: $P(\mathbf{X}\mid\overline{\mathbf{U}},\overline{\overline{\mathbf{Y}}})\leq P(\mathbf{X}\mid\overline{\mathbf{U}})$.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Độ lệch của nghiệp quả&lt;/strong&gt;: là giá trị số nguyên dương nhỏ nhất thỏa mãn&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;$m={\arg\min}_k\{\sigma^2(\mathbf{X}\mid\mathbf{U}-\mathbf{Y}(k))\leq\sigma^2(\mathbf{X}\mid\mathbf{U}-\mathbf{Y}(k+1))\}$,&lt;/p&gt;

&lt;p&gt;tức là chỉ cần biết tối đa $m$ giá trị gần nhất trong chuỗi quá khứ và hiện tại là đủ để dự đoán.&lt;/p&gt;

&lt;p&gt;Xem xét hai chuỗi theo mô hình white-noise như sau:&lt;/p&gt;

&lt;p&gt;$X_t=\sum_{j=1}^ma_jX_{t-j}+\sum_{j=1}^mb_jY_{t-j}+\epsilon_t,$&lt;/p&gt;

&lt;p&gt;$Y_t=\sum_{j=1}^mc_jY_{t-j}+\sum_{j=1}^md_jX_{t-j}+\eta_t,$&lt;/p&gt;

&lt;p&gt;Theo định nghĩa của &lt;strong&gt;nhân quả&lt;/strong&gt;, nếu $\exists j~\mbox{s.t.}~b_j\neq 0$ thì $\mathbf{Y}$ là &lt;em&gt;nguyên nhân&lt;/em&gt; của $\mathbf{X}$.
Và ngược lại $\exists j~\mbox{s.t.}~d_j\neq 0$ thì $\mathbf{X}$ là &lt;em&gt;nguyên nhân&lt;/em&gt; của $\mathbf{Y}$.
Nếu đồng thời hai điều kiện trên xảy ra thì chúng là &lt;em&gt;luân hồi&lt;/em&gt; của nhau.
Kiểm tra giả thuyết $H_0: b_j=0\forall j$ chính là &lt;strong&gt;Granger verification&lt;/strong&gt;.&lt;/p&gt;

&lt;h1 id=&quot;trứng-và-gà&quot;&gt;Trứng và Gà&lt;/h1&gt;

&lt;p&gt;Năm 1988, Thurman và Fisher [3] đã thực hiện Granger verification trên bộ dữ liệu chứa hai chuỗi dữ liệu: sản lượng trứng hàng năm $\mathbf{X}$và số lượng gà hàng năm $\mathbf{Y}$ trên nước Mỹ từ 1930–1983.&lt;/p&gt;

&lt;p&gt;Vì cả 2 chuỗi trên đều có thể giả định là iid, nên ta có thể viết lại mô hình nhân quả như sau:&lt;/p&gt;

&lt;p&gt;$X_t=\sum_{j=1}^mb_jY_{t-j}+\epsilon_t,$&lt;/p&gt;

&lt;p&gt;$Y_t=\sum_{j=1}^md_jX_{t-j}+\eta_t,$&lt;/p&gt;

&lt;p&gt;Chúng ta kiểm định hai giả thiết null như sau:&lt;/p&gt;

&lt;p&gt;$H_{0x}: b_j=0\forall j$&lt;/p&gt;

&lt;p&gt;$H_{0y}: d_j=0\forall j$&lt;/p&gt;

&lt;p&gt;Giả thiết $H_{0x}$ chính là &lt;em&gt;trứng không là nguyên nhân của gà&lt;/em&gt;.
Giả thiết $H_{0y}$ chính là &lt;em&gt;gà không là nguyên nhân của trứng&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Trên bộ dữ liệu trứng Mỹ và gà Mỹ, có thể bác bỏ giả thuyết đầu, nhưng không thể bác bỏ giả thuyết sau.
Tựu chung lại là &lt;em&gt;trứng Mỹ có trước và sinh ra gà Mỹ&lt;/em&gt;.&lt;/p&gt;

&lt;h1 id=&quot;productivity-pay-gap&quot;&gt;Productivity-Pay Gap&lt;/h1&gt;

&lt;p&gt;Hầu hết người Mỹ đều tin rằng &lt;strong&gt;kinh tế phát triển thì người lao động sẽ nhận được reward&lt;/strong&gt;.
Nhưng theo 1 nghiên cứu gần đây [4] thì có vẻ tình hình thu nhập của người lao động Mỹ không phải như vậy.
Từ năm 1979, nước Mỹ đã có những thay đổi lớn về chính sách kinh tế, trong đó có nhiều chính sách phục vụ cho người giàu:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Starting in the late 1970s, policymakers began dismantling all the policy bulwarks helping to ensure that typical workers’ wages grew with productivity. Excess unemployment was tolerated to keep any chance of inflation in check. Raises in the federal minimum wage became smaller and rarer. Labor law failed to keep pace with growing employer hostility toward unions. Tax rates on top incomes were lowered. And anti-worker deregulatory pushes—from the deregulation of the trucking and airline industries to the retreat of anti-trust policy to the dismantling of financial regulations and more—succeeded again and again.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Những chính sách như giảm thuế cho những người thu nhập cao, … đã khoét sâu “hố ngăn” thu nhập giữa tầng lớp giàu và nghèo.
Lấy mốc 1979 là 100% cho cả tổng sản lượng quốc nội $\mathbf{X}$ lẫn thu nhập bình quân của tầng lớp lao động $\mathbf{Y}$.
Tức là $X_{1979}=Y_{1979}=1$.
Thì rõ ràng là từ năm 1948 tới 1979, lương và sản lượng quốc nội đều cùng chiều tăng.
Nhưng từ mốc 1979 với sự thay đổi về chính sách, tổng sản lượng quốc nội vẫn tăng tuyến tính nhưng lương của tầng lớp lao động đã chững lại.
Nên nhớ tầng lớp lao động nói đến trong nghiên cứu này chiếm tới 80% dân số lao động của Mỹ (production and unsupervisory workers).
Cũng nhưu ví dụ trứng và gà, cả 2 chuỗi trên đều có thể giả định là iid, nên ta có thể viết lại mô hình nhân quả như sau:&lt;/p&gt;

&lt;p&gt;$X_t=\sum_{j=1}^mb_jY_{t-j}+\epsilon_t,$&lt;/p&gt;

&lt;p&gt;$Y_t=\sum_{j=1}^md_jX_{t-j}+\eta_t,$&lt;/p&gt;

&lt;p&gt;Tuy nhiên, &lt;strong&gt;điểm mốc 1979&lt;/strong&gt; gần như là mốc thay đổi tất cả.
Trước 1979, hai chuỗi song song tuyến tính phát triển và quan hệ nhân quả theo phép thử Granger sẽ cho kết quả chấp nhận (không bác bỏ).
Từ 1979, chuỗi thu nhập của người lao động chững lại, do đó quan hệ nhân quả luân hồi giảm đi.
Đây là một ví dụ cho thấy chính sách đủ mạnh có thể thay đổi quan hệ giữa hai chuỗi, khiến cho nhân quả luân hồi biến mất.
Hai bên đi theo hai hướng độc lập riêng biệt, một bên tiếp tục phát triển lên cao, còn một bên chững lại và phát triển chậm.&lt;/p&gt;

&lt;h1 id=&quot;kết-luận&quot;&gt;Kết luận&lt;/h1&gt;

&lt;p&gt;Granger verification là một câu chuyện thú vị.
Hai ứng dụng cơ bản là trứng và gà đã được các nhà khoa học Mỹ phát kiến ra trong thế kỷ 20: &lt;em&gt;trứng Mỹ sinh ra gà Mỹ&lt;/em&gt; (chứ không phải ngược lại).
Và hầu như không có luân hồi trong quan hệ giữa trứng và gà trên đất Mỹ.
Câu chuyện thứ hai là về sự thay đổi của chính sách đủ mạnh để làm mất nhân quả: năm 1979 là năm cột mốc với những người lao động Mỹ, khi bắt đầu từ đó, sản lượng quốc nội vẫn tăng tuyến tính nhưng tiền lương của người lao động tăng chậm.
Một điểm lưu ý là các chuỗi thời gian trong giả thiết của Granger đều là sóng dừng nhưng gần đây có những nghiên cứu tổng quát cho mọi loại sóng.&lt;/p&gt;

&lt;h1 id=&quot;tài-liệu-tham-khảo&quot;&gt;Tài liệu tham khảo&lt;/h1&gt;

&lt;ol class=&quot;bibliography&quot;&gt;&lt;li&gt;&lt;span id=&quot;granger1969investigating&quot;&gt;Granger, C. W. J. (1969). Investigating causal relations by econometric models and cross-spectral methods. &lt;i&gt;Econometrica: Journal of the Econometric Society&lt;/i&gt;, 424–438.&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;feige1979casual&quot;&gt;Feige, E. L., &amp;amp; Pearce, D. K. (1979). The casual causal relationship between money and income: Some caveats for time series analysis. &lt;i&gt;The Review of Economics and Statistics&lt;/i&gt;, 521–533.&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;thurman1988chickens&quot;&gt;Thurman, W. N., Fisher, M. E., &amp;amp; others. (1988). Chickens, eggs, and causality, or which came first. &lt;i&gt;American Journal of Agricultural Economics&lt;/i&gt;, &lt;i&gt;70&lt;/i&gt;(2), 237–238.&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;TheProdu24:online&quot;&gt;&lt;i&gt;The Productivity–Pay Gap | Economic Policy Institute&lt;/i&gt;. https://www.epi.org/productivity-pay-gap/&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;</content><author><name>Tuan Nguyen-Anh</name></author><category term="non-english" /><category term="se" /><category term="pm" /><category term="ai" /><category term="project management" /><category term="project lifecycle" /><category term="software development" /><category term="chicken and egg" /><category term="causal relations" /><category term="Granger model" /><summary type="html">Con gà và quả trứng là một bài toán kinh điển trong thống kê học cổ điển liên quan tới nhân quả (causality) và luân hồi (feedback) của các chuỗi thời gian (time series). Năm 1969, Granger (Nobel kinh tế 2003) xuất bản một seminar paper [1] định tính hóa nhân quả và luân hồi giữa các chuỗi sự kiện thời gian (temporal time series). Việc kiểm tra nhân quả và luân hồi giữa các chuỗi thời gian được định tính và định lượng thông qua Granger verification. Năm 1979, Feige và Pearce [2] nghiên cứu về mối quan hệ luân hồi giữa tiền tệ và thu nhập, có sử dụng Granger verification. Năm 1988, Thurman và Fisher [3] nghiên cứu chuỗi thời gian về sản lượng trứng cũng như chuỗi dữ liệu về số lượng gà trên toàn nước Mỹ để tìm ra quan hệ nhân quả giữa trứng và gà. Họ sử dụng công thức của Granger và lần đầu tiên kết luận mang tính thống kê rằng trứng có trước và là nguyên nhân sinh ra gà. Phân tích các chuỗi sự kiện thời gian (time series analysis) và nhân quả/luân hồi giữa các chuỗi là một chủ đề truyền thống của thống kê và kinh tế học. Gần đây, những nghiên cứu cũng cho thấy sự tồn tại nhân quả giữa sản lượng lao động và bất bình đăng thu nhập hay bài toán Productivity-Pay Gap [4]. Thật thú vị rằng trong 40 năm qua, mặc dù sản lượng lao động bình quân năm tăng 61.8%, nhưng lương của người lao động không hề tăng cao, dẫn tới bất bình đẳng thu nhập gia tăng (giá trị tạo ra thay vì đi vào túi người lao động lại tập trung vào túi của tầng lớp chóp bu trong xã hội Mỹ).</summary></entry><entry><title type="html">A Tutorial on Amazon OpenSearch Service and Kibana</title><link href="https://wanted2.github.io/sre/se/ai/2021/11/13/opensearch-kibana-tuts-1.html" rel="alternate" type="text/html" title="A Tutorial on Amazon OpenSearch Service and Kibana" /><published>2021-11-13T00:00:00+09:00</published><updated>2021-11-13T00:00:00+09:00</updated><id>https://wanted2.github.io/sre/se/ai/2021/11/13/opensearch-kibana-tuts-1</id><content type="html" xml:base="https://wanted2.github.io/sre/se/ai/2021/11/13/opensearch-kibana-tuts-1.html">&lt;p&gt;&lt;img src=&quot;/assets/img/os-kibana.svg&quot; alt=&quot;os&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Our problem at hand is quite predictable!
A client has their staff submitting reports by CSV files every single day.
One hundred files per day, but one file may have more than $10,000$ rows.
The managers want to have an analytical solution for their administrators and technical specialists to view and explore the submitted reports.
Data’s growing day by day, and they want a scalable and automated solution.
In other words, when CPUUtilization rate goes above 80%, it must automatically add more nodes to the cluster.
&lt;!--more--&gt;&lt;/p&gt;

&lt;h1 id=&quot;introduction&quot;&gt;Introduction&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;Auto scale-out&lt;/strong&gt; operations are easy because we can use some sorts of Python code like the following to update a cluster (OpenSearch service):&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;boto3&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;client&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;boto3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;opensearch&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;update_domain_config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;DomainName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;domainName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ClusterConfig&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;&apos;InstanceCount&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And the number of instances in the cluster will be 10.
However, to know when to perform this operation, the executors must be notified by a &lt;strong&gt;trigger&lt;/strong&gt;.
The triggers are continuously watching the cluster by metrics such as CPU Utilization rate.
About scaling up, a material &lt;a href=&quot;https://docs.aws.amazon.com/opensearch-service/latest/developerguide/sizing-domains.html&quot;&gt;here&lt;/a&gt; is useful!&lt;/p&gt;

&lt;p&gt;The analytical solution in this time does not only enable &lt;strong&gt;indexing and searching of massive CSV files&lt;/strong&gt; but also allows &lt;strong&gt;interactive exploring&lt;/strong&gt; of data by dashboards and visualizations.
Many features such as Anomaly Detection and Trace Analytics are desirable.
To this end, we choose the ELK stack for this problem.
We chose the Amazon OpenSearch that bases on Elasticsearch with Kibana dashboards.&lt;/p&gt;

&lt;p&gt;Another notable point in the specifications is the &lt;strong&gt;privilege&lt;/strong&gt; problem.
Here there are different user groups: administrators, specialists, and normal users.
Admins and users are different poles of the permission spectrum, but the specialists are not.
There are specific contents that specialists can view and not others.&lt;/p&gt;

&lt;p&gt;Finally, note the size of the dataset: $200$ files (each with more than 10,000 rows) or $2,000,000$ headlines are coming to our database every single day.
For such a size, we may experience about &lt;strong&gt;$600–800$ million news&lt;/strong&gt; in our database for one year.
Note, the news is from different sources, so there will be no in-source duplicates (news in the same CSV are mostly unique).
There might be some cross-sources duplicates (different CSV have the same news) because different newspapers are copying news from others.
However, although different headlines share the same topic, they should include &lt;strong&gt;different personal opinions of writers&lt;/strong&gt;.
Therefore, they are different, and the portion of duplicates is quite small in this assumption.
And the order of this problem is no smaller than $600$ million news per year.&lt;/p&gt;

&lt;p&gt;However, although we have many records in the database, the client will have only $10–50$ administrators and specialists.
For such a scale, we will have at max $50\times 1000=50,000$ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SELECT&lt;/code&gt; queries per day.
Their office hour is from 8 AM to 5 PM in Pacific Time.
Indexing operations can be done over the night (from 6 PM to 6 AM of the next day) or during the weekends.
But it should not be done during the day.
These end-users are non-tech.
Ideally, they should experience less than a few seconds of waiting time for the execution of a query.
They won’t care about the news that was over one year normally.
However, sometimes, they will search for news in the previous ten years from now.
So you should not rotate the news from 10 years ago, which keeps the size of the database at a regular rate of &lt;strong&gt;$6–8$ billion news&lt;/strong&gt; (after ten years of deployment).&lt;/p&gt;

&lt;h1 id=&quot;solution-and-design&quot;&gt;Solution and design&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;What we are going to build is a &lt;strong&gt;search engine&lt;/strong&gt; which should handle a scale of billion records in a database.
Data start from 0 but grow at a speed of million news per day.
Although the client only requires us to handle 8 billion news at max, we should handle 125% of the requirements to avoid overhead problems.
Therefore, our solution should be able to handle at least &lt;strong&gt;$10$ billion news&lt;/strong&gt; when it is used in production.
As data is growing, we can set the solution to grow with data, but finally, for the first year, it should not be less than 1 billion.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;First draft of the system should be posted after a month, then we can think about CICD and more interesting stories with the service.&lt;/li&gt;
  &lt;li&gt;First draft should be operational, so it is able to be deployed and managed with less effort from end-users.&lt;/li&gt;
  &lt;li&gt;If the system can handle the rate limit of $50,000$ queries per day, the customer may think to make it to a B2C service for millions of end-users.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Scratch or pre-defined solutions?&lt;/strong&gt;: With such a short span to release of the first draft (one month), then we shouldn’t think about implementing from scratch with this client.
We should rely on pre-defined solutions like the ELK stack or AWS OpenSearch service.&lt;/li&gt;
  &lt;li&gt;Since we want to start as data growing, we should move to a solution that is not so tedious to &lt;strong&gt;scale up and scale out&lt;/strong&gt;.&lt;/li&gt;
  &lt;li&gt;We should implement a &lt;strong&gt;dashboard&lt;/strong&gt; feature with &lt;strong&gt;notebooks&lt;/strong&gt; like in Kibana.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Privilege&lt;/strong&gt; problem should be able to be implemented easily, but it is &lt;strong&gt;not important&lt;/strong&gt; at first draft.
Then we move it to our backlog and will implement it in a later story.
In fact, the configuration is quite simple: &lt;a href=&quot;https://www.eksworkshop.com/intermediate/230_logging/config_es/#mapping-roles-to-users&quot;&gt;https://www.eksworkshop.com/intermediate/230_logging/config_es/#mapping-roles-to-users&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Testing&lt;/strong&gt; is required if you implement from &lt;strong&gt;scratch&lt;/strong&gt; (a less confident solution). 
But if you test a &lt;strong&gt;pre-defined solution&lt;/strong&gt;, then you are &lt;strong&gt;wasting your time&lt;/strong&gt;! 
Official benchmark results are already somewhere on the Internet! 
So another reason to use a pre-defined solution.
Just google, and you will have the test results.
You can find some of such benchmarks below.
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://aws.amazon.com/blogs/containers/introducing-cis-amazon-eks-benchmark/&quot;&gt;https://aws.amazon.com/blogs/containers/introducing-cis-amazon-eks-benchmark/&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://logz.io/blog/benchmark-elasticsearch/&quot;&gt;https://logz.io/blog/benchmark-elasticsearch/&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;implementation&quot;&gt;Implementation&lt;/h1&gt;

&lt;p&gt;So we don’t want to waste our time on implementing from scratch or testing a &lt;strong&gt;lack-of-confident&lt;/strong&gt; solution, then we choose AWS for sure.&lt;/p&gt;

&lt;p&gt;The source code can be found at &lt;a href=&quot;https://github.com/wanted2/aws-sample-opensearch-kibana&quot;&gt;my repo&lt;/a&gt;.&lt;/p&gt;

&lt;h1 id=&quot;testing&quot;&gt;Testing&lt;/h1&gt;

&lt;p&gt;Performance Testing what Amazon engineers have spent from hundreds to thousands of hours for verification is &lt;strong&gt;waste of time&lt;/strong&gt;.
What we might do is experiments to find the best start configuration (number of nodes).
But it is not important with an auto-scaling solution because when there is some need to scale up or out, it should be done automatically.&lt;/p&gt;

&lt;p&gt;What we should test is simply checking whether if we can access the dashboard, or users can use the UI normally, or the cluster is running normally or not.
Let’s explore the manual for end-users:&lt;/p&gt;

&lt;h2 id=&quot;login-and-create-index-patterns&quot;&gt;Login and create index patterns&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;After you create an OpenSearch cluster, you can explore the data in the OpenSearch Dashboards, which was previously known as Kibana.&lt;/li&gt;
  &lt;li&gt;Go to the provided URL, for example, &lt;a href=&quot;https://search-x0053-a2ej7mr6xtirqhk36utyra65c4.us-east-1.es.amazonaws.com/_dashboards/app/home&quot;&gt;https://search-x0053-a2ej7mr6xtirqhk36utyra65c4.us-east-1.es.amazonaws.com/_dashboards/app/home&lt;/a&gt; to login into the boards.
    &lt;ul&gt;
      &lt;li&gt;Remember to create a new user in your Cognito User Pool and use the username and password to log in.
  For the first time, users will need to change the password.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;For the first time, you will be prompted to a confirmation:&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/os-kibana-02.png&quot; alt=&quot;confirm&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;To explore the dashboards and visualizations, you need to index data first and then go to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Stack Management &amp;gt; Index Patterns&lt;/code&gt; to select the index.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/os-kibana-03.png&quot; alt=&quot;confirm&quot; /&gt;&lt;/p&gt;

&lt;p&gt;To put a new document into the indices from your local, you can use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pybuilder&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;pyb index_document &lt;span class=&quot;nt&quot;&gt;-P&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;indexName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;x0053
PyBuilder version 0.13.3
Build started at 2021-11-14 16:44:26
&lt;span class=&quot;nt&quot;&gt;------------------------------------------------------------&lt;/span&gt;
Amazon OpenSearch Service has finished processing changes &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;your domain.
Domain description:
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;INFO]  Found &lt;span class=&quot;nb&quot;&gt;hostname&lt;/span&gt;: search-x0053-a2ej7mr6xtirqhk36utyra65c4.us-east-1.es.amazonaws.com
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;INFO]  Building x0053 version 1.0.1a
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;INFO]  Executing build &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;c:&lt;span class=&quot;se&quot;&gt;\u&lt;/span&gt;sers&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;uan&lt;span class=&quot;se&quot;&gt;\s&lt;/span&gt;ource&lt;span class=&quot;se&quot;&gt;\r&lt;/span&gt;epos&lt;span class=&quot;se&quot;&gt;\x&lt;/span&gt;0053
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;INFO]  Going to execute task index_document
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;INFO]  &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&apos;_index&apos;&lt;/span&gt;: &lt;span class=&quot;s1&quot;&gt;&apos;x0053&apos;&lt;/span&gt;, &lt;span class=&quot;s1&quot;&gt;&apos;_type&apos;&lt;/span&gt;: &lt;span class=&quot;s1&quot;&gt;&apos;_doc&apos;&lt;/span&gt;, &lt;span class=&quot;s1&quot;&gt;&apos;_id&apos;&lt;/span&gt;: &lt;span class=&quot;s1&quot;&gt;&apos;1&apos;&lt;/span&gt;, &lt;span class=&quot;s1&quot;&gt;&apos;_version&apos;&lt;/span&gt;: 1, &lt;span class=&quot;s1&quot;&gt;&apos;result&apos;&lt;/span&gt;: &lt;span class=&quot;s1&quot;&gt;&apos;created&apos;&lt;/span&gt;, &lt;span class=&quot;s1&quot;&gt;&apos;forced_refresh&apos;&lt;/span&gt;: True, &lt;span class=&quot;s1&quot;&gt;&apos;_shards&apos;&lt;/span&gt;: &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&apos;total&apos;&lt;/span&gt;: 2, &lt;span class=&quot;s1&quot;&gt;&apos;successful&apos;&lt;/span&gt;: 1, &lt;span class=&quot;s1&quot;&gt;&apos;failed&apos;&lt;/span&gt;: 0&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;, &lt;span class=&quot;s1&quot;&gt;&apos;_seq_no&apos;&lt;/span&gt;: 0, &lt;span class=&quot;s1&quot;&gt;&apos;_primary_term&apos;&lt;/span&gt;: 1&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;------------------------------------------------------------&lt;/span&gt;
BUILD SUCCESSFUL
&lt;span class=&quot;nt&quot;&gt;------------------------------------------------------------&lt;/span&gt;
Build Summary
             Project: x0053
             Version: 1.0.1a
      Base directory: c:&lt;span class=&quot;se&quot;&gt;\u&lt;/span&gt;sers&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;uan&lt;span class=&quot;se&quot;&gt;\s&lt;/span&gt;ource&lt;span class=&quot;se&quot;&gt;\r&lt;/span&gt;epos&lt;span class=&quot;se&quot;&gt;\x&lt;/span&gt;0053
        Environments:
               Tasks: index_document &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;2056 ms]
Build finished at 2021-11-14 16:44:37
Build took 10 seconds &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;10963 ms&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Check if the document is already:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;pyb search &lt;span class=&quot;nt&quot;&gt;-P&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;indexName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;x0053         
PyBuilder version 0.13.3
Build started at 2021-11-14 16:45:30
&lt;span class=&quot;nt&quot;&gt;------------------------------------------------------------&lt;/span&gt;
Amazon OpenSearch Service has finished processing changes &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;your domain.
Domain description:
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;INFO]  Found &lt;span class=&quot;nb&quot;&gt;hostname&lt;/span&gt;: search-x0053-a2ej7mr6xtirqhk36utyra65c4.us-east-1.es.amazonaws.com
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;INFO]  Building x0053 version 1.0.1a
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;INFO]  Executing build &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;c:&lt;span class=&quot;se&quot;&gt;\u&lt;/span&gt;sers&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;uan&lt;span class=&quot;se&quot;&gt;\s&lt;/span&gt;ource&lt;span class=&quot;se&quot;&gt;\r&lt;/span&gt;epos&lt;span class=&quot;se&quot;&gt;\x&lt;/span&gt;0053
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;INFO]  Going to execute task search
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;INFO]  &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&apos;took&apos;&lt;/span&gt;: 180, &lt;span class=&quot;s1&quot;&gt;&apos;timed_out&apos;&lt;/span&gt;: False, &lt;span class=&quot;s1&quot;&gt;&apos;_shards&apos;&lt;/span&gt;: &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&apos;total&apos;&lt;/span&gt;: 5, &lt;span class=&quot;s1&quot;&gt;&apos;successful&apos;&lt;/span&gt;: 5, &lt;span class=&quot;s1&quot;&gt;&apos;skipped&apos;&lt;/span&gt;: 0, &lt;span class=&quot;s1&quot;&gt;&apos;failed&apos;&lt;/span&gt;: 0&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;, &lt;span class=&quot;s1&quot;&gt;&apos;hits&apos;&lt;/span&gt;: &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&apos;total&apos;&lt;/span&gt;: &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&apos;value&apos;&lt;/span&gt;: 1, &lt;span class=&quot;s1&quot;&gt;&apos;relation&apos;&lt;/span&gt;: &lt;span class=&quot;s1&quot;&gt;&apos;eq&apos;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;, &lt;span class=&quot;s1&quot;&gt;&apos;max_score&apos;&lt;/span&gt;: 0.56026673, &lt;span class=&quot;s1&quot;&gt;&apos;hits&apos;&lt;/span&gt;: &lt;span class=&quot;o&quot;&gt;[{&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&apos;_index&apos;&lt;/span&gt;: &lt;span class=&quot;s1&quot;&gt;&apos;x0053&apos;&lt;/span&gt;, &lt;span class=&quot;s1&quot;&gt;&apos;_type&apos;&lt;/span&gt;: &lt;span class=&quot;s1&quot;&gt;&apos;_doc&apos;&lt;/span&gt;, &lt;span class=&quot;s1&quot;&gt;&apos;_id&apos;&lt;/span&gt;: &lt;span class=&quot;s1&quot;&gt;&apos;1&apos;&lt;/span&gt;, &lt;span class=&quot;s1&quot;&gt;&apos;_score&apos;&lt;/span&gt;: 0.56026673, &lt;span class=&quot;s1&quot;&gt;&apos;_source&apos;&lt;/span&gt;: &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&apos;title&apos;&lt;/span&gt;: &lt;span class=&quot;s1&quot;&gt;&apos;9 F1 ở Hà Nội được cách ly tại nhà&apos;&lt;/span&gt;, &lt;span class=&quot;s1&quot;&gt;&apos;description&apos;&lt;/span&gt;: &lt;span class=&quot;s1&quot;&gt;&apos;UBND phường Trung Văn, quận Nam Từ Liêm, cho 9 F1 đủ điều kiện cách ly tại nhà theo hướng dẫn của Bộ Y tế.&apos;&lt;/span&gt;, &lt;span class=&quot;s1&quot;&gt;&apos;body&apos;&lt;/span&gt;: &lt;span class=&quot;s1&quot;&gt;&apos;UBND phường Trung Văn, quận Nam Từ Liêm, cho 9 F1 đủ điều kiện cách ly tại nhà theo hướng dẫn của Bộ Y tế.\nÔng Nguyễn Đắc Long, Chủ tịch UBND phường Trung Văn, quận Nam Từ Liêm, tối 13/11 cho biết 9 F1, là người già có bệnh nền, trẻ em, thuộc hai gia đình, tiếp xúc với một F0 ngày 6/11 và một F0 khác vào ngày 8/11. Họ được cách ly ngay sau khi xác định F0, theo Hướng dẫn tạm thời giám sát và phòng, chống Covid-19, Bộ Y tế ban hành vào tháng 7.\n&quot;Quy định chung của Bộ Y tế là trường hợp người già bệnh nền, trẻ em, gia đình có đủ điều kiện phòng ốc... thì sẽ cách ly y tế tại nhà. Vì vậy, chúng tôi cách ly 9 F1 này theo đúng quy định&quot;, ông Long giải thích và nói rõ rằng &quot;đây không phải là trường hợp thí điểm cách ly tại nhà của Sở Y tế Hà Nội&quot;. Tuy nhiên, 9 F1 là những người đầu tiên tại Hà Nội được áp dụng hình thức cách ly này.\nHiện, Hà Nội chưa có kế hoạch cách ly F0, F1 tại nhà. Trả lời VnExpress vài ngày trước, lãnh đạo Trung tâm Kiểm soát Bệnh tật (CDC) Hà Nội và đại diện Sở Y tế Hà Nội cho biết thành phố có đủ nguồn lực để cách ly, điều trị tập trung F1 và F0. Chỉ khi nào số lượng F0, F1 tăng vượt quá khả năng, thành phố mới tính đến phương án cách ly người không triệu chứng tại nhà.\nNhiều chuyên gia đề nghị thành phố nên tính tới phương án này sớm. Phó giáo sư, tiến sĩ Trần Đắc Phu, Cố vấn cao cấp Trung tâm đáp ứng khẩn cấp sự kiện y tế công cộng Việt Nam, Bộ Y tế, cho rằng Hà Nội không nên kiên trì cách ly tập trung, rút kinh nghiệm các tỉnh có dịch bùng phát mạnh thời gian vừa qua. Nguyên nhân là thành phố liên tiếp xuất hiện các ổ dịch mới, số ca nhiễm gia tăng trong một tuần trở lại đây khi thực hiện thích ứng an toàn, linh hoạt, kiểm soát hiệu quả dịch Covid-19. F1 tăng nhiều khi số F0 cao, dẫn tới cơ sở cách ly tập trung hết chỗ. Thêm vào đó, duy trì cách ly tập trung sẽ khiến các cơ sở bị quá tải, có nguy cơ lây nhiễm chéo.\n&quot;Cách ly F1 tại nhà giúp người bị cách ly đỡ tốn kém, người cách ly không bị ảnh hưởng nặng nề về tâm lý&quot;, ông Phu nói. Nhiều nhà dân Hà Nội đủ điều kiện, đủ cơ sở vật chất để cách ly ở nhà. Hệ thống y tế cơ sở và chính quyền từ thôn, xóm, tổ dân phố đủ năng lực, có thể giám sát, theo dõi người cách ly.\nHiện, phường Trung Văn, quận Nam Từ Liêm, đang ở cấp độ 2 (nguy cơ trung bình, màu vàng). Cả thành phố chỉ có phường Phú Đô, quận Nam Từ Liêm, dịch ở cấp độ 4 (nguy cơ rất cao, màu đỏ - cấp độ dịch cao nhất). Lần gần đây nhất chỉ có tổ dân phố Ngô Sài, thị trấn Quốc Oai, huyện Quốc Oai, được đánh giá cấp 4.\nTổng số ca nhiễm tại Hà Nội từ ngày 27/4 đến tối 13/11 là 5.924, trong đó số cộng đồng 2.229, số nhiễm sau khi được cách ly 3.695 ca.\nLực lượng y tế căng mình xét nghiệm cho người dân phường Thanh Xuân Trung, quận Thanh Xuân. Ảnh: Giang Huy&apos;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;}}]}}&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;------------------------------------------------------------&lt;/span&gt;
BUILD SUCCESSFUL
&lt;span class=&quot;nt&quot;&gt;------------------------------------------------------------&lt;/span&gt;
Build Summary
             Project: x0053
             Version: 1.0.1a
      Base directory: c:&lt;span class=&quot;se&quot;&gt;\u&lt;/span&gt;sers&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;uan&lt;span class=&quot;se&quot;&gt;\s&lt;/span&gt;ource&lt;span class=&quot;se&quot;&gt;\r&lt;/span&gt;epos&lt;span class=&quot;se&quot;&gt;\x&lt;/span&gt;0053
        Environments: 
               Tasks: search &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;1355 ms]
Build finished at 2021-11-14 16:45:38
Build took 7 seconds &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;7631 ms&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Now you have indexed 1 document into OpenSearch, we can be back to Kibana to create an index pattern.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/os-kibana-04.png&quot; alt=&quot;confirm&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Click into &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Next step&lt;/code&gt; then &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Create index pattern&lt;/code&gt; to go to the field lists screen.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/os-kibana-05.png&quot; alt=&quot;confirm&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;sql-query-workbench&quot;&gt;SQL Query Workbench&lt;/h2&gt;

&lt;p&gt;We can use SQL syntax in Query Workbench.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Open the left sidebar, select &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;OpenSearch Plugins &amp;gt; Query Workbench&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/os-kibana-06.png&quot; alt=&quot;workbench&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Document for SQL in OpenSearch can be found &lt;a href=&quot;https://opensearch.org/docs/latest/search-plugins/sql/index/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;notebooks&quot;&gt;Notebooks&lt;/h2&gt;

&lt;p&gt;This is also a valuable feature in OpenSearch dashboard.
You can add visualization blocks or code blocks (SQL/PPL).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/os-kibana-07.png&quot; alt=&quot;notebook&quot; /&gt;&lt;/p&gt;

&lt;p&gt;In this example, we used the following SQL query for full-text search:&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;sql&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;description&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x0053&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;match_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&quot;f1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;anomaly-detection&quot;&gt;Anomaly Detection&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/os-kibana-08.png&quot; alt=&quot;notebook&quot; /&gt;&lt;/p&gt;

&lt;p&gt;From this view, we can create an Anomaly Detector with a specific rule like&lt;/p&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;title contains f1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Other features like Dashboards, Visualizations, Trace Analytics are also worth exploring.&lt;/p&gt;

&lt;h1 id=&quot;operation-and-maintenance&quot;&gt;Operation and maintenance&lt;/h1&gt;

&lt;p&gt;Installing OpenSearch maybe easy but managing a cluster requires more work.&lt;/p&gt;

&lt;h2 id=&quot;configurations&quot;&gt;Configurations&lt;/h2&gt;

&lt;h3 id=&quot;multi-region-service&quot;&gt;Multi-region service&lt;/h3&gt;

&lt;p&gt;To prevent data loss and minimize Amazon OpenSearch Service cluster downtime in the event of a service disruption, you can distribute nodes across two or three Availability Zones in the same Region, a configuration known as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Multi-AZ&lt;/code&gt;. 
Availability Zones are isolated locations within each AWS Region.&lt;/p&gt;

&lt;p&gt;For domains that run production workloads, we recommend the following configuration:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Choose a Region that supports three Availability Zones with OpenSearch Service.&lt;/li&gt;
  &lt;li&gt;Deploy the domain across three zones.&lt;/li&gt;
  &lt;li&gt;Choose current-generation instance types for dedicated master nodes and data nodes.&lt;/li&gt;
  &lt;li&gt;Use three dedicated master nodes and at least three data nodes.&lt;/li&gt;
  &lt;li&gt;Create at least one replica for each index in your cluster.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.aws.amazon.com/opensearch-service/latest/developerguide/replication.html&quot;&gt;Cross-cluster replication&lt;/a&gt; in Amazon OpenSearch Service lets you replicate indices, mappings, and metadata from one OpenSearch Service domain to another.
It follows an active-passive replication model where the follower index (where the data is replicated) pulls data from the leader index.
Cross-cluster replication ensures high availability in the event of an outage, and allows you to replicate data across geographically distant data centers to reduce latency.&lt;/p&gt;

&lt;h3 id=&quot;indices&quot;&gt;Indices&lt;/h3&gt;

&lt;p&gt;If you need to migrate indices from a cluster to another, you can use &lt;a href=&quot;https://docs.aws.amazon.com/opensearch-service/latest/developerguide/remote-reindex.html&quot;&gt;remote reindex&lt;/a&gt;.
Whereas &lt;a href=&quot;https://docs.aws.amazon.com/opensearch-service/latest/developerguide/rollup.html&quot;&gt;index rollup jobs&lt;/a&gt; let you reduce data granularity by rolling up old data into condensed indices, &lt;a href=&quot;https://docs.aws.amazon.com/opensearch-service/latest/developerguide/transforms.html&quot;&gt;transform jobs&lt;/a&gt; let you create a different, summarized view of your data centered around certain fields, so you can visualize or analyze the data in different ways.&lt;/p&gt;

&lt;p&gt;One thing that is amazing about indices management is &lt;a href=&quot;https://docs.aws.amazon.com/opensearch-service/latest/developerguide/ism.html&quot;&gt;Index State Management (ISM)&lt;/a&gt; in Amazon OpenSearch Service.
It lets you define custom management policies to automate routine tasks and apply them to indices and index patterns. You no longer need to set up and manage external processes to run your index operations.
For example, you can setup a policy that moves an index from hot storage to &lt;a href=&quot;https://docs.aws.amazon.com/opensearch-service/latest/developerguide/ultrawarm.html&quot;&gt;UltraWarm&lt;/a&gt;, and eventually to &lt;a href=&quot;https://docs.aws.amazon.com/opensearch-service/latest/developerguide/cold-storage.html&quot;&gt;cold storage&lt;/a&gt;, then deletes the index.&lt;/p&gt;

&lt;h2 id=&quot;auditing&quot;&gt;Auditing&lt;/h2&gt;

&lt;h3 id=&quot;monitoring&quot;&gt;Monitoring&lt;/h3&gt;
&lt;p&gt;Monitoring is an important part of maintaining the reliability, availability, and performance of Amazon OpenSearch Service and your other AWS solutions. AWS provides the following tools to monitor your OpenSearch Service resources, report issues, and take automatic actions when appropriate:&lt;/p&gt;

&lt;h4 id=&quot;amazon-cloudwatch&quot;&gt;Amazon CloudWatch&lt;/h4&gt;
&lt;p&gt;Amazon CloudWatch monitors your OpenSearch Service resources in real time.
You can collect and track metrics, create customized dashboards, and set alarms that notify you or take actions when a metric reaches a certain threshold.&lt;/p&gt;

&lt;h4 id=&quot;amazon-cloudwatch-logs&quot;&gt;Amazon CloudWatch Logs&lt;/h4&gt;
&lt;p&gt;Amazon CloudWatch Logs lets you monitor, store, and access your OpenSearch log files.
CloudWatch Logs monitors the information in log files and can notify you when certain thresholds are met.&lt;/p&gt;

&lt;h4 id=&quot;amazon-eventbridge&quot;&gt;Amazon EventBridge&lt;/h4&gt;
&lt;p&gt;Amazon EventBridge delivers a near real-time stream of system events that describe changes in your OpenSearch Service domains.
You can create rules that watch for certain events, and trigger automated actions in other AWS services when these events occur.&lt;/p&gt;

&lt;h4 id=&quot;aws-cloudtrail&quot;&gt;AWS CloudTrail&lt;/h4&gt;
&lt;p&gt;AWS CloudTrail captures configuration API calls made to OpenSearch Service as events.
It can deliver these events to an Amazon S3 bucket that you specify.
Using this information, you can identify which users and accounts made requests, the source IP address from which the requests were made, and when the requests occurred.&lt;/p&gt;

&lt;h3 id=&quot;notifications&quot;&gt;Notifications&lt;/h3&gt;

&lt;p&gt;Notifications in Amazon OpenSearch Service currently contain information about available software updates and Auto-Tune events for your domains.
In the future, they might also include performance optimization recommendations such as moving to the correct instance type for a domain or rebalancing shards to reduce performance bottlenecks.&lt;/p&gt;

&lt;h2 id=&quot;security&quot;&gt;Security&lt;/h2&gt;

&lt;p&gt;Security is a shared responsibility between AWS and you. The shared responsibility model describes this as security of the cloud and security in the cloud:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Security of the cloud&lt;/strong&gt; – AWS is responsible for protecting the infrastructure that runs AWS services in the AWS Cloud.
AWS also provides you with services that you can use securely.
Third-party auditors regularly test and verify the effectiveness of our security as part of the AWS compliance programs.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Security in the cloud&lt;/strong&gt; – Your responsibility is determined by the AWS service that you use.
You are also responsible for other factors including the sensitivity of your data, your company’s requirements, and applicable laws and regulations.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.aws.amazon.com/opensearch-service/latest/developerguide/fgac.html&quot;&gt;Fine-grained access control&lt;/a&gt; helps you to define roles, access level at indices, documents and domain levels.
You can restrict the access to your dashboard by using multi-tenancy.
&lt;a href=&quot;https://docs.aws.amazon.com/opensearch-service/latest/developerguide/data-protection.html&quot;&gt;Data protection&lt;/a&gt; is enhanced with encryption at rest and node-to-node encryption.
Data integrity comply with many standards: Third-party auditors assess the security and compliance of Amazon OpenSearch Service as part of multiple AWS compliance programs.
These programs include SOC, PCI, and HIPAA.
SAML based authentication and Amazon Cognito are all supported.&lt;/p&gt;

&lt;h2 id=&quot;management&quot;&gt;Management&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.aws.amazon.com/opensearch-service/latest/developerguide/auto-tune.html&quot;&gt;Auto-Tune&lt;/a&gt; in Amazon OpenSearch Service uses performance and usage metrics from your OpenSearch cluster to suggest memory-related configuration changes, including queue and cache sizes and Java virtual machine (JVM) settings on your nodes. These optional changes improve cluster speed and stability.&lt;/p&gt;

&lt;p&gt;To enable auto-tune,&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;POST https://es.us-east-1.amazonaws.com/2021-01-01/opensearch/domain/domain-name/config
&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;s2&quot;&gt;&quot;AutoTuneOptions&quot;&lt;/span&gt;: &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;DesiredState&quot;&lt;/span&gt;: &lt;span class=&quot;s2&quot;&gt;&quot;ENABLED&quot;&lt;/span&gt;,
    &lt;span class=&quot;s2&quot;&gt;&quot;MaintenanceSchedules&quot;&lt;/span&gt;: &lt;span class=&quot;o&quot;&gt;[{&lt;/span&gt;
      &lt;span class=&quot;s2&quot;&gt;&quot;StartAt&quot;&lt;/span&gt;: 4104152288000,
      &lt;span class=&quot;s2&quot;&gt;&quot;Duration&quot;&lt;/span&gt;: &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;s2&quot;&gt;&quot;Value&quot;&lt;/span&gt;: 2,
        &lt;span class=&quot;s2&quot;&gt;&quot;Unit&quot;&lt;/span&gt;: &lt;span class=&quot;s2&quot;&gt;&quot;HOURS&quot;&lt;/span&gt;
      &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,
    &lt;span class=&quot;s2&quot;&gt;&quot;CronExpressionForRecurrence&quot;&lt;/span&gt;: &lt;span class=&quot;s2&quot;&gt;&quot;cron(0 12 * * ? *)&quot;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}]&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h1&gt;

&lt;p&gt;We have walked through a tutorial on configurations of an OpenSearch cluster with logging options, encryption at rest, .etc.
In the next steps, we will implement the following two stories:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/os-kibana-stories.svg&quot; alt=&quot;next stories&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;story-1-csv-upload-to-s3-for-streaming&quot;&gt;Story 1: CSV upload to S3 for streaming&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Users need to upload CSV files with three fields: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;title, body&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;description&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;title&lt;/th&gt;
      &lt;th&gt;description&lt;/th&gt;
      &lt;th&gt;body&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;9 F1 ở Hà Nội được cách ly tại nhà&lt;/td&gt;
      &lt;td&gt;UBND phường Trung Văn, quận Nam Từ Liêm, cho 9 F1 đủ điều kiện cách ly tại nhà theo hướng dẫn của Bộ Y tế.&lt;/td&gt;
      &lt;td&gt;UBND phường Trung Văn, quận Nam Từ Liêm, cho 9 F1 đủ điều kiện cách ly tại nhà theo hướng dẫn của Bộ Y tế.\nÔng Nguyễn Đắc Long, Chủ tịch UBND phường Trung Văn, quận Nam Từ Liêm, tối 13/11 cho biết 9 F1, là người già có bệnh nền, trẻ em, thuộc hai gia đình, tiếp xúc với một F0 ngày 6/11 và một F0 khác vào ngày 8/11. Họ được cách ly ngay sau khi xác định F0, theo Hướng dẫn tạm thời giám sát và phòng, chống Covid-19, Bộ Y tế ban hành vào tháng 7.\n&quot;Quy định chung của Bộ Y tế là trường hợp người già bệnh nền, trẻ em, gia đình có đủ điều kiện phòng ốc… thì sẽ cách ly y tế tại nhà. Vì vậy, chúng tôi cách ly 9 F1 này theo đúng quy định&quot;, ông Long giải thích và nói rõ rằng &quot;đây không phải là trường hợp thí điểm cách ly tại nhà của Sở Y tế Hà Nội&quot;. Tuy nhiên, 9 F1 là những người đầu tiên tại Hà Nội được áp dụng hình thức cách ly này.\nHiện, Hà Nội chưa có kế hoạch cách ly F0, F1 tại nhà. Trả lời VnExpress vài ngày trước, lãnh đạo Trung tâm Kiểm soát Bệnh tật (CDC) Hà Nội và đại diện Sở Y tế Hà Nội cho biết thành phố có đủ nguồn lực để cách ly, điều trị tập trung F1 và F0. Chỉ khi nào số lượng F0, F1 tăng vượt quá khả năng, thành phố mới tính đến phương án cách ly người không triệu chứng tại nhà.\nNhiều chuyên gia đề nghị thành phố nên tính tới phương án này sớm. Phó giáo sư, tiến sĩ Trần Đắc Phu, Cố vấn cao cấp Trung tâm đáp ứng khẩn cấp sự kiện y tế công cộng Việt Nam, Bộ Y tế, cho rằng Hà Nội không nên kiên trì cách ly tập trung, rút kinh nghiệm các tỉnh có dịch bùng phát mạnh thời gian vừa qua. Nguyên nhân là thành phố liên tiếp xuất hiện các ổ dịch mới, số ca nhiễm gia tăng trong một tuần trở lại đây khi thực hiện thích ứng an toàn, linh hoạt, kiểm soát hiệu quả dịch Covid-19. F1 tăng nhiều khi số F0 cao, dẫn tới cơ sở cách ly tập trung hết chỗ. Thêm vào đó, duy trì cách ly tập trung sẽ khiến các cơ sở bị quá tải, có nguy cơ lây nhiễm chéo.\n&quot;Cách ly F1 tại nhà giúp người bị cách ly đỡ tốn kém, người cách ly không bị ảnh hưởng nặng nề về tâm lý&quot;, ông Phu nói. Nhiều nhà dân Hà Nội đủ điều kiện, đủ cơ sở vật chất để cách ly ở nhà. Hệ thống y tế cơ sở và chính quyền từ thôn, xóm, tổ dân phố đủ năng lực, có thể giám sát, theo dõi người cách ly.\nHiện, phường Trung Văn, quận Nam Từ Liêm, đang ở cấp độ 2 (nguy cơ trung bình, màu vàng). Cả thành phố chỉ có phường Phú Đô, quận Nam Từ Liêm, dịch ở cấp độ 4 (nguy cơ rất cao, màu đỏ - cấp độ dịch cao nhất). Lần gần đây nhất chỉ có tổ dân phố Ngô Sài, thị trấn Quốc Oai, huyện Quốc Oai, được đánh giá cấp 4.\nTổng số ca nhiễm tại Hà Nội từ ngày 27/4 đến tối 13/11 là 5.924, trong đó số cộng đồng 2.229, số nhiễm sau khi được cách ly 3.695 ca.\nLực lượng y tế căng mình xét nghiệm cho người dân phường Thanh Xuân Trung, quận Thanh Xuân. Ảnh: Giang Huy&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;em&gt;Source: &lt;a href=&quot;https://vnexpress.net/nhieu-f1-o-ha-noi-duoc-cach-ly-tai-nha-4385406.html&quot;&gt;https://vnexpress.net/nhieu-f1-o-ha-noi-duoc-cach-ly-tai-nha-4385406.html&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;CSV is then streamed into OpenSearch for &lt;strong&gt;indexing&lt;/strong&gt;.&lt;/li&gt;
  &lt;li&gt;End-user will query through Kibana (OpenSearch Dashboards) for investigations.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The following tasks will be done:&lt;/p&gt;

&lt;ul class=&quot;task-list&quot;&gt;
  &lt;li&gt;CSV upload
    &lt;ul class=&quot;task-list&quot;&gt;
      &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;Setup S3 bucket with triggering.&lt;/li&gt;
      &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;Setup indexing Lambda to handle streaming CSV.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;Setup Kibana for end-users&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;story-2-fine-grained-privilege-control-with-admins-specialists-and-normal-users&quot;&gt;Story 2: Fine-grained privilege control with Admins, Specialists, and Normal Users&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;There are three user groups in our application:
    &lt;ul&gt;
      &lt;li&gt;&lt;strong&gt;Administrators group&lt;/strong&gt; who have the highest privilege, members in this group can view/edit/delete anything in the dashboard.&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;Specialists group&lt;/strong&gt; who need to view the dashboard but not everything. They cannot edit/delete anything in the dashboard.&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;Normal users group&lt;/strong&gt; who are forbidden from viewing the dashboard.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;We need to filter out before Cognito log users in to find the type of users:
    &lt;ul&gt;
      &lt;li&gt;if users are admins, let them in.&lt;/li&gt;
      &lt;li&gt;if users are specialists, let them in but restrict their view. &lt;strong&gt;Please check whether if this is doable or not?&lt;/strong&gt;&lt;/li&gt;
      &lt;li&gt;if users are normal, don’t log in.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.aws.amazon.com/cognito/latest/developerguide/cognito-user-identity-pools-working-with-aws-lambda-triggers.html&quot;&gt;Tutorial about lambda triggers in Cognito&lt;/a&gt;.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cognito-userpool-lambdaconfig.html&quot;&gt;Triggers&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;CreateAuthChallenge&lt;/li&gt;
      &lt;li&gt;CustomMessage&lt;/li&gt;
      &lt;li&gt;DefineAuthChallenge&lt;/li&gt;
      &lt;li&gt;PostAuthentication&lt;/li&gt;
      &lt;li&gt;PostConfirmation&lt;/li&gt;
      &lt;li&gt;PreAuthentication&lt;/li&gt;
      &lt;li&gt;PreSignUp&lt;/li&gt;
      &lt;li&gt;PreTokenGeneration&lt;/li&gt;
      &lt;li&gt;UserMigration&lt;/li&gt;
      &lt;li&gt;VerifyAuthChallengeResponse&lt;/li&gt;
      &lt;li&gt;Not need to configure all above Lambdas!&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Admins/Specialists restriction problem
    &lt;ul class=&quot;task-list&quot;&gt;
      &lt;li&gt;Create two groups for admins and specialists, no need of a group for normal users.
        &lt;ul class=&quot;task-list&quot;&gt;
          &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;In &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PreSignup&lt;/code&gt; logic, if the email is from a normal user then deny sign up.&lt;/li&gt;
          &lt;li class=&quot;task-list-item&quot;&gt;&lt;strong&gt;it is important here that there must be a Lambda connecting to user table to check the type of users&lt;/strong&gt;!&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;In &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PreLogin&lt;/code&gt; function, log the groups of their login behaviors for later diagnosis.&lt;/li&gt;
      &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;Configure the role/policies to ensure that specialists can only view.
        &lt;ul class=&quot;task-list&quot;&gt;
          &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;If there are specific resources specialists cannot view, then can Cognito handle?&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Then we need two Lambda functions:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;One &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PreSignup&lt;/code&gt; Lambda that connects and verifies user types (admins/specialists or normal) before signing up a user.&lt;/li&gt;
  &lt;li&gt;Another &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PreLogin&lt;/code&gt; Lambda that logs user behaviors.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;pricing-estimation&quot;&gt;Pricing estimation&lt;/h2&gt;
&lt;p&gt;The pricing estimation of these two stories with the original story can be found &lt;a href=&quot;https://calculator.aws/#/estimate?id=e6fb0a2e9b0d46b7b876fec8e8da02c8c1e4be60&quot;&gt;here (152.20$ per month)&lt;/a&gt;.&lt;/p&gt;</content><author><name>Tuan Nguyen-Anh</name></author><category term="sre" /><category term="se" /><category term="ai" /><category term="aws" /><category term="amazon web services" /><category term="opensearch" /><category term="elasticsearch" /><category term="kibana" /><summary type="html">Our problem at hand is quite predictable! A client has their staff submitting reports by CSV files every single day. One hundred files per day, but one file may have more than $10,000$ rows. The managers want to have an analytical solution for their administrators and technical specialists to view and explore the submitted reports. Data’s growing day by day, and they want a scalable and automated solution. In other words, when CPUUtilization rate goes above 80%, it must automatically add more nodes to the cluster.</summary></entry><entry><title type="html">Three extensions for a better Azure Boards: Define-of-Done, Product Vision and Backlog Essentials</title><link href="https://wanted2.github.io/pm/2021/11/07/azure-boards-pm-extensions.html" rel="alternate" type="text/html" title="Three extensions for a better Azure Boards: Define-of-Done, Product Vision and Backlog Essentials" /><published>2021-11-07T00:00:00+09:00</published><updated>2021-11-07T00:00:00+09:00</updated><id>https://wanted2.github.io/pm/2021/11/07/azure-boards-pm-extensions</id><content type="html" xml:base="https://wanted2.github.io/pm/2021/11/07/azure-boards-pm-extensions.html">&lt;p&gt;&lt;img src=&quot;https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/d3560903-f638-4528-b9ba-8cbf6a015a8d.png&quot; alt=&quot;Azure Boards&quot; /&gt;
&lt;em&gt;Source: &lt;a href=&quot;http://ilikesqldata.com/deep-dive-into-azure-boards/&quot;&gt;ILikeSQLData&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Azure Boards (AB)&lt;/strong&gt; [1] is an essential tool for Project Management [2] in software development projects.
It provides enough capabilities to the PM to manage the software projects with work items, agile boards, and backlog/sprints for each agile team.
Linking commits and PRs to working items in Azure Repos [3], Azure Pipelines [4], and Azure Artifacts [5], Azure Boards also supports enhanced code analytics.
By integrating with Azure Test Plans [6] (however, it is not free [7], 52$ per user per month for all above with test plans) to track the whole quality assurance processes, it provides an excellent user experience for development teams.
Some recent features like Analytics views also give the PM more confidence in making decisions.
However, the Azure Boards also lacks several important features of a perfect backlog:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;First, there is no &lt;strong&gt;Define-of-Done (DoD)&lt;/strong&gt; checklist in AB by default.&lt;/li&gt;
  &lt;li&gt;Second, there is not a clear feature to demonstrate the &lt;strong&gt;Product Vision&lt;/strong&gt; to teams. (There is a Delivery Plan to show the roadmap towards a specific release goal).&lt;/li&gt;
  &lt;li&gt;Finally, if users are already familiar with other tools like JIRA, then AB has a poor backlog view.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This post introduces several extensions to solve these problems: &lt;strong&gt;Define-of-Done&lt;/strong&gt; [8], &lt;strong&gt;Product Vision&lt;/strong&gt; [9], and &lt;strong&gt;Backlog Essentials&lt;/strong&gt; [10].
&lt;!--more--&gt;&lt;/p&gt;

&lt;h1 id=&quot;define-of-done-extension-the-perfectionist-for-software&quot;&gt;Define-of-Done extension: The perfectionist for software&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;https://agile-extensions.gallerycdn.vsassets.io/extensions/agile-extensions/dod/3.0.40/1599210825590/dist/images/screenshot-dod.png&quot; style=&quot;float: right; margin: 10px; width: 50%;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;are-you-really-understanding-the-role-of-managers-in-a-software-project&quot;&gt;Are you really understanding the role of managers in a software project?&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;Define-of-Done (DoD)&lt;/strong&gt; perfects software!
Development teams will not acknowledge a bug if there is no feedback or tests.
Testers and QA helps to ensure technical bugs don’t happen.
However, logical bugs (wrong business flows, unfriendly or difficult-to-use UX, …) can be found only by users and product owners (PO).
PO must feedback development teams about logical bugs, and customer support (CS) teams must feedback development teams about claims from end-users.&lt;/p&gt;

&lt;p&gt;Many wrong perceptions that PO, SM, and Product Managers (PdM) are close to testers and QA!
It is completely wrong!
Testers and QAs are bug finders, although they only find and report technical bugs.
PO/SM/PM don’t find bugs (please remember this).
What they actually do are &lt;strong&gt;APPROVE GOOD PRODUCTS&lt;/strong&gt; and &lt;strong&gt;DENY DEFECTIVE PRODUCTS&lt;/strong&gt;.
They don’t find bugs because they already have a &lt;strong&gt;checklist&lt;/strong&gt; to classify what is a good product and what is a defective product!&lt;/p&gt;

&lt;p&gt;So the right actions in a perfect development team are like Testers/QA &lt;strong&gt;report&lt;/strong&gt; bugs, Developers &lt;strong&gt;develop products and fix bugs&lt;/strong&gt;, but the product won’t launch without &lt;strong&gt;approval&lt;/strong&gt; from PO/SM/PM.
If PO/SM/PM &lt;strong&gt;deny&lt;/strong&gt; a thing, don’t even think about launching!&lt;/p&gt;

&lt;p&gt;Then the checklist PO/SM/PdM needs to consult when deciding the launching is a part of DoD.
Perhaps it contains a list of features that must be completed, a check of flow, UI/UX, …&lt;/p&gt;

&lt;p&gt;But remember that this is only one of the missions that PO/SM/PdM must complete.
There are many other things to make the development smoothly that they need to do.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;In many software projects, developers and testers miss the task of reporting and obtaining approvals from managers, and &lt;strong&gt;such incidents often lead to serious consequences&lt;/strong&gt;!&lt;/em&gt;
&lt;em&gt;I observed several young developers in my experience: they were overconfident about their code and sometimes skipped the approval processes when deploying and launching.&lt;/em&gt;
&lt;em&gt;These behaviors are classified as &lt;strong&gt;bad behaviors (thái độ kém)&lt;/strong&gt; in all software projects!&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&quot;dod-and-acceptance-criteria-ac&quot;&gt;DoD and Acceptance Criteria (AC)&lt;/h2&gt;

&lt;p&gt;If you’re beginning to wonder why this is a product management issue and not a quality control topic for the technical team, that’s in part due to the difference between a general Definition of Done and the specific acceptance criteria for a particular user story.&lt;/p&gt;

&lt;p&gt;DoD is universally applied (with a few exceptions) to everything the engineering organization is attempting to ship.
While a product management &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;OK&lt;/code&gt; might be one of the items on the checklist, it’s a fairly generic definition.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Acceptance criteria&lt;/strong&gt;, however, are unique to the user story or feature in question. 
These criteria should be defined by product management, with input from the technical team on any specific use cases or parameters that must be met to green light this item before it’s considered done.&lt;/p&gt;

&lt;p&gt;Since DoD is considered for everything, product management should review the definition and make sure they agree that it is comprehensive enough. 
However, the ownership and management of the definition doesn’t necessarily need to be the responsibility of product management. 
As long as product is satisfied that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;done&lt;/code&gt; items pass the tests spelled out in the DoD, they can largely leave it be.&lt;/p&gt;

&lt;p&gt;But a shipped product or feature can hardly be considered done in the eyes of product, either.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;For a product manager, you&apos;re not done with a product (or feature) until you&apos;ve put it out to pasture,&lt;/code&gt; says Adam Sigel of Hometap [11]. 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Once it&apos;s launched, you begin the long tail of customer support, price changes, bug fixes, and compatibility updates. Once you&apos;re done supporting it, it&apos;s time to sunset it. Then, and only then, are you done with a product.&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&quot;dod-extension-in-ab&quot;&gt;DoD extension in AB&lt;/h2&gt;

&lt;p&gt;So for a specific user story, testers, developers and QA must ensure that specific AC are implemented.
But managers need to ensure that members DONE the AC correcly, at least in terms of workflow.
A typical DoD checklist is as follows:&lt;/p&gt;

&lt;ul class=&quot;task-list&quot;&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;Code is peer-reviewed&lt;/li&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;Code is checked in&lt;/li&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;Code is deployed to test environment&lt;/li&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;Code/feature passes regression testing&lt;/li&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;Code/feature passes smoke testing&lt;/li&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;Code is documented&lt;/li&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;Help documentation is updated&lt;/li&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;Feature is OK’d by stakeholders&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Without a fulfilled DoD, then the product was launch without a correct workflow and there might be bugs inside.
A perfect DoD is ensured and a continuous delivery is possible!&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;AB&lt;/strong&gt; by default doesn’t provide a checklist feature, however, user can use a items list like &lt;strong&gt;Define-of-Done&lt;/strong&gt; [8].
It helps a lot in ensuring the quality of a product.&lt;/p&gt;

&lt;h1 id=&quot;product-vision-to-know-what-you-are-working-for-in-long-term&quot;&gt;Product Vision: To know what you are working for in long-term&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;https://agile-extensions.gallerycdn.vsassets.io/extensions/agile-extensions/product-vision/2.0.26/1588400179018/assets/images/screenshot-product-vision-workhub.png&quot; style=&quot;float: left; margin: 10px; width: 50%;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Product Vision (PV)&lt;/strong&gt; is a slogan or motto of a product which describes the value that the product will give to end-users.
In Agile development, for a short-term, you will hear sprint goals, task descriptions, acceptance criteria, .etc.
All of them are for short durations, and you will see a part of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;big picture&lt;/code&gt;.
Such a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;big picture&lt;/code&gt; can be huge, and the owner may need to survey for a long time to give.
However, once the vision is clear, the owner can describe it in a short sentence, or a photo, a video, or anything which can represents the vision compactly.&lt;/p&gt;

&lt;p&gt;The Product Vision sheds light on the direction the development will working towards.
Let’s see the PV of SpaceX:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;SpaceX was founded under the belief that a future where humanity is out exploring the stars is fundamentally more exciting than one where we are not.
&lt;a href=&quot;https://www.spacex.com/careers/index.html?department=Food%2520Services&quot;&gt;Elon Musk&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h1 id=&quot;backlog-essentials-bringing-jira-back-to-azure-devops&quot;&gt;Backlog essentials: Bringing JIRA back to Azure DevOps&lt;/h1&gt;

&lt;iframe style=&quot;float: right; margin: 10px; width: 50%;&quot; src=&quot;https://www.youtube-nocookie.com/embed/q6n6nb7w3kU&quot; title=&quot;YouTube video player&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;If you are familiar with JIRA, some of the following features may comfort you:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Quick editting in backlog&lt;/li&gt;
  &lt;li&gt;Progressbar in issue views&lt;/li&gt;
  &lt;li&gt;Dynamic backlog charts (Insights)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;And when you switch to AB, you find that those features are not there.
&lt;strong&gt;Backlog essentials (BE, [10])&lt;/strong&gt; add them back to AB.
One downside is that it is not free, with a price of €288 per year!&lt;/p&gt;
&lt;h1 id=&quot;references&quot;&gt;References&lt;/h1&gt;

&lt;ol class=&quot;bibliography&quot;&gt;&lt;li&gt;&lt;span id=&quot;AzureBoa68:online&quot;&gt;&lt;i&gt;Azure Boards | Microsoft Azure&lt;/i&gt;. https://azure.microsoft.com/en-us/services/devops/boards/&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;meredith2017project&quot;&gt;Meredith, J. R., Shafer, S. M., &amp;amp; Mantel Jr, S. J. (2017). &lt;i&gt;Project management: a strategic managerial approach&lt;/i&gt;. John Wiley &amp;amp; Sons.&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;AzureRep87:online&quot;&gt;&lt;i&gt;Azure Repos – Git Repositories | Microsoft Azure&lt;/i&gt;. https://azure.microsoft.com/en-us/services/devops/repos/&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;AzurePip74:online&quot;&gt;&lt;i&gt;Azure Pipelines | Microsoft Azure&lt;/i&gt;. https://azure.microsoft.com/en-us/services/devops/pipelines/&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;AzureArt12:online&quot;&gt;&lt;i&gt;Azure Artifacts | Microsoft Azure&lt;/i&gt;. https://azure.microsoft.com/en-us/services/devops/artifacts/&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;AzureTes7:online&quot;&gt;&lt;i&gt;Azure Test Plans | Microsoft Azure&lt;/i&gt;. https://azure.microsoft.com/en-us/services/devops/test-plans/&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;AzureDev1:online&quot;&gt;&lt;i&gt;Azure DevOps Services Pricing | Microsoft Azure&lt;/i&gt;. https://azure.microsoft.com/en-us/pricing/details/devops/azure-devops-services/&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;Definiti31:online&quot;&gt;&lt;i&gt;Definition of Done - Visual Studio Marketplace&lt;/i&gt;. https://marketplace.visualstudio.com/items?itemName=agile-extensions.dod&amp;amp;ssr=false#overview&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;ProductV55:online&quot;&gt;&lt;i&gt;Product Vision - Visual Studio Marketplace&lt;/i&gt;. https://marketplace.visualstudio.com/items?itemName=agile-extensions.product-vision&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;BacklogE28:online&quot;&gt;&lt;i&gt;Backlog Essentials - Visual Studio Marketplace&lt;/i&gt;. https://marketplace.visualstudio.com/items?itemName=agile-extensions.backlog-essentials&amp;amp;ssr=false#overview&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span id=&quot;mediumco31:online&quot;&gt;&lt;i&gt;medium.com&lt;/i&gt;. https://medium.com/boston-product/the-true-definition-of-done-c6c254a0ff3e&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;</content><author><name>Tuan Nguyen-Anh</name></author><category term="pm" /><category term="programming" /><category term="project management" /><category term="dod" /><category term="define-of-done" /><category term="backlog" /><summary type="html">Source: ILikeSQLData Azure Boards (AB) [1] is an essential tool for Project Management [2] in software development projects. It provides enough capabilities to the PM to manage the software projects with work items, agile boards, and backlog/sprints for each agile team. Linking commits and PRs to working items in Azure Repos [3], Azure Pipelines [4], and Azure Artifacts [5], Azure Boards also supports enhanced code analytics. By integrating with Azure Test Plans [6] (however, it is not free [7], 52$ per user per month for all above with test plans) to track the whole quality assurance processes, it provides an excellent user experience for development teams. Some recent features like Analytics views also give the PM more confidence in making decisions. However, the Azure Boards also lacks several important features of a perfect backlog: First, there is no Define-of-Done (DoD) checklist in AB by default. Second, there is not a clear feature to demonstrate the Product Vision to teams. (There is a Delivery Plan to show the roadmap towards a specific release goal). Finally, if users are already familiar with other tools like JIRA, then AB has a poor backlog view. This post introduces several extensions to solve these problems: Define-of-Done [8], Product Vision [9], and Backlog Essentials [10].</summary></entry><entry><title type="html">Integromat: An integration platform for workflow automation</title><link href="https://wanted2.github.io/pm/non-english/2021/11/01/integromat.html" rel="alternate" type="text/html" title="Integromat: An integration platform for workflow automation" /><published>2021-11-01T00:00:00+09:00</published><updated>2021-11-01T00:00:00+09:00</updated><id>https://wanted2.github.io/pm/non-english/2021/11/01/integromat</id><content type="html" xml:base="https://wanted2.github.io/pm/non-english/2021/11/01/integromat.html">&lt;p&gt;&lt;img src=&quot;/assets/img/integromat01.png&quot; alt=&quot;integromat&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Cách đây gần chục năm, có 1 câu chuyện tôi từng chứng kiến như sau: có 1 anh sếp bạn tôi giao nhiệm vụ cho nhân viên mới vào làm.
Cậu nhân viên cũng mới vào ngành, nên nhiệm vụ cũng kiểu như các bài tập nhỏ để dần dần nắm bắt.
Hôm ấy, có giao cho 1 nhiệm vụ như thế này:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Sếp (S)&lt;/strong&gt;: Anh giao cho em một nhiệm vụ là thu thập dữ liệu từ nguồn cấp RSS (hiện tại có vài nghìn nguồn mở, bọn anh sẽ lên danh sách sau). Nhưng giờ anh có 1 nguồn là &lt;a href=&quot;https://vnexpress.net/rss/so-hoa.rss&quot;&gt;https://vnexpress.net/rss/so-hoa.rss&lt;/a&gt; mà bọn anh muốn thực hiện 1 workflow như sau:&lt;/p&gt;
  &lt;ul class=&quot;task-list&quot;&gt;
    &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;Đầu tiên lấy dữ liệu từ &lt;a href=&quot;https://vnexpress.net/rss/so-hoa.rss&quot;&gt;https://vnexpress.net/rss/so-hoa.rss&lt;/a&gt; và parse thành 1 list các bài báo.
      &lt;ul class=&quot;task-list&quot;&gt;
        &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;yêu cầu ở đây là filter chỉ lấy ra những bài báo nào mà phần giới thiệu có nói về &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AI&lt;/code&gt;.&lt;/li&gt;
        &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;Sau đó convert list của em lấy về thành CSV với tất cả các trường có thể lấy được.&lt;/li&gt;
        &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;Upload file CSV lên OneDrive của team.&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;Song song với luồng CSV là luồng post bài đăng lên room chat của team trên Gitter.im&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;S&lt;/strong&gt;: &lt;strong&gt;Em lên stack công nghệ và estimate làm trong bao lâu hộ anh trước được không?&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;!--more--&gt;

&lt;h1 id=&quot;đề-xuất-của-nhân-viên-em-xin-làm-2-tuần-ạ&quot;&gt;Đề xuất của nhân viên: Em xin làm 2 tuần ạ!&lt;/h1&gt;

&lt;p&gt;Bài toán này thực ra không có gì mới mẻ cả, mà là một dạng task mà trong đó có các thành phần của xây dựng một data warehouse cơ bản: luồng ETL cơ bản, lưu trữ dữ liệu dạng bảng (mà thực ra bảng cũng như SQL, về sau có thể thay thế bằng CSDL dạng quan hệ), rồi luồng thông báo cảnh báo lên chat hoặc SNS.
Vì hai luồng CSV và hook vào Gitter.im là song song nên có thể dính thêm tối ưu hóa đa nhiệm đa luồng.
Nói chung là 1 bài tập vừa sức và không quá hóc búa, một bài tập cơ bản cho kỹ sư data mới vào nghề.&lt;/p&gt;

&lt;p&gt;Trên đây là bản chất của bài toán, còn mục tiêu của đưa bài tập này với kỹ sư data lâu năm như anh bạn tôi thì là muốn xem mindset làm việc của nhân viên để còn bồi dưỡng dần dần.&lt;/p&gt;

&lt;p&gt;Dưới đây là bản đề xuất của cậu nhân viên:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Nhân viên K&lt;/strong&gt;: Em xin đề xuất làm việc như sau ạ:&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;ul&gt;
    &lt;li&gt;Với luồng CSV như anh giao, em sẽ dùng stack là &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Python&lt;/code&gt; để lấy nguồn cấp RSS, dùng các thư viện như sau: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xml&lt;/code&gt; để parse RSS tree, và &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pandas&lt;/code&gt; để tạo nội dung CSV, sau đó em dùng &lt;a href=&quot;https://docs.microsoft.com/en-us/onedrive/developer/rest-api/getting-started/?view=odsp-graph-online&quot;&gt;API&lt;/a&gt; của M$ để upload file lên OneDrive. Luồng này em estimate mất 7 ngày (4 ngày tạo file CSV và 3 ngày để upload lên OneDrive).&lt;/li&gt;
    &lt;li&gt;Với luồng post bài lên chat thì em phải đọc hiểu &lt;a href=&quot;https://developer.gitter.im/docs/welcome&quot;&gt;tài liệu&lt;/a&gt; của API của Gitter để post bài lên room, mất tầm 3 ngày nữa ạ.&lt;/li&gt;
    &lt;li&gt;Về kiến trúc để song song hóa hai luồng, em dùng &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;multiprocessing&lt;/code&gt; và &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;threading&lt;/code&gt; ạ.&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;Nhìn chung làm thế nào thì cũng được thôi.
&lt;strong&gt;Kết quả&lt;/strong&gt; mà ok thì cũng không vấn đề gì nếu quá trình có sai sót.
Có vấn đề sai sót ở quá trình thì cứ fix rồi commit lên mà đảm bảo kết quả cuối cùng ok thì không sao.
Tuy vậy kết quả kỳ vọng ở đây là gì?
CÓ 3 mặt:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;em&gt;tốc độ làm việc&lt;/em&gt;: phải nhanh, 2 tuần là đề xuất của K.&lt;/li&gt;
  &lt;li&gt;sản phẩm có tính &lt;em&gt;khả dụng&lt;/em&gt; cao:
    &lt;ul&gt;
      &lt;li&gt;&lt;em&gt;ít bugs ở sản phẩm đầu ra&lt;/em&gt;, còn các sản phẩm trung gian, các quá trình thì chả ai quan tâm. Code cũng được mà no-code, low-code cũng được.&lt;/li&gt;
      &lt;li&gt;&lt;em&gt;triển khai và vận hành được luôn và ít sự cố&lt;/em&gt;.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Danh sách chi tiết liệt kê ra thì còn dài nhưng mà tạm thời với bài tập về nhà kiểu này thì tôi nghĩ anh bạn tôi có tiêu chí đánh giá thế là ổn thỏa rồi.&lt;/p&gt;

&lt;p&gt;Nhìn chung, tôi và anh bạn tôi cũng không phải kiểu dò xét từng chi tiết khiến nhân viên cảm thấy &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bị soi&lt;/code&gt; khi làm việc, nên những chi tiết thì cứ giao các em làm, nhưng quản lý output và chất lượng.
Tuy nhiên, là bản đề xuất này coi như 1 output trung gian thì quả thực là hơi khiến anh em &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lăn tăn&lt;/code&gt;.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Thứ nhất, là estimate 10 man-days tức là 2 man-weeks, 2 tuần làm việc.&lt;/li&gt;
  &lt;li&gt;Thứ hai là cách làm có vẻ hơi đòi hỏi anh em quản lý phải monitor và theo dõi từng khâu trong quy trình để đảm bảo ít bugs. Như vậy là tăng tải cho anh em quản lý.&lt;/li&gt;
  &lt;li&gt;Thứ ba là khâu triển khai và vận hành hầu như ko có ý kiến gì trong đề xuất.&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;Với người mới thì cũng cứ tạm cho làm rồi anh em mình uốn nắn dần Tuấn ạ.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Đây là lời tâm huyết của anh bạn tôi lúc bắt đầu cho cậu nhân viên K làm việc này.
Tôi lúc đó cũng không biết nói thế nào nên cứ để nó chạy thử xem.&lt;/p&gt;

&lt;h1 id=&quot;đánh-giá-thực-ra-bọn-anh-làm-tầm-5-10-phút-là-xong-em-ạ-&quot;&gt;Đánh giá: Thực ra bọn anh làm tầm 5-10 phút là xong em ạ …&lt;/h1&gt;

&lt;p&gt;Nhưng bây giờ nghĩ lại, tôi thấy đáng ra nên đánh chặn ngay từ đầu!
Làm quản lý chả ai muốn &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;soi&lt;/code&gt; nhân viên cả, nhưng đề xuất làm như K là anh em phải chuẩn hóa quy trình, lên kế hoạch theo dõi, lên cảnh báo, …
trăm thứ bà rằn mà nói chung là &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tăng tải&lt;/code&gt; cho quản lý.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Kết cục là không chỉ 2 tuần mà quá trình “uốn nắn” kéo dài 6 tháng luôn mà lúc triển khai và vận hành cũng vẫn không yên tâm về sự cố bất thình lình.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Tại sao không nên đánh chặn ngay thì vì lý do giáo dục để hướng dẫn nhân viên cho lên dần dần.
Mình mà đánh chặn đôi khi lại gặp câu nói bất hủ:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Thế các anh làm đi?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Ừ thì các anh làm thì chỉ mất tầm 5-10 phút thôi em ạ!
Và bọn anh lấy ví dụ mẫu là nền tảng tích hợp dịch vụ &lt;a href=&quot;https://www.integromat.com/en&quot;&gt;integromat.com&lt;/a&gt; cho nó nhanh nhé.&lt;/p&gt;

&lt;h1 id=&quot;cấu-hình-integromat&quot;&gt;Cấu hình integromat&lt;/h1&gt;

&lt;h2 id=&quot;đăng-ký-tài-khoản&quot;&gt;Đăng ký tài khoản&lt;/h2&gt;

&lt;p&gt;Đầu tiên là cũng nên có điều tra về nền tảng integration xem có gói nào phù hợp nhất.
Tuy nhiên, theo tôi tìm hiểu thì mảng tích hợp này cũng khá bão hòa và nhiều nền tảng rồi.
Tính năng cũng same same nhau.
Thôi thì tạm chọn integromat nhé.&lt;/p&gt;

&lt;p&gt;Thì integromat cũng offer nhiều gói: &lt;a href=&quot;https://www.integromat.com/en/pricing&quot;&gt;https://www.integromat.com/en/pricing&lt;/a&gt;.
Gói Free để demo thử thì bạn sẽ chỉ tạo được tối đa 2 scenarios.
Scenario timeout chỉ được 5 phút, minimum interval giữa hai lần chạy của scenario chỉ tối thiểu 15 phút.
Webhook queue size (số lượng webhook được lên queue thực hiện) cũng nhỏ hơn, storage ngoài cũng chỉ được 1MB.&lt;/p&gt;

&lt;p&gt;Thì quay lại đầu bài thì thực ra cũng chỉ cần update ở tầm 60 phút một lần.
Các chỉ số khác là đủ cho bản demo, và quan trọng hơn là triển khai vận hành cũng đủ để dùng trong thực tế.&lt;/p&gt;

&lt;p&gt;Ngoài ra gói có phí cơ bản cũng chỉ 9$/tháng.&lt;/p&gt;

&lt;p&gt;Đầu tiên vào trang &lt;a href=&quot;https://www.integromat.com/en/register&quot;&gt;Sign up&lt;/a&gt; dịch vụ, điền thông tin và đăng ký free thôi.
Integormat sẽ gửi link verify vào email đăng ký, và bạn phải click vào link trong email đăng ký ấy để kích hoạt tài khoản.&lt;/p&gt;

&lt;p&gt;Nhìn chung quá trình này mất 1-2 phút.&lt;/p&gt;

&lt;p&gt;Khi bắt đầu thì sẽ có một nút bấm trong trang MyPage để guide bạn onboarding nhanh chóng:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/integromat02.png&quot; alt=&quot;integromat&quot; /&gt;&lt;/p&gt;
&lt;h2 id=&quot;thiết-kế-hệ-thống&quot;&gt;Thiết kế hệ thống&lt;/h2&gt;

&lt;p&gt;Bạn sẽ cần 1 trigger để theo dõi nguồn cấp RSS, một module để chuyển XML sang CSV, và một module để upload lên OneDrive.
Song song với đó, bạn cần 1 module để tích hợp với Gitter.im.
Bạn không nên quên &lt;strong&gt;xử lý lỗi&lt;/strong&gt; vì mọi module đều có thể có lỗi khi fetch data.&lt;/p&gt;

&lt;h2 id=&quot;cấu-hình-các-modules&quot;&gt;Cấu hình các modules&lt;/h2&gt;
&lt;h3 id=&quot;triggers&quot;&gt;Triggers&lt;/h3&gt;

&lt;p&gt;Đầu tiên bạn cần ấn nút &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Creat a scenario&lt;/code&gt; để tạo ra một kịch bản thực thi cho nhiệm vụ.
Mọi xử lý sẽ bắt đầu từ 1 &lt;strong&gt;trigger&lt;/strong&gt; mà bạn sẽ dùng RSS để bắt đầu.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/integromat03.png&quot; alt=&quot;integromat&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Hãy chọn &lt;strong&gt;Watch RSS feed items&lt;/strong&gt;.
Trong cửa sổ tiếp theo hãy chọn &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Show advanced settings&lt;/code&gt;, nhập nguồn RSS và click OK.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/integromat04.png&quot; alt=&quot;integromat&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Trong cửa sổ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Choose where to start&lt;/code&gt; thì cứ chọn &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;From now on&lt;/code&gt; cũng ok.
Thế là bạn đã có 1 trigger mà cứ mỗi khi có thay đổi trên nguồn cấp đã cho (tần suất kiểm tra sẽ cấu hình sau), thì lập tức trigger sẽ chạy luồng mà bạn sẽ cấu hình tiếp theo.&lt;/p&gt;

&lt;h3 id=&quot;xml-to-csv&quot;&gt;XML to CSV&lt;/h3&gt;

&lt;p&gt;Nhấn vào nút &lt;strong&gt;Add a module&lt;/strong&gt; như hình dưới:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/integromat05.png&quot; alt=&quot;integromat&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Sau đó chọn module &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CSV&lt;/code&gt; từ danh sách:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/integromat06.png&quot; alt=&quot;integromat&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Sau đó bạn có thể nhập chọn những trường sẽ lấy từ nguồn RSS để tạo ra file CSV:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/integromat07.png&quot; alt=&quot;integromat&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Bạn có thể chọn GROUP BY bằng trường tùy thích.
Trên đây tôi chọn theo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;updated_at&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;upload-to-onedrive&quot;&gt;Upload to OneDrive&lt;/h3&gt;

&lt;p&gt;Để upload CSV lên OneDrive, bạn cần add thêm module OneDrive:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/integormat08.png&quot; alt=&quot;integromat&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Hãy chọn &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Upload file&lt;/code&gt; ở cửa sổ chọn chức năng:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/integromat09.png&quot; alt=&quot;integromat&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Sau đó chọn &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Add&lt;/code&gt; để authenticate vào OneDrive:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/integromat10.png&quot; alt=&quot;integromat&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Sau đó một pop-up sẽ mở ra để bạn xác nhận quyền truy cập của ứng dụng integromat vào OneDrive.
Khi xong bước này bạn sẽ quay lại thiết lập &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Folder&lt;/code&gt; thành &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/&lt;/code&gt;, tên file thành &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.xml&lt;/code&gt; và dữ liệu là &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;text&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/integromat11.png&quot; alt=&quot;integromat&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Để tránh lỗi bạn nên chọn &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Rename existing files&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;routing&quot;&gt;Routing&lt;/h3&gt;

&lt;p&gt;Vậy là bạn đã xong luồng thứ nhất mà chưa mất đến 5 phút đâu.
Trước khi add luồng thứ 2, chúng ta cần có 1 module để song song hóa, kiểu như &lt;strong&gt;Router&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/integromat12.png&quot; alt=&quot;integromat&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Sau khi thêm router thì thiết kế của bạn sẽ như sau:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/integromat13.png&quot; alt=&quot;integromat&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;post-news-to-chat-room&quot;&gt;Post news to Chat room&lt;/h3&gt;

&lt;p&gt;Từ Router hãy tạo thêm 1 luồng mới và tìm module Gitter:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/integromat14.png&quot; alt=&quot;integromat&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Hãy chọn &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send a mesage to a room&lt;/code&gt;:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/integromat15.png&quot; alt=&quot;integromat&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Bạn sẽ phải đăng nhập và cấp quyền truy cập cho integromat vào Gitter.im.
Một cửa sổ popup sẽ mửo ra sau khi bạn nhấn &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Add&lt;/code&gt;.
&lt;img src=&quot;/assets/img/integromat16.png&quot; alt=&quot;integromat&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Chú ý là Gitter chỉ chấp nhận đăng nhập qua Gitlab, Github và Twitter.
Đây là kênh chat dành riêng cho developer.
Tôi chọn twitter thôi.&lt;/p&gt;

&lt;p&gt;Sau khi cấp quyền thành công, bạn sẽ quay lại integromat, và cấu hình tin nhắn sẽ lên Gitter.
Bạn có thể dùng định dạng mẫu markdown để post bài.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/integromat17.png&quot; alt=&quot;integromat&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Vậy đấy luồng số 2 đã xong trong chưa đầy 1 phút.&lt;/p&gt;

&lt;h3 id=&quot;error-handling&quot;&gt;Error handling&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/integromat18.png&quot; style=&quot;width:50%; margin: 10px; float: right;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Xử lý lỗi luôn là một phần quan trọng của lập trình phần mềm.
Lỗi luôn xảy ra và cách handle lỗi rất quan trọng.
Bạn click chuột phải vào module cần xử lý lỗi và chọn &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Add error handlers&lt;/code&gt;.
Đó là tất cả việc bạn sẽ cần làm để bắt đầu xử lý lỗi trên integromat.
&lt;strong&gt;Tiện quá đúng không?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/integromat19.png&quot; style=&quot;width:50%; margin: 10px; float: left;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Vậy nội dung hàm xử lý lỗi sẽ như thế nào?&lt;/strong&gt;
Bạn có thể dùng &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;directives (điều hướng)&lt;/code&gt; hoặc chạy một module nào đó.
Có vài điều hướng cơ bản:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Rollback&lt;/code&gt;: revert lại mọi thay đổi.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Break&lt;/code&gt;: dừng tại đó.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Resume&lt;/code&gt; một xử lý nào đó đang bị gián đoạn.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Commit&lt;/code&gt; một thay đổi hiện có.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ignore&lt;/code&gt; luôn!&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Trong ví dụ hiện tại, tôi tạm thời cho &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;next&lt;/code&gt; luôn, tức là dùng &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ignore&lt;/code&gt; cho upload file.&lt;/p&gt;

&lt;p&gt;Làm tương tự với các module khác, bạn có thể đảm bảo có xử lý lỗi trong từng trường hợp cụ thể.
Với module CSV convert thì tôi chọn &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Break&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Mô hình thực thi cuối cùng như sau:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/integromat20.png&quot; alt=&quot;integromat&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;filters&quot;&gt;Filters&lt;/h3&gt;

&lt;p&gt;Để thực hiện điều kiện filter những tin có liên quan tới &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AI&lt;/code&gt;, bạn có thể dùng chức năng filter của integromat như sau.
Click vào link giữa trigger và router:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/integromat21.png&quot; alt=&quot;integromat&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;test&quot;&gt;Test&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/integromat22.png&quot; style=&quot;width:30%; margin: 10px; float: right;&quot; /&gt;
Testing là phần cần thiết trong phát triển phần mềm.
Các module đã được phát triển có SLA khá cao và unit testing cẩn thận nên ta sẽ skip UT lần này.
API testing cũng không cần vì các module đã được test cẩn thận và có SLA rồi.
Vậy ta cần test tích hợp (IT) thì sẽ có nút bấm &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Run once&lt;/code&gt;.
Tuy nhiên, bạn sẽ phải cần cấu hình Scenario như bên dưới:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/integromat23.png&quot; style=&quot;width:50%; margin: 10px; float: left;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Sau đó thì bạn sẽ thực hiện testing nhiều lần, cứ có bugs thì lại fix cho đến khi thấy mỹ mãn thì chuyển tới mục tiếp theo để vận hành thôi.&lt;/p&gt;

&lt;h2 id=&quot;vận-hành&quot;&gt;Vận hành&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/integromat24.png&quot; style=&quot;width:30%; margin: 10px; float: right;&quot; /&gt;
Trước khi triển khai vận hành, bạn phải cấu hình một chút về tần suất fetch news.
Như đã nói tần suất tầm 60 phút cũng ổn.&lt;/p&gt;

&lt;p&gt;Sau đó bạn ấn vào cái Switch button để chuyển sang ON/OFF là xong.&lt;/p&gt;

&lt;h1 id=&quot;kết-luận&quot;&gt;Kết luận&lt;/h1&gt;

&lt;p&gt;Chúng ta đã điểm lại cách implement một dịch vụ fetch news và parse XML-to-CSV và post bài lên OneDrive cũng như Gitter.
Có áp dụng cả filter, router, …
Có đủ cả testing, vận hành, xử lý lỗi, … nên nhìn chung là một luồng ổn định để chiến lâu dài.&lt;/p&gt;

&lt;p&gt;Nhìn chung cách làm nào cũng được, nhưng dùng nền tảng có SLA cao thì anh em yên tâm hơn về xử lý sự cố, xử lý lỗi, …
Khi có vấn đề gì thì cứ theo luồng mà chạy thôi nên độ tự tin nó cao.&lt;/p&gt;</content><author><name>Tuan Nguyen-Anh</name></author><category term="pm" /><category term="non-english" /><category term="programming" /><category term="project management" /><category term="workflow automation" /><category term="cicd" /><category term="notifications" /><summary type="html">Cách đây gần chục năm, có 1 câu chuyện tôi từng chứng kiến như sau: có 1 anh sếp bạn tôi giao nhiệm vụ cho nhân viên mới vào làm. Cậu nhân viên cũng mới vào ngành, nên nhiệm vụ cũng kiểu như các bài tập nhỏ để dần dần nắm bắt. Hôm ấy, có giao cho 1 nhiệm vụ như thế này: Sếp (S): Anh giao cho em một nhiệm vụ là thu thập dữ liệu từ nguồn cấp RSS (hiện tại có vài nghìn nguồn mở, bọn anh sẽ lên danh sách sau). Nhưng giờ anh có 1 nguồn là https://vnexpress.net/rss/so-hoa.rss mà bọn anh muốn thực hiện 1 workflow như sau: Đầu tiên lấy dữ liệu từ https://vnexpress.net/rss/so-hoa.rss và parse thành 1 list các bài báo. yêu cầu ở đây là filter chỉ lấy ra những bài báo nào mà phần giới thiệu có nói về AI. Sau đó convert list của em lấy về thành CSV với tất cả các trường có thể lấy được. Upload file CSV lên OneDrive của team. Song song với luồng CSV là luồng post bài đăng lên room chat của team trên Gitter.im S: Em lên stack công nghệ và estimate làm trong bao lâu hộ anh trước được không?</summary></entry><entry><title type="html">日本流【幹事】について</title><link href="https://wanted2.github.io/non-english/pm/2021/10/23/kanji.html" rel="alternate" type="text/html" title="日本流【幹事】について" /><published>2021-10-23T00:00:00+09:00</published><updated>2021-10-23T00:00:00+09:00</updated><id>https://wanted2.github.io/non-english/pm/2021/10/23/kanji</id><content type="html" xml:base="https://wanted2.github.io/non-english/pm/2021/10/23/kanji.html">&lt;p&gt;&lt;img src=&quot;https://www.insource.co.jp/common/img/column/column_project-management-top.jpg&quot; alt=&quot;幹事さん&quot; /&gt;
&lt;em&gt;出典： &lt;a href=&quot;https://www.insource.co.jp/contents/column_project-management.html&quot;&gt;insource.jp&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;昔数回「幹事をしろう」と言われたことがあるけど、よく幹事のお仕事について少し知識不足でした。
ホッとするともう2012年2013年ごろだったので、今だと8年か9年前の話でした。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://www.insource.co.jp/contents/column_project-management.html&quot;&gt;プロジェクト・マネージャーには幹事力があった方がいい。&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;月日が経ってPM職にはなぜ【幹事力】が必要か少し理解できるようになりました。
日本語の中に【カンジ】というと【漢字】と書けるし、【幹事】と【監事】とも書けます。
もちろん、PMには字を読めないといけないので、【漢字力】が必要ですし、
日々でプロジェクトの品質や正常な状態を保つためには、監査作業を行うのも重要で、その監査を行うには【監事力】も必要になりますが、
総合的にPJをちゃんと稼働させるためには、【幹事力】は大事だなと思っています。&lt;/p&gt;

&lt;!--more--&gt;

&lt;h1 id=&quot;幹事とは&quot;&gt;幹事とは&lt;/h1&gt;

&lt;p&gt;日本語にはよくある現象ですが、読み方が同じものでも、書き方が違って意味が違うものがちらほらあります。
【カンジ】もそのシャドウ現象の一例です。
日本語学校に通った時で、2千文字以上の漢字を学んだことがあるけど、日本語能力試験には【漢字力】が必要なためです。
プロジェクトマネジメントの側面に近いけれども、PJはちゃんとしているか監査作業が必要になり、監査を行った後には、監査報告書を書くことになり、【監事力】が必要な場合も珍しくありません。
しかし、この二つのカンジと重なって、【幹事】というものもあります。
主に飲み会の幹事などよく見られています。
飲み会だろうから、PMには関係ないじゃないか。
業務外の話じゃないかと思うかもしれませんが、実際にはよくPMの話と重なっています。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;「自分がプロジェクトリーダーになる際不安なことはなんですか？」という質問への回答として、以下のようなお悩みをよく伺います。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;ul&gt;
    &lt;li&gt;目的やゴールの設定が苦手&lt;/li&gt;
    &lt;li&gt;スケジュールや計画の立て方がわからない&lt;/li&gt;
    &lt;li&gt;関係部署と綿密な連携（コミュニケーション）が取れるか不安&lt;/li&gt;
    &lt;li&gt;重視するリスクがわからない&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;これも幹事さんの悩みと良く重なっています。
&lt;strong&gt;幹事力を持っている方はPM力も鍛えます。&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;幹事をやるとPMの仕組み、【定義】、【計画・事前準備】、【実施】、【終結】などのステップを鍛えることができるメリットがあります。
しかし、それだけではなく、メンバー間の関係を密にさせたり、チームを盛り上げて生産力を向上したりするために、行事を催すことも大事です。
その行事をうまく開催するためには、もちろん幹事さんは必要で監事力もある場面で不可欠な要素です。&lt;/p&gt;

&lt;h1 id=&quot;幹事力を身につく&quot;&gt;幹事力を身につく&lt;/h1&gt;

&lt;h2 id=&quot;ワークフローを稼働する前に&quot;&gt;ワークフローを稼働する前に&lt;/h2&gt;

&lt;p&gt;幹事さんのお仕事、特にチームワークの時のイベントの幹事さんのお仕事は、仕事ですので、決まったフローがあります。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/kanji-workflow.svg&quot; alt=&quot;workflow&quot; /&gt;&lt;/p&gt;

&lt;p&gt;飲み会を催すことなんだけれども、プロジェクト管理に近いですね。&lt;/p&gt;

&lt;h2 id=&quot;定義&quot;&gt;定義&lt;/h2&gt;

&lt;p&gt;まず、PMの【要件定義】と同様に、幹事職に就く時には、&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;目的&lt;/strong&gt;：なんのためにこの会を行うか
↓&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;主役決め&lt;/strong&gt;: 誰が何を担当するか。諸段階では、数人のPIを読んで構成を作ることもPMではよくあるシナリオで、幹事の場合、幹事さんが連絡担当や注文担当などを決めて進める。
↓&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;工夫&lt;/strong&gt;: 主役メンバーの会議でどの工夫を行って主役も参加メンバーも会を楽しめるか一緒に決めといた方が良い。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;目的や開催テーマを決めない場合、話しづらいという会はよくありますので、事前に主役メンバーで決めて、参加メンバーの間の会話を促進すると良いでしょう。
テーマを決めないでそのまま進めてしまうというありがちなミスは若手幹事にはよくあります。&lt;/p&gt;

&lt;h2 id=&quot;事前準備&quot;&gt;事前準備&lt;/h2&gt;

&lt;p&gt;【要件定義】はある程度出来たら、次にようやく計画段階に入れます。
スケジュール管理やリソース管理は先に行い、リスク管理を考えて、上長の承認とメンバーへの通知をするという流れはPM職にはよくあります。
偶然にも幹事のお仕事にも同じワークフローがあります。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/kanji-plan.svg&quot; alt=&quot;planning&quot; /&gt;&lt;/p&gt;

&lt;p&gt;まず、決めたテーマはチームのニーズに合うかどうか&lt;strong&gt;ニーズ調査&lt;/strong&gt;を行ってテーマを調整した方がいいです。
チームのニーズにあったテーマが出来上がったら、参加者を絞って、&lt;strong&gt;参加者名簿&lt;/strong&gt;を作ればいいです。
後で連絡やリマインドを送るためにはメーリングリスト（ML）を作ったらいいでしょう。
その次に、平行に行えると思うが、&lt;strong&gt;日程調整&lt;/strong&gt;と&lt;strong&gt;場所調整&lt;/strong&gt;をメンバー間で話せます。
日程調整の際に、メンバーの出欠確認も同時に行えることがあります。
開催時間も事前にチームで合意をとった方がよいでしょう。
長すぎて拘束時間は大幅になると若者が飽きてしまうため、2時間程度で良いと思われます。
場所、つまり、お店を選択する際に、メンバーのこだわりを聞いた方が良いが、事前に可能なお店のリストを作って、皆の投票で決める手段も良いです。
アレルギーがあるメンバーもいるかもしれないため、場所を選択する時、考慮した方が無事です。
また、すべての決断をチームで行うことも第一原則で、チームの中には&lt;strong&gt;透明性&lt;/strong&gt;があげられます。&lt;/p&gt;

&lt;p&gt;メンバーと日程と場所が決まったら、計画はほぼ完了したが、ここで一旦リスクを見直した方がいいです。
&lt;strong&gt;リスク管理&lt;/strong&gt;を行うときに、プロジェクトがうまくいかない原因に、「事前の下調べが足りておらず、プロジェクト進行中や後日トラブルが発生することになった」というものを気づけた方が無難です。
幹事の場合、お店の選定にリスクが潜んでいます。最近は、検索サイトで便利にお店を探すことができますが、リスクマネジメントの観点から下見をおすすめします。
上級者を目指すならお店の責任者と名刺交換し、会の趣旨を伝えておくと万全です。
お店のホスピタリティもわかって安心ですね。
あとは、資金調達もやったらいいです。
支払方法を皆の都合に合わせばいいんで、終了後でも決められます。
あとは、二次会が出て、遅くなるとどうするか、気配ったら良い計画になるであろう。&lt;/p&gt;

&lt;p&gt;リスクをちゃんと管理できれば、次に、予約する前に、一回上長と相談し、経験のある方に意見をもらって&lt;strong&gt;承認&lt;/strong&gt;をいただくと無難でしょう。
&lt;strong&gt;予約&lt;/strong&gt;が出来たら、案内状をチームに告知する必要があります。
これも&lt;strong&gt;進捗報告&lt;/strong&gt;という義務です。
最後に、&lt;strong&gt;出欠確認&lt;/strong&gt;も忘れずに行きましょう。&lt;/p&gt;

&lt;h2 id=&quot;実施&quot;&gt;実施&lt;/h2&gt;

&lt;p&gt;ようやく実施に入ります。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/kanji-implement.svg&quot; alt=&quot;implementation&quot; /&gt;&lt;/p&gt;

&lt;p&gt;多忙で忘れてしまうメンバーもいるので、開催当日の朝礼や前日には一回&lt;strong&gt;リマインド&lt;/strong&gt;をした方がよいです。
メールで連絡するとわからない人もいるので、チャットや口頭で確認したらいいです。
会の前にお店へ&lt;strong&gt;移動&lt;/strong&gt;します。
予約時間にするときにアクセスも重要なポイントで、できるだけ皆はすぐにアクセスできるお店を選びます。
予約時間に遅れそうな場合、お店に連絡します。
会計の方法と時間も確認します。
&lt;strong&gt;開始&lt;/strong&gt;の際には、席へメンバーを誘導し、注文を始めます。
&lt;strong&gt;進行中&lt;/strong&gt;には、乾杯や挨拶、遅れたメンバーの追加注文などのイベントも忘れずにやっていきましょう。
&lt;strong&gt;会話を盛り上げる&lt;/strong&gt;ためには、司会役も工夫を行いましょう。
会の&lt;strong&gt;後半&lt;/strong&gt;になると、スピーチなどで会を盛り上げます。
&lt;strong&gt;終了時&lt;/strong&gt;に忘れ物がないように、注意の声をかけ、会計もちゃんとしましょう。&lt;/p&gt;

&lt;h2 id=&quot;事後報告&quot;&gt;事後報告&lt;/h2&gt;

&lt;p&gt;実施終了はPJの終了ではない。
同様に会の実施終了後にも幹事さんがやる仕事があります。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;安否確認&lt;/strong&gt;でメンバーがちゃんと帰宅できたかやった方が無難です。人というリソースを大事にするためです。&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;報告書&lt;/strong&gt;を書いた方がいいです。上長が実施状況がわかるように、メンバーも今後の実施の改善になる要素です。&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;振り返り&lt;/strong&gt;は主役メンバーで行い、今後改善する可能性を開けます。参加メンバーを誘っても良いです。&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;ツール&quot;&gt;ツール&lt;/h2&gt;

&lt;p&gt;私は昔幹事さんをサポートするツールの開発にもかかわった経験があったが、それが10年前の話でした。
現在、世の中に幹事さんの業務フロー全体をサポートするツールはたくさんあります。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;定義や計画を書きコミュニケーションを補足するためには、GoogleのMeetやOfficeやSlackなど充実しています。&lt;/li&gt;
  &lt;li&gt;日程調整は、&lt;a href=&quot;https://chouseisan.com/&quot;&gt;調整さん&lt;/a&gt;や&lt;a href=&quot;https://www.polly.ai/&quot;&gt;Polly&lt;/a&gt;などのツールがあります。PollyはチャットツールのSlackやTeamsにも連携できます。&lt;/li&gt;
  &lt;li&gt;場所調整のために、&lt;a href=&quot;https://tabelog.com/&quot;&gt;食べログ&lt;/a&gt;などを使えばいいでしょう。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;一つの場所にまとまっていないが、コンボで利用できるので、幹事さんもPMさんもコンボ利用を使っているのであろう。
今後、すべて一つの場所に集中する基盤があるといいかもしれません。&lt;/p&gt;

&lt;h1 id=&quot;なぜそれが重要か幹事に学ぶプロジェクトマネジメント&quot;&gt;なぜそれが重要か：幹事に学ぶプロジェクトマネジメント&lt;/h1&gt;

&lt;h2 id=&quot;チームワークを良くする&quot;&gt;チームワークを良くする&lt;/h2&gt;

&lt;p&gt;行事は飲み会だけではなく、PJ内で情報を共有し、透明性をあげ効率を向上する勉強会などの開催もしばしば必要になります。
これらの会を行うおかげで、チームワークをスムーズに活性化できます。
信頼関係を構築できるし、楽しく働けます。&lt;/p&gt;

&lt;h2 id=&quot;チームワークの効率の改善&quot;&gt;チームワークの効率の改善&lt;/h2&gt;
&lt;p&gt;長時間でコードを書いて、飽きてしまって、効率も悪くなるし、モチベーションも下がってしまうため、さぼることは避けられません。
これは開発現場の実践でした。
もう10年前の話だったが、幹事さんの立場を大事にしなければなりません。
PMも幹事力を身に付きましょう。&lt;/p&gt;

&lt;h1 id=&quot;結論&quot;&gt;結論&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/chouseisan.png&quot; alt=&quot;implementation&quot; /&gt;
&lt;em&gt;出典： &lt;a href=&quot;https://chouseisan.com/&quot;&gt;調整さん&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;偶然にも、幹事さんもPMさんも似ているワークフローでチームワークを向上しています。
行事は飲み会だけではなく、勉強会などでも幹事力を身についた方が良いです。
例えば、↑の図で&lt;a href=&quot;https://chouseisan.com/&quot;&gt;調整さん&lt;/a&gt;の対象行事の一覧を引用しますが、飲み会以外にも同窓会や忘年会なども対象です。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;最後に確かに、PMさんもその幹事力を身につきましょう。&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;</content><author><name>Tuan Nguyen-Anh</name></author><category term="non-english" /><category term="pm" /><category term="project management" /><category term="kanji" /><summary type="html">出典： insource.jp 昔数回「幹事をしろう」と言われたことがあるけど、よく幹事のお仕事について少し知識不足でした。 ホッとするともう2012年2013年ごろだったので、今だと8年か9年前の話でした。 プロジェクト・マネージャーには幹事力があった方がいい。 月日が経ってPM職にはなぜ【幹事力】が必要か少し理解できるようになりました。 日本語の中に【カンジ】というと【漢字】と書けるし、【幹事】と【監事】とも書けます。 もちろん、PMには字を読めないといけないので、【漢字力】が必要ですし、 日々でプロジェクトの品質や正常な状態を保つためには、監査作業を行うのも重要で、その監査を行うには【監事力】も必要になりますが、 総合的にPJをちゃんと稼働させるためには、【幹事力】は大事だなと思っています。</summary></entry></feed>